{"ast":null,"code":"export default {\n  data() {\n    return {\n      showChoose: false,\n      user: {},\n      username: '',\n      password: '',\n      repeatPassword: '',\n      showModalUserName: false,\n      showModalPassword: false,\n      ChangeWrongText1: '',\n      ChangeWrongText2: '',\n      ChangeWrongText3: '',\n      wrong1: false,\n      wrong2: false,\n      wrong3: false,\n      booklist: [],\n      thisbook: {}\n    };\n  },\n\n  props: {},\n  created: function () {\n    this.user = this.$store.state.user;\n    this.getUserRecord(this.user.userid);\n  },\n  watch: {},\n  methods: {\n    Change1() {\n      this.showChoose = false;\n    },\n\n    Change2() {\n      this.showChoose = true;\n    },\n\n    changeUserName() {\n      this.showModalUserName = true;\n    },\n\n    changePassword() {\n      this.showModalPassword = true;\n    },\n\n    usernameOnBluer() {\n      console.log('usernameOnBluer');\n\n      if (this.username == '') {\n        this.wrong1 = true;\n        this.ChangeWrongText1 = '用户名不能为空';\n      } else {\n        this.wrong1 = false;\n        this.ChangeWrongText1 = '';\n      }\n    },\n\n    passwordOnBluer() {\n      var reg = /^(?=.*[0-9])(?=.*[a-zA-Z]).{6,16}$/;\n\n      if (this.password == '') {\n        this.wrong2 = true;\n        this.ChangeWrongText2 = '密码不能为空';\n      } else if (!reg.test(this.password)) {\n        this.wrong2 = true;\n        this.ChangeWrongText2 = '密码必须包含字母、数字、且位于6-16位之间';\n      } else {\n        this.wrong2 = false;\n        this.ChangeWrongText2 = '';\n      }\n    },\n\n    repeatPasswordOnBluer() {\n      if (this.repeatPassword == '') {\n        this.wrong3 = true;\n        this.ChangeWrongText3 = '确认密码不能为空';\n      } else if (this.password == this.repeatPassword) {\n        this.wrong3 = false;\n        this.ChangeWrongText3 = '';\n      } else {\n        this.wrong3 = true;\n        this.ChangeWrongText3 = '确认密码与密码不一致';\n      }\n    },\n\n    //ajax请求 方法\n    SubmitUserName() {\n      if (this.wrong1 === false) alert(this.username);\n    },\n\n    //表单：修改用户名  发送：用户id 新用户名\n    SubmitPassword() {\n      if (this.wrong2 === false && this.wrong3 === false) alert(this.password);\n    },\n\n    //表单：修改密码  发送：用户id 新密码\n    getUserRecord(userid) //发送 userid  接收书本信息\n    {\n      if (this.$store.state.isLogin == true) {\n        //修改booklist\n        this.booklist.push({\n          bookid: 1,\n          bookname: 'Book' + 1,\n          bookauthor: 'author' + 1,\n          bookpublisher: 'publisher' + 1,\n          booktag: 'amusement'\n        });\n      }\n    }\n\n  },\n\n  setup() {\n    return {\n      bodyStyle: {\n        width: \"500px\"\n      },\n      bodyStyle2: {\n        width: \"600px\"\n      }\n    };\n  }\n\n};","map":{"version":3,"mappings":"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","names":["data","showChoose","user","username","password","repeatPassword","showModalUserName","showModalPassword","ChangeWrongText1","ChangeWrongText2","ChangeWrongText3","wrong1","wrong2","wrong3","booklist","thisbook","props","created","$store","state","getUserRecord","userid","watch","methods","Change1","Change2","changeUserName","changePassword","usernameOnBluer","console","log","passwordOnBluer","reg","test","repeatPasswordOnBluer","SubmitUserName","alert","SubmitPassword","isLogin","push","bookid","bookname","bookauthor","bookpublisher","booktag","setup","bodyStyle","width","bodyStyle2"],"sourceRoot":"","sources":["G:\\VUE_FDS\\fluent-vue\\src\\components\\PersonSpace.vue"],"sourcesContent":["<template>\r\n  <div class=\"div-space\">\r\n      <div class=\"space-choose\">\r\n          <n-button  strong secondary type=\"info\"  class=\"choose-button\"  @click=\"Change1\">\r\n            个人信息\r\n          </n-button>\r\n          <n-button  strong secondary type=\"info\"  class=\"choose-button\"  @click=\"Change2\">\r\n            借书情况\r\n          </n-button>\r\n      </div>\r\n      <div class=\"show-space\">\r\n\r\n\r\n        <div class=\"show-data\" v-if=\"showChoose==false\">\r\n          <div class=\"data-div\">\r\n            <div class=\"show-list\">\r\n              <div class=\"list-left\">用户id</div>\r\n              <div class=\"list-right\">{{user.userid}}</div>\r\n            </div>\r\n            <div class=\"show-list\">\r\n              <div class=\"list-left\">用户名</div>\r\n              <div class=\"list-right\">{{user.username}}</div>\r\n              <div class=\"change-data\">\r\n                <img src=\"@/assets/change.jpeg\" @click=\"changeUserName\">\r\n              </div>\r\n            </div>\r\n            <div class=\"show-list\">\r\n              <div class=\"list-left\">密码</div>\r\n              <div class=\"list-right\">{{user.password}}</div>\r\n              <div class=\"change-data\">\r\n                <img src=\"@/assets/change.jpeg\" @click=\"changePassword\">\r\n              </div>\r\n            </div>\r\n            <div class=\"show-list\">\r\n              <div class=\"list-left\">已借本数</div>\r\n              <div class=\"list-right\"></div>\r\n            </div>\r\n          </div>\r\n            <n-modal\r\n              v-model:show=\"showModalUserName\"\r\n              class=\"custom-card\"\r\n              preset=\"card\"\r\n              :style=\"bodyStyle\"\r\n              title=\"修改用户名\"\r\n              :mask-closable=\"false\"\r\n              size=\"huge\"\r\n              :bordered=\"false\"\r\n              :segmented=\"segmented\"\r\n              >\r\n              <template #header-extra>\r\n              </template>\r\n              <div class=\"modalA\">\r\n                <div class=\"modal-changeUserName\">\r\n                  <div class=\"input-headtext\">用户名：</div>\r\n                  <input class=\"input-change\" type=\"text\" v-model=\"username\"  placeholder=\"在此处输入用户名\" @blur=\"usernameOnBluer\" />\r\n                  <div v-show=\"this.wrong1==true\" class=\"wrong-text\">{{ChangeWrongText1}}</div>\r\n                </div>\r\n                <div class=\"button-div\">\r\n                 <button class=\"change-button\" @click=\"showModalUserName=false\">取消</button>\r\n                  <button class=\"change-button\" @click=\"SubmitUserName()\">确认</button>\r\n                </div>\r\n              </div>\r\n            </n-modal>\r\n\r\n\r\n            <n-modal\r\n              v-model:show=\"showModalPassword\"\r\n              class=\"custom-card\"\r\n              preset=\"card\"\r\n              :style=\"bodyStyle2\"\r\n              title=\"修改用户名\"\r\n              :mask-closable=\"false\"\r\n              size=\"huge\"\r\n              :bordered=\"false\"\r\n              :segmented=\"segmented\"\r\n              >\r\n              <template #header-extra>\r\n              </template>\r\n              <div class=\"modalB\">\r\n                <div class=\"modal-changePassword\">\r\n                    <div class=\"input-headtext\">密码：</div>\r\n                    <input class=\"input-change\" type=\"password\" v-model=\"password\"  placeholder=\"在此处输入密码\" @blur=\"passwordOnBluer();repeatPasswordOnBluer()\" />\r\n                    <div v-show=\"this.wrong2==true\" class=\"wrong-text\">{{ChangeWrongText2}}</div>\r\n                </div>\r\n                <div class=\"modal-changePassword\">\r\n                  <div class=\"input-headtext\">确认密码：</div>\r\n                  <input class=\"input-change\" type=\"password\" v-model=\"repeatPassword\"  placeholder=\"在此处输入确认密码\" @blur=\"repeatPasswordOnBluer();passwordOnBluer()\" />\r\n                  <div v-show=\"this.wrong3==true\" class=\"wrong-text\">{{ChangeWrongText3}}</div>\r\n                </div>\r\n                <div class=\"button-div\">\r\n                 <button class=\"change-button\" @click=\"showModalPassword=false\">取消</button>\r\n                  <button class=\"change-button\" @click=\"SubmitPassword()\">确认</button>\r\n                </div>\r\n              </div>\r\n          </n-modal>\r\n        </div>\r\n\r\n\r\n        <div class=\"space-div-book\" v-if=\"showChoose==true\">\r\n          <div class=\"space-book-list\">\r\n          <div class=\"space-book-container\">\r\n            <div class=\"space-book-show\">\r\n                <div class=\"space-book-showleft\">书籍名称</div>\r\n                <div class=\"space-book-showright\">{{thisbook.bookname}}</div>\r\n            </div>\r\n            <div class=\"space-book-show\">\r\n                <div class=\"space-book-showleft\">书籍编号</div>\r\n                <div class=\"space-book-showright\">{{thisbook.bookid}}</div>\r\n             </div>\r\n            <div class=\"space-book-show\">\r\n                <div class=\"space-book-showleft\">书籍作者</div>\r\n                <div class=\"space-book-showright\">{{thisbook.bookauthor}}</div>\r\n            </div>\r\n            <div class=\"space-book-show\">\r\n                <div class=\"space-book-showleft\">出版社</div>\r\n                <div class=\"space-book-showright\">{{thisbook.bookpublisher}}</div>\r\n            </div>\r\n            <div class=\"space-book-show\">\r\n                <div class=\"space-book-showleft\">类型</div>\r\n            <div class=\"space-book-showright\">{{thisbook.booktag}}</div>\r\n            </div>\r\n          </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n      \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\ndata(){\r\n  return {\r\n    showChoose:false,\r\n    user:{},\r\n    username:'',\r\n    password:'',\r\n    repeatPassword:'',\r\n    showModalUserName:false,\r\n    showModalPassword:false,\r\n    ChangeWrongText1:'',\r\n    ChangeWrongText2:'',\r\n    ChangeWrongText3:'',\r\n    wrong1:false,\r\n    wrong2:false,\r\n    wrong3:false,\r\n    booklist:[],\r\n    thisbook:{},\r\n  }\r\n},props:{},\r\ncreated:function(){\r\n  this.user=this.$store.state.user;\r\n  this.getUserRecord(this.user.userid);\r\n},\r\nwatch:{},\r\nmethods:{\r\n  Change1(){\r\n    this.showChoose = false;\r\n  },\r\n  Change2(){\r\n    this.showChoose = true;\r\n  },\r\n changeUserName(){\r\n    this.showModalUserName=true;\r\n  },\r\n  changePassword(){\r\n    this.showModalPassword=true;\r\n  },\r\n   usernameOnBluer(){\r\n      console.log('usernameOnBluer');\r\n      if(this.username==''){this.wrong1=true;this.ChangeWrongText1='用户名不能为空'}\r\n      else {this.wrong1=false;this.ChangeWrongText1='';}},\r\n    passwordOnBluer(){\r\n      var reg= /^(?=.*[0-9])(?=.*[a-zA-Z]).{6,16}$/;\r\n      if(this.password==''){this.wrong2=true;this.ChangeWrongText2='密码不能为空'}\r\n      else if(!reg.test(this.password)){this.wrong2=true;this.ChangeWrongText2='密码必须包含字母、数字、且位于6-16位之间'}\r\n      else{this.wrong2=false;this.ChangeWrongText2='';}\r\n    },\r\n    repeatPasswordOnBluer(){\r\n      if(this.repeatPassword==''){this.wrong3=true;this.ChangeWrongText3='确认密码不能为空'}\r\n      else if(this.password==this.repeatPassword){this.wrong3=false;this.ChangeWrongText3='';}\r\n      else{this.wrong3=true;this.ChangeWrongText3='确认密码与密码不一致'}\r\n    },\r\n\r\n    //ajax请求 方法\r\nSubmitUserName(){\r\n  if(this.wrong1===false)\r\n  alert(this.username)}, //表单：修改用户名  发送：用户id 新用户名\r\nSubmitPassword(){\r\n   if(this.wrong2===false&&this.wrong3===false)\r\n  alert(this.password)}, //表单：修改密码  发送：用户id 新密码\r\n\r\n getUserRecord(userid)   //发送 userid  接收书本信息\r\n {\r\n   if(this.$store.state.isLogin==true){\r\n\r\n    //修改booklist\r\n    this.booklist.push({bookid:1,bookname:'Book'+1,bookauthor:'author'+1,bookpublisher:'publisher'+1,booktag:'amusement'})\r\n   }\r\n }\r\n},\r\n\r\n\r\nsetup(){\r\n  return{\r\n  bodyStyle: {\r\n        width: \"500px\"\r\n      },\r\n  bodyStyle2:{\r\n        width: \"600px\"\r\n  }\r\n  }\r\n}\r\n}\r\n</script>\r\n\r\n<style>\r\n.div-space{\r\n    background-color:#fff;\r\n  height:500px;\r\n  width:100%;\r\n  display:flex;\r\n  align-items: center;\r\n  flex-direction:column;\r\n\r\n}\r\n.space-choose{\r\n  padding-top:10px;\r\n  height:40px;\r\n  width:160px;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.choose-button{\r\n  width:80px;\r\n  height:40px;\r\n}\r\n.show-space{\r\n  margin-top:10px;\r\n  width:100%;\r\n}\r\n.show-data{\r\n  display:flex;\r\n  justify-content: center;\r\n}\r\n.data-div{\r\n  border-radius: 10px;\r\n  background-color:#fafafa;\r\n  height:240px;\r\n  display:flex;\r\n  flex-direction: column;\r\n  width:500px;\r\n}\r\n.show-list{\r\n  height:60px;\r\n  width:500px;\r\n  display:flex;\r\n}\r\n.list-left{ \r\n  width:100px;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  \r\n}\r\n.list-right{\r\n  width:300px;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.change-data{\r\n  padding-left:10px;\r\n  width:60px;\r\n  height:60px;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.change-data img{\r\n  height:20px;\r\n  width:20px;\r\n  cursor: pointer;\r\n}\r\n.modal-changeUserName{\r\n  height:100px;\r\n  width:500px;\r\n    display:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n.modal-changePassword{\r\n  height:100px;\r\n  width:600px;\r\n    display:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.input-headtext{\r\n  margin-left:30px;\r\nwidth:100px;\r\nheight:40px;\r\nfont-size:18px;\r\n    display:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.input-change{\r\nheight:40px;\r\ndisplay:inline-block;\r\nwidth:230px;\r\n}\r\n.wrong-text{\r\n  color:red;\r\n  width:150px;\r\n  height:40px;\r\n  margin-left:10px;\r\n  font-size:14px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n.modalA{\r\n  display:flex;\r\njustify-content:left;\r\nalign-items:center;\r\nflex-direction:column;\r\n}\r\n.button-div{\r\n  height:60px;\r\n  width:100%;\r\n  display:flex;\r\n  justify-content:center;\r\n}\r\n.change-button{\r\nwidth:60px;\r\nheight:30px;\r\nmargin-left:40px;\r\nmargin-right:40px;\r\n}\r\n\r\n.space-div-book{\r\nheight:auto;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\nwidth:100%\r\n}\r\n.space-book-list{\r\nwidth:800px;\r\ndisplay:flex;\r\n}\r\n.space-book-container{\r\n  display:flex;\r\n  width:240px;\r\n  height:240px;\r\n  border:1px solid;\r\n  flex-direction:column;\r\n}\r\n.space-book-show{\r\n  width:100%;\r\n  height:40px;\r\n}\r\n.space-book-showleft{\r\nwidth:70px;\r\npadding-left:10px;\r\n}\r\n.space-book-showright{\r\nwidth:140px;\r\npadding-left:10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}