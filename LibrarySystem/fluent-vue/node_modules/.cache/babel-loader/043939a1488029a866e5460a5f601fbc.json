{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { Fragment, createTextVNode, Comment } from 'vue';\nexport function getSlot(scope, slots, slotName = 'default') {\n  const slot = slots[slotName];\n\n  if (slot === undefined) {\n    throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n  }\n\n  return slot();\n} // o(n) flatten\n\nexport function flatten(vNodes, filterCommentNode = true, result = []) {\n  vNodes.forEach(vNode => {\n    if (vNode === null) return;\n\n    if (typeof vNode !== 'object') {\n      if (typeof vNode === 'string' || typeof vNode === 'number') {\n        result.push(createTextVNode(String(vNode)));\n      }\n\n      return;\n    }\n\n    if (Array.isArray(vNode)) {\n      flatten(vNode, filterCommentNode, result);\n      return;\n    }\n\n    if (vNode.type === Fragment) {\n      if (vNode.children === null) return;\n\n      if (Array.isArray(vNode.children)) {\n        flatten(vNode.children, filterCommentNode, result);\n      } // rawSlot\n\n    } else if (vNode.type !== Comment) {\n      result.push(vNode);\n    }\n  });\n  return result;\n}\nexport function getFirstVNode(scope, slots, slotName = 'default') {\n  const slot = slots[slotName];\n\n  if (slot === undefined) {\n    throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n  }\n\n  const content = flatten(slot()); // vue will normalize the slot, so slot must be an array\n\n  if (content.length === 1) {\n    return content[0];\n  } else {\n    throw new Error(`[vueuc/${scope}]: slot[${slotName}] should have exactly one child.`);\n  }\n}","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/vueuc/es/shared/v-node.js"],"names":["Fragment","createTextVNode","Comment","getSlot","scope","slots","slotName","slot","undefined","Error","flatten","vNodes","filterCommentNode","result","forEach","vNode","push","String","Array","isArray","type","children","getFirstVNode","content","length"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,eAAnB,EAAoCC,OAApC,QAAmD,KAAnD;AACA,OAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,KAAxB,EAA+BC,QAAQ,GAAG,SAA1C,EAAqD;AACxD,QAAMC,IAAI,GAAGF,KAAK,CAACC,QAAD,CAAlB;;AACA,MAAIC,IAAI,KAAKC,SAAb,EAAwB;AACpB,UAAM,IAAIC,KAAJ,CAAW,UAASL,KAAM,WAAUE,QAAS,aAA7C,CAAN;AACH;;AACD,SAAOC,IAAI,EAAX;AACH,C,CACD;;AACA,OAAO,SAASG,OAAT,CAAiBC,MAAjB,EAAyBC,iBAAiB,GAAG,IAA7C,EAAmDC,MAAM,GAAG,EAA5D,EAAgE;AACnEF,EAAAA,MAAM,CAACG,OAAP,CAAgBC,KAAD,IAAW;AACtB,QAAIA,KAAK,KAAK,IAAd,EACI;;AACJ,QAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,UAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,QAAlD,EAA4D;AACxDF,QAAAA,MAAM,CAACG,IAAP,CAAYf,eAAe,CAACgB,MAAM,CAACF,KAAD,CAAP,CAA3B;AACH;;AACD;AACH;;AACD,QAAIG,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAJ,EAA0B;AACtBL,MAAAA,OAAO,CAACK,KAAD,EAAQH,iBAAR,EAA2BC,MAA3B,CAAP;AACA;AACH;;AACD,QAAIE,KAAK,CAACK,IAAN,KAAepB,QAAnB,EAA6B;AACzB,UAAIe,KAAK,CAACM,QAAN,KAAmB,IAAvB,EACI;;AACJ,UAAIH,KAAK,CAACC,OAAN,CAAcJ,KAAK,CAACM,QAApB,CAAJ,EAAmC;AAC/BX,QAAAA,OAAO,CAACK,KAAK,CAACM,QAAP,EAAiBT,iBAAjB,EAAoCC,MAApC,CAAP;AACH,OALwB,CAMzB;;AACH,KAPD,MAQK,IAAIE,KAAK,CAACK,IAAN,KAAelB,OAAnB,EAA4B;AAC7BW,MAAAA,MAAM,CAACG,IAAP,CAAYD,KAAZ;AACH;AACJ,GAxBD;AAyBA,SAAOF,MAAP;AACH;AACD,OAAO,SAASS,aAAT,CAAuBlB,KAAvB,EAA8BC,KAA9B,EAAqCC,QAAQ,GAAG,SAAhD,EAA2D;AAC9D,QAAMC,IAAI,GAAGF,KAAK,CAACC,QAAD,CAAlB;;AACA,MAAIC,IAAI,KAAKC,SAAb,EAAwB;AACpB,UAAM,IAAIC,KAAJ,CAAW,UAASL,KAAM,WAAUE,QAAS,aAA7C,CAAN;AACH;;AACD,QAAMiB,OAAO,GAAGb,OAAO,CAACH,IAAI,EAAL,CAAvB,CAL8D,CAM9D;;AACA,MAAIgB,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B;AACtB,WAAOD,OAAO,CAAC,CAAD,CAAd;AACH,GAFD,MAGK;AACD,UAAM,IAAId,KAAJ,CAAW,UAASL,KAAM,WAAUE,QAAS,kCAA7C,CAAN;AACH;AACJ","sourcesContent":["import { Fragment, createTextVNode, Comment } from 'vue';\nexport function getSlot(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    return slot();\n}\n// o(n) flatten\nexport function flatten(vNodes, filterCommentNode = true, result = []) {\n    vNodes.forEach((vNode) => {\n        if (vNode === null)\n            return;\n        if (typeof vNode !== 'object') {\n            if (typeof vNode === 'string' || typeof vNode === 'number') {\n                result.push(createTextVNode(String(vNode)));\n            }\n            return;\n        }\n        if (Array.isArray(vNode)) {\n            flatten(vNode, filterCommentNode, result);\n            return;\n        }\n        if (vNode.type === Fragment) {\n            if (vNode.children === null)\n                return;\n            if (Array.isArray(vNode.children)) {\n                flatten(vNode.children, filterCommentNode, result);\n            }\n            // rawSlot\n        }\n        else if (vNode.type !== Comment) {\n            result.push(vNode);\n        }\n    });\n    return result;\n}\nexport function getFirstVNode(scope, slots, slotName = 'default') {\n    const slot = slots[slotName];\n    if (slot === undefined) {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] is empty.`);\n    }\n    const content = flatten(slot());\n    // vue will normalize the slot, so slot must be an array\n    if (content.length === 1) {\n        return content[0];\n    }\n    else {\n        throw new Error(`[vueuc/${scope}]: slot[${slotName}] should have exactly one child.`);\n    }\n}\n"]},"metadata":{},"sourceType":"module"}