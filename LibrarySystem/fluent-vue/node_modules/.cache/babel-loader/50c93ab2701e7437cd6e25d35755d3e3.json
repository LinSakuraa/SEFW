{"ast":null,"code":"import { h, ref, toRef, computed, watch, nextTick, defineComponent, Transition } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { on, off } from 'evtd';\nimport { useTheme, useFormItem, useConfig, useThemeClass } from '../../_mixins';\nimport { call, useAdjustedTo } from '../../_utils';\nimport { sliderLight } from '../styles';\nimport { isTouchEvent, useRefs } from './utils';\nimport style from './styles/index.cssr'; // ref: https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/button\n\nconst eventButtonLeft = 0;\nconst sliderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: useAdjustedTo.propTo,\n  defaultValue: {\n    type: [Number, Array],\n    default: 0\n  },\n  marks: Object,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  formatTooltip: Function,\n  min: {\n    type: Number,\n    default: 0\n  },\n  max: {\n    type: Number,\n    default: 100\n  },\n  step: {\n    type: [Number, String],\n    default: 1\n  },\n  range: Boolean,\n  value: [Number, Array],\n  placement: String,\n  showTooltip: {\n    type: Boolean,\n    default: undefined\n  },\n  tooltip: {\n    type: Boolean,\n    default: true\n  },\n  vertical: Boolean,\n  reverse: Boolean,\n  'onUpdate:value': [Function, Array],\n  onUpdateValue: [Function, Array]\n});\nexport default defineComponent({\n  name: 'Slider',\n  props: sliderProps,\n\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Slider', '-slider', style, sliderLight, props, mergedClsPrefixRef); // dom ref\n\n    const handleRailRef = ref(null);\n    const [handleRefs, setHandleRefs] = useRefs();\n    const [followerRefs, setFollowerRefs] = useRefs();\n    const followerEnabledIndexSetRef = ref(new Set()); // data ref\n\n    const formItem = useFormItem(props);\n    const {\n      mergedDisabledRef\n    } = formItem;\n    const precisionRef = computed(() => {\n      const {\n        step\n      } = props;\n      if (step <= 0 || step === 'mark') return 0;\n      const stepString = step.toString();\n      let precision = 0;\n\n      if (stepString.includes('.')) {\n        precision = stepString.length - stepString.indexOf('.') - 1;\n      }\n\n      return precision;\n    });\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const arrifiedValueRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      return (props.range ? mergedValue : [mergedValue]).map(clampValue);\n    });\n    const handleCountExceeds2Ref = computed(() => arrifiedValueRef.value.length > 2);\n    const mergedPlacementRef = computed(() => {\n      return props.placement === undefined ? props.vertical ? 'right' : 'top' : props.placement;\n    });\n    const markValuesRef = computed(() => {\n      const {\n        marks\n      } = props;\n      return marks ? Object.keys(marks).map(parseFloat) : null;\n    }); // status ref\n\n    const activeIndexRef = ref(-1);\n    const previousIndexRef = ref(-1);\n    const hoverIndexRef = ref(-1);\n    const draggingRef = ref(false); // style ref\n\n    const dotTransitionDisabledRef = ref(false);\n    const styleDirectionRef = computed(() => {\n      const {\n        vertical,\n        reverse\n      } = props;\n      const left = reverse ? 'right' : 'left';\n      const bottom = reverse ? 'top' : 'bottom';\n      return vertical ? bottom : left;\n    });\n    const fillStyleRef = computed(() => {\n      if (handleCountExceeds2Ref.value) return;\n      const values = arrifiedValueRef.value;\n      const start = valueToPercentage(props.range ? Math.min(...values) : props.min);\n      const end = valueToPercentage(props.range ? Math.max(...values) : values[0]);\n      const {\n        value: styleDirection\n      } = styleDirectionRef;\n      return props.vertical ? {\n        [styleDirection]: `${start}%`,\n        height: `${end - start}%`\n      } : {\n        [styleDirection]: `${start}%`,\n        width: `${end - start}%`\n      };\n    });\n    const markInfosRef = computed(() => {\n      const mergedMarks = [];\n      const {\n        marks\n      } = props;\n\n      if (marks) {\n        const orderValues = arrifiedValueRef.value.slice();\n        orderValues.sort((a, b) => a - b);\n        const {\n          value: styleDirection\n        } = styleDirectionRef;\n        const {\n          value: handleCountExceeds2\n        } = handleCountExceeds2Ref;\n        const {\n          range\n        } = props;\n        const isActive = handleCountExceeds2 ? () => false : num => range ? num >= orderValues[0] && num <= orderValues[orderValues.length - 1] : num <= orderValues[0];\n\n        for (const key of Object.keys(marks)) {\n          const num = Number(key);\n          mergedMarks.push({\n            active: isActive(num),\n            label: marks[key],\n            style: {\n              [styleDirection]: `${valueToPercentage(num)}%`\n            }\n          });\n        }\n      }\n\n      return mergedMarks;\n    });\n\n    function getHandleStyle(value, index) {\n      const percentage = valueToPercentage(value);\n      const {\n        value: styleDirection\n      } = styleDirectionRef;\n      return {\n        [styleDirection]: `${percentage}%`,\n        zIndex: index === activeIndexRef.value ? 1 : 0\n      };\n    }\n\n    function isShowTooltip(index) {\n      return props.showTooltip || hoverIndexRef.value === index || activeIndexRef.value === index && draggingRef.value;\n    }\n\n    function isSkipCSSDetection(index) {\n      return !(activeIndexRef.value === index && previousIndexRef.value === index);\n    }\n\n    function focusActiveHandle(index) {\n      var _a;\n\n      if (~index) {\n        activeIndexRef.value = index;\n        (_a = handleRefs.value.get(index)) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    }\n\n    function syncPosition() {\n      followerRefs.value.forEach((inst, index) => {\n        if (isShowTooltip(index)) inst.syncPosition();\n      });\n    }\n\n    function doUpdateValue(value) {\n      const {\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormInput,\n        nTriggerFormChange\n      } = formItem;\n      if (onUpdateValue) call(onUpdateValue, value);\n      if (_onUpdateValue) call(_onUpdateValue, value);\n      uncontrolledValueRef.value = value;\n      nTriggerFormInput();\n      nTriggerFormChange();\n    }\n\n    function dispatchValueUpdate(value) {\n      const {\n        range\n      } = props;\n\n      if (range) {\n        if (Array.isArray(value)) {\n          const {\n            value: oldValues\n          } = arrifiedValueRef;\n\n          if (value.join() !== oldValues.join()) {\n            doUpdateValue(value);\n          }\n        }\n      } else if (!Array.isArray(value)) {\n        const oldValue = arrifiedValueRef.value[0];\n\n        if (oldValue !== value) {\n          doUpdateValue(value);\n        }\n      }\n    }\n\n    function doDispatchValue(value, index) {\n      if (props.range) {\n        const values = arrifiedValueRef.value.slice();\n        values.splice(index, 1, value);\n        dispatchValueUpdate(values);\n      } else {\n        dispatchValueUpdate(value);\n      }\n    } // value conversion\n\n\n    function sanitizeValue(value, currentValue, stepBuffer) {\n      const stepping = stepBuffer !== undefined;\n\n      if (!stepBuffer) {\n        stepBuffer = value - currentValue > 0 ? 1 : -1;\n      }\n\n      const markValues = markValuesRef.value || [];\n      const {\n        step\n      } = props;\n\n      if (step === 'mark') {\n        const closestMark = getClosestMark(value, markValues.concat(currentValue), stepping ? stepBuffer : undefined);\n        return closestMark ? closestMark.value : currentValue;\n      }\n\n      if (step <= 0) return currentValue;\n      const {\n        value: precision\n      } = precisionRef;\n      let closestMark; // if it is a stepping, priority will be given to the marks\n      // on the rail, otherwise take the nearest one\n\n      if (stepping) {\n        const currentStep = Number((currentValue / step).toFixed(precision));\n        const actualStep = Math.floor(currentStep);\n        const leftStep = currentStep > actualStep ? actualStep : actualStep - 1;\n        const rightStep = currentStep < actualStep ? actualStep : actualStep + 1;\n        closestMark = getClosestMark(currentValue, [Number((leftStep * step).toFixed(precision)), Number((rightStep * step).toFixed(precision)), ...markValues], stepBuffer);\n      } else {\n        const roundValue = getRoundValue(value);\n        closestMark = getClosestMark(value, [...markValues, roundValue]);\n      }\n\n      return closestMark ? clampValue(closestMark.value) : currentValue;\n    }\n\n    function clampValue(value) {\n      return Math.min(props.max, Math.max(props.min, value));\n    }\n\n    function valueToPercentage(value) {\n      const {\n        max,\n        min\n      } = props;\n      return (value - min) / (max - min) * 100;\n    }\n\n    function percentageToValue(percentage) {\n      const {\n        max,\n        min\n      } = props;\n      return min + (max - min) * percentage;\n    }\n\n    function getRoundValue(value) {\n      const {\n        step,\n        min\n      } = props;\n      if (step <= 0 || step === 'mark') return value;\n      const newValue = Math.round((value - min) / step) * step + min;\n      return Number(newValue.toFixed(precisionRef.value));\n    }\n\n    function getClosestMark(currentValue, markValues = markValuesRef.value, buffer) {\n      if (!markValues || !markValues.length) return null;\n      let closestMark = null;\n      let index = -1;\n\n      while (++index < markValues.length) {\n        const diff = markValues[index] - currentValue;\n        const distance = Math.abs(diff);\n\n        if ( // find marks in the same direction\n        (buffer === undefined || diff * buffer > 0) && (closestMark === null || distance < closestMark.distance)) {\n          closestMark = {\n            index,\n            distance,\n            value: markValues[index]\n          };\n        }\n      }\n\n      return closestMark;\n    }\n\n    function getPointValue(event) {\n      const railEl = handleRailRef.value;\n      if (!railEl) return;\n      const touchEvent = isTouchEvent(event) ? event.touches[0] : event;\n      const railRect = railEl.getBoundingClientRect();\n      let percentage;\n\n      if (props.vertical) {\n        percentage = (railRect.bottom - touchEvent.clientY) / railRect.height;\n      } else {\n        percentage = (touchEvent.clientX - railRect.left) / railRect.width;\n      }\n\n      if (props.reverse) {\n        percentage = 1 - percentage;\n      }\n\n      return percentageToValue(percentage);\n    } // dom event handle\n\n\n    function handleRailKeyDown(e) {\n      if (mergedDisabledRef.value) return;\n      const {\n        vertical,\n        reverse\n      } = props;\n\n      switch (e.code) {\n        case 'ArrowUp':\n          e.preventDefault();\n          handleStepValue(vertical && reverse ? -1 : 1);\n          break;\n\n        case 'ArrowRight':\n          e.preventDefault();\n          handleStepValue(!vertical && reverse ? -1 : 1);\n          break;\n\n        case 'ArrowDown':\n          e.preventDefault();\n          handleStepValue(vertical && reverse ? 1 : -1);\n          break;\n\n        case 'ArrowLeft':\n          e.preventDefault();\n          handleStepValue(!vertical && reverse ? 1 : -1);\n          break;\n      }\n    }\n\n    function handleStepValue(ratio) {\n      const activeIndex = activeIndexRef.value;\n      if (activeIndex === -1) return;\n      const {\n        step\n      } = props;\n      const currentValue = arrifiedValueRef.value[activeIndex];\n      const nextValue = step <= 0 || step === 'mark' ? currentValue : currentValue + step * ratio;\n      doDispatchValue( // Avoid the number of value does not change when `step` is null\n      sanitizeValue(nextValue, currentValue, ratio > 0 ? 1 : -1), activeIndex);\n    }\n\n    function handleRailMouseDown(event) {\n      var _a, _b;\n\n      if (mergedDisabledRef.value) return;\n\n      if (!isTouchEvent(event) && event.button !== eventButtonLeft) {\n        return;\n      }\n\n      const pointValue = getPointValue(event);\n      if (pointValue === undefined) return;\n      const values = arrifiedValueRef.value.slice();\n      const activeIndex = props.range ? (_b = (_a = getClosestMark(pointValue, values)) === null || _a === void 0 ? void 0 : _a.index) !== null && _b !== void 0 ? _b : -1 : 0;\n\n      if (activeIndex !== -1) {\n        // avoid triggering scrolling on touch\n        event.preventDefault();\n        focusActiveHandle(activeIndex);\n        startDragging();\n        doDispatchValue(sanitizeValue(pointValue, arrifiedValueRef.value[activeIndex]), activeIndex);\n      }\n    }\n\n    function startDragging() {\n      if (!draggingRef.value) {\n        draggingRef.value = true;\n        on('touchend', document, handleMouseUp);\n        on('mouseup', document, handleMouseUp);\n        on('touchmove', document, handleMouseMove);\n        on('mousemove', document, handleMouseMove);\n      }\n    }\n\n    function stopDragging() {\n      if (draggingRef.value) {\n        draggingRef.value = false;\n        off('touchend', document, handleMouseUp);\n        off('mouseup', document, handleMouseUp);\n        off('touchmove', document, handleMouseMove);\n        off('mousemove', document, handleMouseMove);\n      }\n    }\n\n    function handleMouseMove(event) {\n      const {\n        value: activeIndex\n      } = activeIndexRef;\n\n      if (!draggingRef.value || activeIndex === -1) {\n        stopDragging();\n        return;\n      }\n\n      const pointValue = getPointValue(event);\n      doDispatchValue(sanitizeValue(pointValue, arrifiedValueRef.value[activeIndex]), activeIndex);\n    }\n\n    function handleMouseUp() {\n      stopDragging();\n    }\n\n    function handleHandleFocus(index) {\n      activeIndexRef.value = index; // Wake focus style\n\n      if (!mergedDisabledRef.value) {\n        hoverIndexRef.value = index;\n      }\n    }\n\n    function handleHandleBlur(index) {\n      if (activeIndexRef.value === index) {\n        activeIndexRef.value = -1;\n        stopDragging();\n      }\n\n      if (hoverIndexRef.value === index) {\n        hoverIndexRef.value = -1;\n      }\n    }\n\n    function handleHandleMouseEnter(index) {\n      hoverIndexRef.value = index;\n    }\n\n    function handleHandleMouseLeave(index) {\n      if (hoverIndexRef.value === index) {\n        hoverIndexRef.value = -1;\n      }\n    }\n\n    watch(activeIndexRef, (_, previous) => void nextTick(() => previousIndexRef.value = previous));\n    watch(mergedValueRef, () => {\n      if (props.marks) {\n        if (dotTransitionDisabledRef.value) return;\n        dotTransitionDisabledRef.value = true;\n        void nextTick(() => {\n          dotTransitionDisabledRef.value = false;\n        });\n      }\n\n      void nextTick(syncPosition);\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          railColor,\n          railColorHover,\n          fillColor,\n          fillColorHover,\n          handleColor,\n          opacityDisabled,\n          dotColor,\n          dotColorModal,\n          handleBoxShadow,\n          handleBoxShadowHover,\n          handleBoxShadowActive,\n          handleBoxShadowFocus,\n          dotBorder,\n          dotBoxShadow,\n          railHeight,\n          railWidthVertical,\n          handleSize,\n          dotHeight,\n          dotWidth,\n          dotBorderRadius,\n          fontSize,\n          dotBorderActive,\n          dotColorPopover\n        },\n        common: {\n          cubicBezierEaseInOut\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-dot-border': dotBorder,\n        '--n-dot-border-active': dotBorderActive,\n        '--n-dot-border-radius': dotBorderRadius,\n        '--n-dot-box-shadow': dotBoxShadow,\n        '--n-dot-color': dotColor,\n        '--n-dot-color-modal': dotColorModal,\n        '--n-dot-color-popover': dotColorPopover,\n        '--n-dot-height': dotHeight,\n        '--n-dot-width': dotWidth,\n        '--n-fill-color': fillColor,\n        '--n-fill-color-hover': fillColorHover,\n        '--n-font-size': fontSize,\n        '--n-handle-box-shadow': handleBoxShadow,\n        '--n-handle-box-shadow-active': handleBoxShadowActive,\n        '--n-handle-box-shadow-focus': handleBoxShadowFocus,\n        '--n-handle-box-shadow-hover': handleBoxShadowHover,\n        '--n-handle-color': handleColor,\n        '--n-handle-size': handleSize,\n        '--n-opacity-disabled': opacityDisabled,\n        '--n-rail-color': railColor,\n        '--n-rail-color-hover': railColorHover,\n        '--n-rail-height': railHeight,\n        '--n-rail-width-vertical': railWidthVertical\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('slider', undefined, cssVarsRef, props) : undefined;\n    const indicatorCssVarsRef = computed(() => {\n      const {\n        self: {\n          fontSize,\n          indicatorColor,\n          indicatorBoxShadow,\n          indicatorTextColor,\n          indicatorBorderRadius\n        }\n      } = themeRef.value;\n      return {\n        '--n-font-size': fontSize,\n        '--n-indicator-border-radius': indicatorBorderRadius,\n        '--n-indicator-box-shadow': indicatorBoxShadow,\n        '--n-indicator-color': indicatorColor,\n        '--n-indicator-text-color': indicatorTextColor\n      };\n    });\n    const indicatorThemeClassHandle = inlineThemeDisabled ? useThemeClass('slider-indicator', undefined, indicatorCssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      namespace: namespaceRef,\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      mergedDisabled: mergedDisabledRef,\n      mergedPlacement: mergedPlacementRef,\n      isMounted: useIsMounted(),\n      adjustedTo: useAdjustedTo(props),\n      dotTransitionDisabled: dotTransitionDisabledRef,\n      markInfos: markInfosRef,\n      isShowTooltip,\n      isSkipCSSDetection,\n      handleRailRef,\n      setHandleRefs,\n      setFollowerRefs,\n      fillStyle: fillStyleRef,\n      getHandleStyle,\n      activeIndex: activeIndexRef,\n      arrifiedValues: arrifiedValueRef,\n      followerEnabledIndexSet: followerEnabledIndexSetRef,\n      handleRailMouseDown,\n      handleHandleFocus,\n      handleHandleBlur,\n      handleHandleMouseEnter,\n      handleHandleMouseLeave,\n      handleRailKeyDown,\n      indicatorCssVars: inlineThemeDisabled ? undefined : indicatorCssVarsRef,\n      indicatorThemeClass: indicatorThemeClassHandle === null || indicatorThemeClassHandle === void 0 ? void 0 : indicatorThemeClassHandle.themeClass,\n      indicatorOnRender: indicatorThemeClassHandle === null || indicatorThemeClassHandle === void 0 ? void 0 : indicatorThemeClassHandle.onRender,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n\n  render() {\n    var _a;\n\n    const {\n      mergedClsPrefix,\n      themeClass,\n      formatTooltip\n    } = this;\n    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-slider`, themeClass, {\n        [`${mergedClsPrefix}-slider--disabled`]: this.mergedDisabled,\n        [`${mergedClsPrefix}-slider--active`]: this.activeIndex !== -1,\n        [`${mergedClsPrefix}-slider--with-mark`]: this.marks,\n        [`${mergedClsPrefix}-slider--vertical`]: this.vertical,\n        [`${mergedClsPrefix}-slider--reverse`]: this.reverse\n      }],\n      style: this.cssVars,\n      onKeydown: this.handleRailKeyDown,\n      onMousedown: this.handleRailMouseDown,\n      onTouchstart: this.handleRailMouseDown\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-slider-rail`\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-slider-rail__fill`,\n      style: this.fillStyle\n    }), this.marks ? h(\"div\", {\n      class: [`${mergedClsPrefix}-slider-dots`, this.dotTransitionDisabled && `${mergedClsPrefix}-slider-dots--transition-disabled`]\n    }, this.markInfos.map(mark => h(\"div\", {\n      key: mark.label,\n      class: [`${mergedClsPrefix}-slider-dot`, {\n        [`${mergedClsPrefix}-slider-dot--active`]: mark.active\n      }],\n      style: mark.style\n    }))) : null, h(\"div\", {\n      ref: \"handleRailRef\",\n      class: `${mergedClsPrefix}-slider-handles`\n    }, this.arrifiedValues.map((value, index) => {\n      const showTooltip = this.isShowTooltip(index);\n      return h(VBinder, null, {\n        default: () => [h(VTarget, null, {\n          default: () => h(\"div\", {\n            ref: this.setHandleRefs(index),\n            class: `${mergedClsPrefix}-slider-handle`,\n            tabindex: this.mergedDisabled ? -1 : 0,\n            style: this.getHandleStyle(value, index),\n            onFocus: () => this.handleHandleFocus(index),\n            onBlur: () => this.handleHandleBlur(index),\n            onMouseenter: () => this.handleHandleMouseEnter(index),\n            onMouseleave: () => this.handleHandleMouseLeave(index)\n          })\n        }), this.tooltip && h(VFollower, {\n          ref: this.setFollowerRefs(index),\n          show: showTooltip,\n          to: this.adjustedTo,\n          enabled: this.showTooltip && !this.range || this.followerEnabledIndexSet.has(index),\n          teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n          placement: this.mergedPlacement,\n          containerClass: this.namespace\n        }, {\n          default: () => h(Transition, {\n            name: \"fade-in-scale-up-transition\",\n            appear: this.isMounted,\n            css: this.isSkipCSSDetection(index),\n            onEnter: () => this.followerEnabledIndexSet.add(index),\n            onAfterLeave: () => this.followerEnabledIndexSet.delete(index)\n          }, {\n            default: () => {\n              var _a;\n\n              if (showTooltip) {\n                (_a = this.indicatorOnRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                return h(\"div\", {\n                  class: [`${mergedClsPrefix}-slider-handle-indicator`, this.indicatorThemeClass, `${mergedClsPrefix}-slider-handle-indicator--${this.mergedPlacement}`],\n                  style: this.indicatorCssVars\n                }, typeof formatTooltip === 'function' ? formatTooltip(value) : value);\n              }\n\n              return null;\n            }\n          })\n        })]\n      });\n    })), this.marks ? h(\"div\", {\n      class: `${mergedClsPrefix}-slider-marks`\n    }, this.markInfos.map(mark => h(\"div\", {\n      key: mark.label,\n      class: `${mergedClsPrefix}-slider-mark`,\n      style: mark.style\n    }, mark.label))) : null));\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/slider/src/Slider.js"],"names":["h","ref","toRef","computed","watch","nextTick","defineComponent","Transition","VBinder","VTarget","VFollower","useIsMounted","useMergedState","on","off","useTheme","useFormItem","useConfig","useThemeClass","call","useAdjustedTo","sliderLight","isTouchEvent","useRefs","style","eventButtonLeft","sliderProps","Object","assign","props","to","propTo","defaultValue","type","Number","Array","default","marks","disabled","Boolean","undefined","formatTooltip","Function","min","max","step","String","range","value","placement","showTooltip","tooltip","vertical","reverse","onUpdateValue","name","setup","mergedClsPrefixRef","namespaceRef","inlineThemeDisabled","themeRef","handleRailRef","handleRefs","setHandleRefs","followerRefs","setFollowerRefs","followerEnabledIndexSetRef","Set","formItem","mergedDisabledRef","precisionRef","stepString","toString","precision","includes","length","indexOf","uncontrolledValueRef","controlledValueRef","mergedValueRef","arrifiedValueRef","mergedValue","map","clampValue","handleCountExceeds2Ref","mergedPlacementRef","markValuesRef","keys","parseFloat","activeIndexRef","previousIndexRef","hoverIndexRef","draggingRef","dotTransitionDisabledRef","styleDirectionRef","left","bottom","fillStyleRef","values","start","valueToPercentage","Math","end","styleDirection","height","width","markInfosRef","mergedMarks","orderValues","slice","sort","a","b","handleCountExceeds2","isActive","num","key","push","active","label","getHandleStyle","index","percentage","zIndex","isShowTooltip","isSkipCSSDetection","focusActiveHandle","_a","get","focus","syncPosition","forEach","inst","doUpdateValue","_onUpdateValue","nTriggerFormInput","nTriggerFormChange","dispatchValueUpdate","isArray","oldValues","join","oldValue","doDispatchValue","splice","sanitizeValue","currentValue","stepBuffer","stepping","markValues","closestMark","getClosestMark","concat","currentStep","toFixed","actualStep","floor","leftStep","rightStep","roundValue","getRoundValue","percentageToValue","newValue","round","buffer","diff","distance","abs","getPointValue","event","railEl","touchEvent","touches","railRect","getBoundingClientRect","clientY","clientX","handleRailKeyDown","e","code","preventDefault","handleStepValue","ratio","activeIndex","nextValue","handleRailMouseDown","_b","button","pointValue","startDragging","document","handleMouseUp","handleMouseMove","stopDragging","handleHandleFocus","handleHandleBlur","handleHandleMouseEnter","handleHandleMouseLeave","_","previous","cssVarsRef","self","railColor","railColorHover","fillColor","fillColorHover","handleColor","opacityDisabled","dotColor","dotColorModal","handleBoxShadow","handleBoxShadowHover","handleBoxShadowActive","handleBoxShadowFocus","dotBorder","dotBoxShadow","railHeight","railWidthVertical","handleSize","dotHeight","dotWidth","dotBorderRadius","fontSize","dotBorderActive","dotColorPopover","common","cubicBezierEaseInOut","themeClassHandle","indicatorCssVarsRef","indicatorColor","indicatorBoxShadow","indicatorTextColor","indicatorBorderRadius","indicatorThemeClassHandle","mergedClsPrefix","namespace","uncontrolledValue","mergedDisabled","mergedPlacement","isMounted","adjustedTo","dotTransitionDisabled","markInfos","fillStyle","arrifiedValues","followerEnabledIndexSet","indicatorCssVars","indicatorThemeClass","themeClass","indicatorOnRender","onRender","cssVars","render","class","onKeydown","onMousedown","onTouchstart","mark","tabindex","onFocus","onBlur","onMouseenter","onMouseleave","show","enabled","has","teleportDisabled","tdkey","containerClass","appear","css","onEnter","add","onAfterLeave","delete"],"mappings":"AAAA,SAASA,CAAT,EAAYC,GAAZ,EAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,KAAlC,EAAyCC,QAAzC,EAAmDC,eAAnD,EAAoEC,UAApE,QAAsF,KAAtF;AACA,SAASC,OAAT,EAAkBC,OAAlB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,OAA7C;AACA,SAASC,EAAT,EAAaC,GAAb,QAAwB,MAAxB;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,EAA2CC,aAA3C,QAAgE,eAAhE;AACA,SAASC,IAAT,EAAeC,aAAf,QAAoC,cAApC;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,YAAT,EAAuBC,OAAvB,QAAsC,SAAtC;AACA,OAAOC,KAAP,MAAkB,qBAAlB,C,CACA;;AACA,MAAMC,eAAe,GAAG,CAAxB;AACA,MAAMC,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBb,QAAQ,CAACc,KAA3B,CAAd,EAAiD;AAAEC,EAAAA,EAAE,EAAEV,aAAa,CAACW,MAApB;AAA4BC,EAAAA,YAAY,EAAE;AACvGC,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASC,KAAT,CADiG;AAEvGC,IAAAA,OAAO,EAAE;AAF8F,GAA1C;AAG9DC,EAAAA,KAAK,EAAEV,MAHuD;AAG/CW,EAAAA,QAAQ,EAAE;AACxBL,IAAAA,IAAI,EAAEM,OADkB;AAExBH,IAAAA,OAAO,EAAEI;AAFe,GAHqC;AAM9DC,EAAAA,aAAa,EAAEC,QAN+C;AAMrCC,EAAAA,GAAG,EAAE;AAC7BV,IAAAA,IAAI,EAAEC,MADuB;AAE7BE,IAAAA,OAAO,EAAE;AAFoB,GANgC;AAS9DQ,EAAAA,GAAG,EAAE;AACJX,IAAAA,IAAI,EAAEC,MADF;AAEJE,IAAAA,OAAO,EAAE;AAFL,GATyD;AAY9DS,EAAAA,IAAI,EAAE;AACLZ,IAAAA,IAAI,EAAE,CAACC,MAAD,EAASY,MAAT,CADD;AAELV,IAAAA,OAAO,EAAE;AAFJ,GAZwD;AAe9DW,EAAAA,KAAK,EAAER,OAfuD;AAe9CS,EAAAA,KAAK,EAAE,CAACd,MAAD,EAASC,KAAT,CAfuC;AAetBc,EAAAA,SAAS,EAAEH,MAfW;AAeHI,EAAAA,WAAW,EAAE;AACvEjB,IAAAA,IAAI,EAAEM,OADiE;AAEvEH,IAAAA,OAAO,EAAEI;AAF8D,GAfV;AAkB9DW,EAAAA,OAAO,EAAE;AACRlB,IAAAA,IAAI,EAAEM,OADE;AAERH,IAAAA,OAAO,EAAE;AAFD,GAlBqD;AAqB9DgB,EAAAA,QAAQ,EAAEb,OArBoD;AAqB3Cc,EAAAA,OAAO,EAAEd,OArBkC;AAqBzB,oBAAkB,CAACG,QAAD,EAAWP,KAAX,CArBO;AAqBYmB,EAAAA,aAAa,EAAE,CAACZ,QAAD,EAAWP,KAAX;AArB3B,CAAjD,CAApB;AAsBA,eAAe7B,eAAe,CAAC;AAC3BiD,EAAAA,IAAI,EAAE,QADqB;AAE3B1B,EAAAA,KAAK,EAAEH,WAFoB;;AAG3B8B,EAAAA,KAAK,CAAC3B,KAAD,EAAQ;AACT,UAAM;AAAE4B,MAAAA,kBAAF;AAAsBC,MAAAA,YAAtB;AAAoCC,MAAAA;AAApC,QAA4D1C,SAAS,CAACY,KAAD,CAA3E;AACA,UAAM+B,QAAQ,GAAG7C,QAAQ,CAAC,QAAD,EAAW,SAAX,EAAsBS,KAAtB,EAA6BH,WAA7B,EAA0CQ,KAA1C,EAAiD4B,kBAAjD,CAAzB,CAFS,CAGT;;AACA,UAAMI,aAAa,GAAG5D,GAAG,CAAC,IAAD,CAAzB;AACA,UAAM,CAAC6D,UAAD,EAAaC,aAAb,IAA8BxC,OAAO,EAA3C;AACA,UAAM,CAACyC,YAAD,EAAeC,eAAf,IAAkC1C,OAAO,EAA/C;AACA,UAAM2C,0BAA0B,GAAGjE,GAAG,CAAC,IAAIkE,GAAJ,EAAD,CAAtC,CAPS,CAQT;;AACA,UAAMC,QAAQ,GAAGpD,WAAW,CAACa,KAAD,CAA5B;AACA,UAAM;AAAEwC,MAAAA;AAAF,QAAwBD,QAA9B;AACA,UAAME,YAAY,GAAGnE,QAAQ,CAAC,MAAM;AAChC,YAAM;AAAE0C,QAAAA;AAAF,UAAWhB,KAAjB;AACA,UAAIgB,IAAI,IAAI,CAAR,IAAaA,IAAI,KAAK,MAA1B,EACI,OAAO,CAAP;AACJ,YAAM0B,UAAU,GAAG1B,IAAI,CAAC2B,QAAL,EAAnB;AACA,UAAIC,SAAS,GAAG,CAAhB;;AACA,UAAIF,UAAU,CAACG,QAAX,CAAoB,GAApB,CAAJ,EAA8B;AAC1BD,QAAAA,SAAS,GAAGF,UAAU,CAACI,MAAX,GAAoBJ,UAAU,CAACK,OAAX,CAAmB,GAAnB,CAApB,GAA8C,CAA1D;AACH;;AACD,aAAOH,SAAP;AACH,KAV4B,CAA7B;AAWA,UAAMI,oBAAoB,GAAG5E,GAAG,CAAC4B,KAAK,CAACG,YAAP,CAAhC;AACA,UAAM8C,kBAAkB,GAAG5E,KAAK,CAAC2B,KAAD,EAAQ,OAAR,CAAhC;AACA,UAAMkD,cAAc,GAAGnE,cAAc,CAACkE,kBAAD,EAAqBD,oBAArB,CAArC;AACA,UAAMG,gBAAgB,GAAG7E,QAAQ,CAAC,MAAM;AACpC,YAAM;AAAE6C,QAAAA,KAAK,EAAEiC;AAAT,UAAyBF,cAA/B;AACA,aAAO,CAAClD,KAAK,CAACkB,KAAN,GAAckC,WAAd,GAA4B,CAACA,WAAD,CAA7B,EAA4CC,GAA5C,CAAgDC,UAAhD,CAAP;AACH,KAHgC,CAAjC;AAIA,UAAMC,sBAAsB,GAAGjF,QAAQ,CAAC,MAAM6E,gBAAgB,CAAChC,KAAjB,CAAuB2B,MAAvB,GAAgC,CAAvC,CAAvC;AACA,UAAMU,kBAAkB,GAAGlF,QAAQ,CAAC,MAAM;AACtC,aAAO0B,KAAK,CAACoB,SAAN,KAAoBT,SAApB,GACDX,KAAK,CAACuB,QAAN,GACI,OADJ,GAEI,KAHH,GAIDvB,KAAK,CAACoB,SAJZ;AAKH,KANkC,CAAnC;AAOA,UAAMqC,aAAa,GAAGnF,QAAQ,CAAC,MAAM;AACjC,YAAM;AAAEkC,QAAAA;AAAF,UAAYR,KAAlB;AACA,aAAOQ,KAAK,GAAGV,MAAM,CAAC4D,IAAP,CAAYlD,KAAZ,EAAmB6C,GAAnB,CAAuBM,UAAvB,CAAH,GAAwC,IAApD;AACH,KAH6B,CAA9B,CArCS,CAyCT;;AACA,UAAMC,cAAc,GAAGxF,GAAG,CAAC,CAAC,CAAF,CAA1B;AACA,UAAMyF,gBAAgB,GAAGzF,GAAG,CAAC,CAAC,CAAF,CAA5B;AACA,UAAM0F,aAAa,GAAG1F,GAAG,CAAC,CAAC,CAAF,CAAzB;AACA,UAAM2F,WAAW,GAAG3F,GAAG,CAAC,KAAD,CAAvB,CA7CS,CA8CT;;AACA,UAAM4F,wBAAwB,GAAG5F,GAAG,CAAC,KAAD,CAApC;AACA,UAAM6F,iBAAiB,GAAG3F,QAAQ,CAAC,MAAM;AACrC,YAAM;AAAEiD,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAwBxB,KAA9B;AACA,YAAMkE,IAAI,GAAG1C,OAAO,GAAG,OAAH,GAAa,MAAjC;AACA,YAAM2C,MAAM,GAAG3C,OAAO,GAAG,KAAH,GAAW,QAAjC;AACA,aAAOD,QAAQ,GAAG4C,MAAH,GAAYD,IAA3B;AACH,KALiC,CAAlC;AAMA,UAAME,YAAY,GAAG9F,QAAQ,CAAC,MAAM;AAChC,UAAIiF,sBAAsB,CAACpC,KAA3B,EACI;AACJ,YAAMkD,MAAM,GAAGlB,gBAAgB,CAAChC,KAAhC;AACA,YAAMmD,KAAK,GAAGC,iBAAiB,CAACvE,KAAK,CAACkB,KAAN,GAAcsD,IAAI,CAAC1D,GAAL,CAAS,GAAGuD,MAAZ,CAAd,GAAoCrE,KAAK,CAACc,GAA3C,CAA/B;AACA,YAAM2D,GAAG,GAAGF,iBAAiB,CAACvE,KAAK,CAACkB,KAAN,GAAcsD,IAAI,CAACzD,GAAL,CAAS,GAAGsD,MAAZ,CAAd,GAAoCA,MAAM,CAAC,CAAD,CAA3C,CAA7B;AACA,YAAM;AAAElD,QAAAA,KAAK,EAAEuD;AAAT,UAA4BT,iBAAlC;AACA,aAAOjE,KAAK,CAACuB,QAAN,GACD;AACE,SAACmD,cAAD,GAAmB,GAAEJ,KAAM,GAD7B;AAEEK,QAAAA,MAAM,EAAG,GAAEF,GAAG,GAAGH,KAAM;AAFzB,OADC,GAKD;AACE,SAACI,cAAD,GAAmB,GAAEJ,KAAM,GAD7B;AAEEM,QAAAA,KAAK,EAAG,GAAEH,GAAG,GAAGH,KAAM;AAFxB,OALN;AASH,KAhB4B,CAA7B;AAiBA,UAAMO,YAAY,GAAGvG,QAAQ,CAAC,MAAM;AAChC,YAAMwG,WAAW,GAAG,EAApB;AACA,YAAM;AAAEtE,QAAAA;AAAF,UAAYR,KAAlB;;AACA,UAAIQ,KAAJ,EAAW;AACP,cAAMuE,WAAW,GAAG5B,gBAAgB,CAAChC,KAAjB,CAAuB6D,KAAvB,EAApB;AACAD,QAAAA,WAAW,CAACE,IAAZ,CAAiB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAA/B;AACA,cAAM;AAAEhE,UAAAA,KAAK,EAAEuD;AAAT,YAA4BT,iBAAlC;AACA,cAAM;AAAE9C,UAAAA,KAAK,EAAEiE;AAAT,YAAiC7B,sBAAvC;AACA,cAAM;AAAErC,UAAAA;AAAF,YAAYlB,KAAlB;AACA,cAAMqF,QAAQ,GAAGD,mBAAmB,GAC9B,MAAM,KADwB,GAE7BE,GAAD,IAASpE,KAAK,GACVoE,GAAG,IAAIP,WAAW,CAAC,CAAD,CAAlB,IACEO,GAAG,IAAIP,WAAW,CAACA,WAAW,CAACjC,MAAZ,GAAqB,CAAtB,CAFV,GAGVwC,GAAG,IAAIP,WAAW,CAAC,CAAD,CAL5B;;AAMA,aAAK,MAAMQ,GAAX,IAAkBzF,MAAM,CAAC4D,IAAP,CAAYlD,KAAZ,CAAlB,EAAsC;AAClC,gBAAM8E,GAAG,GAAGjF,MAAM,CAACkF,GAAD,CAAlB;AACAT,UAAAA,WAAW,CAACU,IAAZ,CAAiB;AACbC,YAAAA,MAAM,EAAEJ,QAAQ,CAACC,GAAD,CADH;AAEbI,YAAAA,KAAK,EAAElF,KAAK,CAAC+E,GAAD,CAFC;AAGb5F,YAAAA,KAAK,EAAE;AACH,eAAC+E,cAAD,GAAmB,GAAEH,iBAAiB,CAACe,GAAD,CAAM;AADzC;AAHM,WAAjB;AAOH;AACJ;;AACD,aAAOR,WAAP;AACH,KA3B4B,CAA7B;;AA4BA,aAASa,cAAT,CAAwBxE,KAAxB,EAA+ByE,KAA/B,EAAsC;AAClC,YAAMC,UAAU,GAAGtB,iBAAiB,CAACpD,KAAD,CAApC;AACA,YAAM;AAAEA,QAAAA,KAAK,EAAEuD;AAAT,UAA4BT,iBAAlC;AACA,aAAO;AACH,SAACS,cAAD,GAAmB,GAAEmB,UAAW,GAD7B;AAEHC,QAAAA,MAAM,EAAEF,KAAK,KAAKhC,cAAc,CAACzC,KAAzB,GAAiC,CAAjC,GAAqC;AAF1C,OAAP;AAIH;;AACD,aAAS4E,aAAT,CAAuBH,KAAvB,EAA8B;AAC1B,aAAQ5F,KAAK,CAACqB,WAAN,IACJyC,aAAa,CAAC3C,KAAd,KAAwByE,KADpB,IAEHhC,cAAc,CAACzC,KAAf,KAAyByE,KAAzB,IAAkC7B,WAAW,CAAC5C,KAFnD;AAGH;;AACD,aAAS6E,kBAAT,CAA4BJ,KAA5B,EAAmC;AAC/B,aAAO,EAAEhC,cAAc,CAACzC,KAAf,KAAyByE,KAAzB,IAAkC/B,gBAAgB,CAAC1C,KAAjB,KAA2ByE,KAA/D,CAAP;AACH;;AACD,aAASK,iBAAT,CAA2BL,KAA3B,EAAkC;AAC9B,UAAIM,EAAJ;;AACA,UAAI,CAACN,KAAL,EAAY;AACRhC,QAAAA,cAAc,CAACzC,KAAf,GAAuByE,KAAvB;AACA,SAACM,EAAE,GAAGjE,UAAU,CAACd,KAAX,CAAiBgF,GAAjB,CAAqBP,KAArB,CAAN,MAAuC,IAAvC,IAA+CM,EAAE,KAAK,KAAK,CAA3D,GAA+D,KAAK,CAApE,GAAwEA,EAAE,CAACE,KAAH,EAAxE;AACH;AACJ;;AACD,aAASC,YAAT,GAAwB;AACpBlE,MAAAA,YAAY,CAAChB,KAAb,CAAmBmF,OAAnB,CAA2B,CAACC,IAAD,EAAOX,KAAP,KAAiB;AACxC,YAAIG,aAAa,CAACH,KAAD,CAAjB,EACIW,IAAI,CAACF,YAAL;AACP,OAHD;AAIH;;AACD,aAASG,aAAT,CAAuBrF,KAAvB,EAA8B;AAC1B,YAAM;AAAE,0BAAkBsF,cAApB;AAAoChF,QAAAA;AAApC,UAAsDzB,KAA5D;AACA,YAAM;AAAE0G,QAAAA,iBAAF;AAAqBC,QAAAA;AAArB,UAA4CpE,QAAlD;AACA,UAAId,aAAJ,EACInC,IAAI,CAACmC,aAAD,EAAgBN,KAAhB,CAAJ;AACJ,UAAIsF,cAAJ,EACInH,IAAI,CAACmH,cAAD,EAAiBtF,KAAjB,CAAJ;AACJ6B,MAAAA,oBAAoB,CAAC7B,KAArB,GAA6BA,KAA7B;AACAuF,MAAAA,iBAAiB;AACjBC,MAAAA,kBAAkB;AACrB;;AACD,aAASC,mBAAT,CAA6BzF,KAA7B,EAAoC;AAChC,YAAM;AAAED,QAAAA;AAAF,UAAYlB,KAAlB;;AACA,UAAIkB,KAAJ,EAAW;AACP,YAAIZ,KAAK,CAACuG,OAAN,CAAc1F,KAAd,CAAJ,EAA0B;AACtB,gBAAM;AAAEA,YAAAA,KAAK,EAAE2F;AAAT,cAAuB3D,gBAA7B;;AACA,cAAIhC,KAAK,CAAC4F,IAAN,OAAiBD,SAAS,CAACC,IAAV,EAArB,EAAuC;AACnCP,YAAAA,aAAa,CAACrF,KAAD,CAAb;AACH;AACJ;AACJ,OAPD,MAQK,IAAI,CAACb,KAAK,CAACuG,OAAN,CAAc1F,KAAd,CAAL,EAA2B;AAC5B,cAAM6F,QAAQ,GAAG7D,gBAAgB,CAAChC,KAAjB,CAAuB,CAAvB,CAAjB;;AACA,YAAI6F,QAAQ,KAAK7F,KAAjB,EAAwB;AACpBqF,UAAAA,aAAa,CAACrF,KAAD,CAAb;AACH;AACJ;AACJ;;AACD,aAAS8F,eAAT,CAAyB9F,KAAzB,EAAgCyE,KAAhC,EAAuC;AACnC,UAAI5F,KAAK,CAACkB,KAAV,EAAiB;AACb,cAAMmD,MAAM,GAAGlB,gBAAgB,CAAChC,KAAjB,CAAuB6D,KAAvB,EAAf;AACAX,QAAAA,MAAM,CAAC6C,MAAP,CAActB,KAAd,EAAqB,CAArB,EAAwBzE,KAAxB;AACAyF,QAAAA,mBAAmB,CAACvC,MAAD,CAAnB;AACH,OAJD,MAKK;AACDuC,QAAAA,mBAAmB,CAACzF,KAAD,CAAnB;AACH;AACJ,KArKQ,CAsKT;;;AACA,aAASgG,aAAT,CAAuBhG,KAAvB,EAA8BiG,YAA9B,EAA4CC,UAA5C,EAAwD;AACpD,YAAMC,QAAQ,GAAGD,UAAU,KAAK1G,SAAhC;;AACA,UAAI,CAAC0G,UAAL,EAAiB;AACbA,QAAAA,UAAU,GAAGlG,KAAK,GAAGiG,YAAR,GAAuB,CAAvB,GAA2B,CAA3B,GAA+B,CAAC,CAA7C;AACH;;AACD,YAAMG,UAAU,GAAG9D,aAAa,CAACtC,KAAd,IAAuB,EAA1C;AACA,YAAM;AAAEH,QAAAA;AAAF,UAAWhB,KAAjB;;AACA,UAAIgB,IAAI,KAAK,MAAb,EAAqB;AACjB,cAAMwG,WAAW,GAAGC,cAAc,CAACtG,KAAD,EAAQoG,UAAU,CAACG,MAAX,CAAkBN,YAAlB,CAAR,EAAyCE,QAAQ,GAAGD,UAAH,GAAgB1G,SAAjE,CAAlC;AACA,eAAO6G,WAAW,GAAGA,WAAW,CAACrG,KAAf,GAAuBiG,YAAzC;AACH;;AACD,UAAIpG,IAAI,IAAI,CAAZ,EACI,OAAOoG,YAAP;AACJ,YAAM;AAAEjG,QAAAA,KAAK,EAAEyB;AAAT,UAAuBH,YAA7B;AACA,UAAI+E,WAAJ,CAdoD,CAepD;AACA;;AACA,UAAIF,QAAJ,EAAc;AACV,cAAMK,WAAW,GAAGtH,MAAM,CAAC,CAAC+G,YAAY,GAAGpG,IAAhB,EAAsB4G,OAAtB,CAA8BhF,SAA9B,CAAD,CAA1B;AACA,cAAMiF,UAAU,GAAGrD,IAAI,CAACsD,KAAL,CAAWH,WAAX,CAAnB;AACA,cAAMI,QAAQ,GAAGJ,WAAW,GAAGE,UAAd,GAA2BA,UAA3B,GAAwCA,UAAU,GAAG,CAAtE;AACA,cAAMG,SAAS,GAAGL,WAAW,GAAGE,UAAd,GAA2BA,UAA3B,GAAwCA,UAAU,GAAG,CAAvE;AACAL,QAAAA,WAAW,GAAGC,cAAc,CAACL,YAAD,EAAe,CACvC/G,MAAM,CAAC,CAAC0H,QAAQ,GAAG/G,IAAZ,EAAkB4G,OAAlB,CAA0BhF,SAA1B,CAAD,CADiC,EAEvCvC,MAAM,CAAC,CAAC2H,SAAS,GAAGhH,IAAb,EAAmB4G,OAAnB,CAA2BhF,SAA3B,CAAD,CAFiC,EAGvC,GAAG2E,UAHoC,CAAf,EAIzBF,UAJyB,CAA5B;AAKH,OAVD,MAWK;AACD,cAAMY,UAAU,GAAGC,aAAa,CAAC/G,KAAD,CAAhC;AACAqG,QAAAA,WAAW,GAAGC,cAAc,CAACtG,KAAD,EAAQ,CAAC,GAAGoG,UAAJ,EAAgBU,UAAhB,CAAR,CAA5B;AACH;;AACD,aAAOT,WAAW,GAAGlE,UAAU,CAACkE,WAAW,CAACrG,KAAb,CAAb,GAAmCiG,YAArD;AACH;;AACD,aAAS9D,UAAT,CAAoBnC,KAApB,EAA2B;AACvB,aAAOqD,IAAI,CAAC1D,GAAL,CAASd,KAAK,CAACe,GAAf,EAAoByD,IAAI,CAACzD,GAAL,CAASf,KAAK,CAACc,GAAf,EAAoBK,KAApB,CAApB,CAAP;AACH;;AACD,aAASoD,iBAAT,CAA2BpD,KAA3B,EAAkC;AAC9B,YAAM;AAAEJ,QAAAA,GAAF;AAAOD,QAAAA;AAAP,UAAed,KAArB;AACA,aAAQ,CAACmB,KAAK,GAAGL,GAAT,KAAiBC,GAAG,GAAGD,GAAvB,CAAD,GAAgC,GAAvC;AACH;;AACD,aAASqH,iBAAT,CAA2BtC,UAA3B,EAAuC;AACnC,YAAM;AAAE9E,QAAAA,GAAF;AAAOD,QAAAA;AAAP,UAAed,KAArB;AACA,aAAOc,GAAG,GAAG,CAACC,GAAG,GAAGD,GAAP,IAAc+E,UAA3B;AACH;;AACD,aAASqC,aAAT,CAAuB/G,KAAvB,EAA8B;AAC1B,YAAM;AAAEH,QAAAA,IAAF;AAAQF,QAAAA;AAAR,UAAgBd,KAAtB;AACA,UAAIgB,IAAI,IAAI,CAAR,IAAaA,IAAI,KAAK,MAA1B,EACI,OAAOG,KAAP;AACJ,YAAMiH,QAAQ,GAAG5D,IAAI,CAAC6D,KAAL,CAAW,CAAClH,KAAK,GAAGL,GAAT,IAAgBE,IAA3B,IAAmCA,IAAnC,GAA0CF,GAA3D;AACA,aAAOT,MAAM,CAAC+H,QAAQ,CAACR,OAAT,CAAiBnF,YAAY,CAACtB,KAA9B,CAAD,CAAb;AACH;;AACD,aAASsG,cAAT,CAAwBL,YAAxB,EAAsCG,UAAU,GAAG9D,aAAa,CAACtC,KAAjE,EAAwEmH,MAAxE,EAAgF;AAC5E,UAAI,CAACf,UAAD,IAAe,CAACA,UAAU,CAACzE,MAA/B,EACI,OAAO,IAAP;AACJ,UAAI0E,WAAW,GAAG,IAAlB;AACA,UAAI5B,KAAK,GAAG,CAAC,CAAb;;AACA,aAAO,EAAEA,KAAF,GAAU2B,UAAU,CAACzE,MAA5B,EAAoC;AAChC,cAAMyF,IAAI,GAAGhB,UAAU,CAAC3B,KAAD,CAAV,GAAoBwB,YAAjC;AACA,cAAMoB,QAAQ,GAAGhE,IAAI,CAACiE,GAAL,CAASF,IAAT,CAAjB;;AACA,aACA;AACA,SAACD,MAAM,KAAK3H,SAAX,IAAwB4H,IAAI,GAAGD,MAAP,GAAgB,CAAzC,MACKd,WAAW,KAAK,IAAhB,IAAwBgB,QAAQ,GAAGhB,WAAW,CAACgB,QADpD,CAFA,EAG+D;AAC3DhB,UAAAA,WAAW,GAAG;AACV5B,YAAAA,KADU;AAEV4C,YAAAA,QAFU;AAGVrH,YAAAA,KAAK,EAAEoG,UAAU,CAAC3B,KAAD;AAHP,WAAd;AAKH;AACJ;;AACD,aAAO4B,WAAP;AACH;;AACD,aAASkB,aAAT,CAAuBC,KAAvB,EAA8B;AAC1B,YAAMC,MAAM,GAAG5G,aAAa,CAACb,KAA7B;AACA,UAAI,CAACyH,MAAL,EACI;AACJ,YAAMC,UAAU,GAAGpJ,YAAY,CAACkJ,KAAD,CAAZ,GAAsBA,KAAK,CAACG,OAAN,CAAc,CAAd,CAAtB,GAAyCH,KAA5D;AACA,YAAMI,QAAQ,GAAGH,MAAM,CAACI,qBAAP,EAAjB;AACA,UAAInD,UAAJ;;AACA,UAAI7F,KAAK,CAACuB,QAAV,EAAoB;AAChBsE,QAAAA,UAAU,GAAG,CAACkD,QAAQ,CAAC5E,MAAT,GAAkB0E,UAAU,CAACI,OAA9B,IAAyCF,QAAQ,CAACpE,MAA/D;AACH,OAFD,MAGK;AACDkB,QAAAA,UAAU,GAAG,CAACgD,UAAU,CAACK,OAAX,GAAqBH,QAAQ,CAAC7E,IAA/B,IAAuC6E,QAAQ,CAACnE,KAA7D;AACH;;AACD,UAAI5E,KAAK,CAACwB,OAAV,EAAmB;AACfqE,QAAAA,UAAU,GAAG,IAAIA,UAAjB;AACH;;AACD,aAAOsC,iBAAiB,CAACtC,UAAD,CAAxB;AACH,KAjQQ,CAkQT;;;AACA,aAASsD,iBAAT,CAA2BC,CAA3B,EAA8B;AAC1B,UAAI5G,iBAAiB,CAACrB,KAAtB,EACI;AACJ,YAAM;AAAEI,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAwBxB,KAA9B;;AACA,cAAQoJ,CAAC,CAACC,IAAV;AACI,aAAK,SAAL;AACID,UAAAA,CAAC,CAACE,cAAF;AACAC,UAAAA,eAAe,CAAChI,QAAQ,IAAIC,OAAZ,GAAsB,CAAC,CAAvB,GAA2B,CAA5B,CAAf;AACA;;AACJ,aAAK,YAAL;AACI4H,UAAAA,CAAC,CAACE,cAAF;AACAC,UAAAA,eAAe,CAAC,CAAChI,QAAD,IAAaC,OAAb,GAAuB,CAAC,CAAxB,GAA4B,CAA7B,CAAf;AACA;;AACJ,aAAK,WAAL;AACI4H,UAAAA,CAAC,CAACE,cAAF;AACAC,UAAAA,eAAe,CAAChI,QAAQ,IAAIC,OAAZ,GAAsB,CAAtB,GAA0B,CAAC,CAA5B,CAAf;AACA;;AACJ,aAAK,WAAL;AACI4H,UAAAA,CAAC,CAACE,cAAF;AACAC,UAAAA,eAAe,CAAC,CAAChI,QAAD,IAAaC,OAAb,GAAuB,CAAvB,GAA2B,CAAC,CAA7B,CAAf;AACA;AAhBR;AAkBH;;AACD,aAAS+H,eAAT,CAAyBC,KAAzB,EAAgC;AAC5B,YAAMC,WAAW,GAAG7F,cAAc,CAACzC,KAAnC;AACA,UAAIsI,WAAW,KAAK,CAAC,CAArB,EACI;AACJ,YAAM;AAAEzI,QAAAA;AAAF,UAAWhB,KAAjB;AACA,YAAMoH,YAAY,GAAGjE,gBAAgB,CAAChC,KAAjB,CAAuBsI,WAAvB,CAArB;AACA,YAAMC,SAAS,GAAG1I,IAAI,IAAI,CAAR,IAAaA,IAAI,KAAK,MAAtB,GACZoG,YADY,GAEZA,YAAY,GAAGpG,IAAI,GAAGwI,KAF5B;AAGAvC,MAAAA,eAAe,EACf;AACAE,MAAAA,aAAa,CAACuC,SAAD,EAAYtC,YAAZ,EAA0BoC,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgB,CAAC,CAA3C,CAFE,EAE6CC,WAF7C,CAAf;AAGH;;AACD,aAASE,mBAAT,CAA6BhB,KAA7B,EAAoC;AAChC,UAAIzC,EAAJ,EAAQ0D,EAAR;;AACA,UAAIpH,iBAAiB,CAACrB,KAAtB,EACI;;AACJ,UAAI,CAAC1B,YAAY,CAACkJ,KAAD,CAAb,IAAwBA,KAAK,CAACkB,MAAN,KAAiBjK,eAA7C,EAA8D;AAC1D;AACH;;AACD,YAAMkK,UAAU,GAAGpB,aAAa,CAACC,KAAD,CAAhC;AACA,UAAImB,UAAU,KAAKnJ,SAAnB,EACI;AACJ,YAAM0D,MAAM,GAAGlB,gBAAgB,CAAChC,KAAjB,CAAuB6D,KAAvB,EAAf;AACA,YAAMyE,WAAW,GAAGzJ,KAAK,CAACkB,KAAN,GACd,CAAC0I,EAAE,GAAG,CAAC1D,EAAE,GAAGuB,cAAc,CAACqC,UAAD,EAAazF,MAAb,CAApB,MAA8C,IAA9C,IAAsD6B,EAAE,KAAK,KAAK,CAAlE,GAAsE,KAAK,CAA3E,GAA+EA,EAAE,CAACN,KAAxF,MAAmG,IAAnG,IAA2GgE,EAAE,KAAK,KAAK,CAAvH,GAA2HA,EAA3H,GAAgI,CAAC,CADnH,GAEd,CAFN;;AAGA,UAAIH,WAAW,KAAK,CAAC,CAArB,EAAwB;AACpB;AACAd,QAAAA,KAAK,CAACW,cAAN;AACArD,QAAAA,iBAAiB,CAACwD,WAAD,CAAjB;AACAM,QAAAA,aAAa;AACb9C,QAAAA,eAAe,CAACE,aAAa,CAAC2C,UAAD,EAAa3G,gBAAgB,CAAChC,KAAjB,CAAuBsI,WAAvB,CAAb,CAAd,EAAiEA,WAAjE,CAAf;AACH;AACJ;;AACD,aAASM,aAAT,GAAyB;AACrB,UAAI,CAAChG,WAAW,CAAC5C,KAAjB,EAAwB;AACpB4C,QAAAA,WAAW,CAAC5C,KAAZ,GAAoB,IAApB;AACAnC,QAAAA,EAAE,CAAC,UAAD,EAAagL,QAAb,EAAuBC,aAAvB,CAAF;AACAjL,QAAAA,EAAE,CAAC,SAAD,EAAYgL,QAAZ,EAAsBC,aAAtB,CAAF;AACAjL,QAAAA,EAAE,CAAC,WAAD,EAAcgL,QAAd,EAAwBE,eAAxB,CAAF;AACAlL,QAAAA,EAAE,CAAC,WAAD,EAAcgL,QAAd,EAAwBE,eAAxB,CAAF;AACH;AACJ;;AACD,aAASC,YAAT,GAAwB;AACpB,UAAIpG,WAAW,CAAC5C,KAAhB,EAAuB;AACnB4C,QAAAA,WAAW,CAAC5C,KAAZ,GAAoB,KAApB;AACAlC,QAAAA,GAAG,CAAC,UAAD,EAAa+K,QAAb,EAAuBC,aAAvB,CAAH;AACAhL,QAAAA,GAAG,CAAC,SAAD,EAAY+K,QAAZ,EAAsBC,aAAtB,CAAH;AACAhL,QAAAA,GAAG,CAAC,WAAD,EAAc+K,QAAd,EAAwBE,eAAxB,CAAH;AACAjL,QAAAA,GAAG,CAAC,WAAD,EAAc+K,QAAd,EAAwBE,eAAxB,CAAH;AACH;AACJ;;AACD,aAASA,eAAT,CAAyBvB,KAAzB,EAAgC;AAC5B,YAAM;AAAExH,QAAAA,KAAK,EAAEsI;AAAT,UAAyB7F,cAA/B;;AACA,UAAI,CAACG,WAAW,CAAC5C,KAAb,IAAsBsI,WAAW,KAAK,CAAC,CAA3C,EAA8C;AAC1CU,QAAAA,YAAY;AACZ;AACH;;AACD,YAAML,UAAU,GAAGpB,aAAa,CAACC,KAAD,CAAhC;AACA1B,MAAAA,eAAe,CAACE,aAAa,CAAC2C,UAAD,EAAa3G,gBAAgB,CAAChC,KAAjB,CAAuBsI,WAAvB,CAAb,CAAd,EAAiEA,WAAjE,CAAf;AACH;;AACD,aAASQ,aAAT,GAAyB;AACrBE,MAAAA,YAAY;AACf;;AACD,aAASC,iBAAT,CAA2BxE,KAA3B,EAAkC;AAC9BhC,MAAAA,cAAc,CAACzC,KAAf,GAAuByE,KAAvB,CAD8B,CAE9B;;AACA,UAAI,CAACpD,iBAAiB,CAACrB,KAAvB,EAA8B;AAC1B2C,QAAAA,aAAa,CAAC3C,KAAd,GAAsByE,KAAtB;AACH;AACJ;;AACD,aAASyE,gBAAT,CAA0BzE,KAA1B,EAAiC;AAC7B,UAAIhC,cAAc,CAACzC,KAAf,KAAyByE,KAA7B,EAAoC;AAChChC,QAAAA,cAAc,CAACzC,KAAf,GAAuB,CAAC,CAAxB;AACAgJ,QAAAA,YAAY;AACf;;AACD,UAAIrG,aAAa,CAAC3C,KAAd,KAAwByE,KAA5B,EAAmC;AAC/B9B,QAAAA,aAAa,CAAC3C,KAAd,GAAsB,CAAC,CAAvB;AACH;AACJ;;AACD,aAASmJ,sBAAT,CAAgC1E,KAAhC,EAAuC;AACnC9B,MAAAA,aAAa,CAAC3C,KAAd,GAAsByE,KAAtB;AACH;;AACD,aAAS2E,sBAAT,CAAgC3E,KAAhC,EAAuC;AACnC,UAAI9B,aAAa,CAAC3C,KAAd,KAAwByE,KAA5B,EAAmC;AAC/B9B,QAAAA,aAAa,CAAC3C,KAAd,GAAsB,CAAC,CAAvB;AACH;AACJ;;AACD5C,IAAAA,KAAK,CAACqF,cAAD,EAAiB,CAAC4G,CAAD,EAAIC,QAAJ,KAAiB,KAAKjM,QAAQ,CAAC,MAAOqF,gBAAgB,CAAC1C,KAAjB,GAAyBsJ,QAAjC,CAA/C,CAAL;AACAlM,IAAAA,KAAK,CAAC2E,cAAD,EAAiB,MAAM;AACxB,UAAIlD,KAAK,CAACQ,KAAV,EAAiB;AACb,YAAIwD,wBAAwB,CAAC7C,KAA7B,EACI;AACJ6C,QAAAA,wBAAwB,CAAC7C,KAAzB,GAAiC,IAAjC;AACA,aAAK3C,QAAQ,CAAC,MAAM;AAChBwF,UAAAA,wBAAwB,CAAC7C,KAAzB,GAAiC,KAAjC;AACH,SAFY,CAAb;AAGH;;AACD,WAAK3C,QAAQ,CAAC6H,YAAD,CAAb;AACH,KAVI,CAAL;AAWA,UAAMqE,UAAU,GAAGpM,QAAQ,CAAC,MAAM;AAC9B,YAAM;AAAEqM,QAAAA,IAAI,EAAE;AAAEC,UAAAA,SAAF;AAAaC,UAAAA,cAAb;AAA6BC,UAAAA,SAA7B;AAAwCC,UAAAA,cAAxC;AAAwDC,UAAAA,WAAxD;AAAqEC,UAAAA,eAArE;AAAsFC,UAAAA,QAAtF;AAAgGC,UAAAA,aAAhG;AAA+GC,UAAAA,eAA/G;AAAgIC,UAAAA,oBAAhI;AAAsJC,UAAAA,qBAAtJ;AAA6KC,UAAAA,oBAA7K;AAAmMC,UAAAA,SAAnM;AAA8MC,UAAAA,YAA9M;AAA4NC,UAAAA,UAA5N;AAAwOC,UAAAA,iBAAxO;AAA2PC,UAAAA,UAA3P;AAAuQC,UAAAA,SAAvQ;AAAkRC,UAAAA,QAAlR;AAA4RC,UAAAA,eAA5R;AAA6SC,UAAAA,QAA7S;AAAuTC,UAAAA,eAAvT;AAAwUC,UAAAA;AAAxU,SAAR;AAAmWC,QAAAA,MAAM,EAAE;AAAEC,UAAAA;AAAF;AAA3W,UAAwYrK,QAAQ,CAACZ,KAAvZ;AACA,aAAO;AACH,sBAAciL,oBADX;AAEH,0BAAkBZ,SAFf;AAGH,iCAAyBS,eAHtB;AAIH,iCAAyBF,eAJtB;AAKH,8BAAsBN,YALnB;AAMH,yBAAiBP,QANd;AAOH,+BAAuBC,aAPpB;AAQH,iCAAyBe,eARtB;AASH,0BAAkBL,SATf;AAUH,yBAAiBC,QAVd;AAWH,0BAAkBhB,SAXf;AAYH,gCAAwBC,cAZrB;AAaH,yBAAiBiB,QAbd;AAcH,iCAAyBZ,eAdtB;AAeH,wCAAgCE,qBAf7B;AAgBH,uCAA+BC,oBAhB5B;AAiBH,uCAA+BF,oBAjB5B;AAkBH,4BAAoBL,WAlBjB;AAmBH,2BAAmBY,UAnBhB;AAoBH,gCAAwBX,eApBrB;AAqBH,0BAAkBL,SArBf;AAsBH,gCAAwBC,cAtBrB;AAuBH,2BAAmBa,UAvBhB;AAwBH,mCAA2BC;AAxBxB,OAAP;AA0BH,KA5B0B,CAA3B;AA6BA,UAAMU,gBAAgB,GAAGvK,mBAAmB,GACtCzC,aAAa,CAAC,QAAD,EAAWsB,SAAX,EAAsB+J,UAAtB,EAAkC1K,KAAlC,CADyB,GAEtCW,SAFN;AAGA,UAAM2L,mBAAmB,GAAGhO,QAAQ,CAAC,MAAM;AACvC,YAAM;AAAEqM,QAAAA,IAAI,EAAE;AAAEqB,UAAAA,QAAF;AAAYO,UAAAA,cAAZ;AAA4BC,UAAAA,kBAA5B;AAAgDC,UAAAA,kBAAhD;AAAoEC,UAAAA;AAApE;AAAR,UAAwG3K,QAAQ,CAACZ,KAAvH;AACA,aAAO;AACH,yBAAiB6K,QADd;AAEH,uCAA+BU,qBAF5B;AAGH,oCAA4BF,kBAHzB;AAIH,+BAAuBD,cAJpB;AAKH,oCAA4BE;AALzB,OAAP;AAOH,KATmC,CAApC;AAUA,UAAME,yBAAyB,GAAG7K,mBAAmB,GAC/CzC,aAAa,CAAC,kBAAD,EAAqBsB,SAArB,EAAgC2L,mBAAhC,EAAqDtM,KAArD,CADkC,GAE/CW,SAFN;AAGA,WAAO;AACHiM,MAAAA,eAAe,EAAEhL,kBADd;AAEHiL,MAAAA,SAAS,EAAEhL,YAFR;AAGHiL,MAAAA,iBAAiB,EAAE9J,oBAHhB;AAIHI,MAAAA,WAAW,EAAEF,cAJV;AAKH6J,MAAAA,cAAc,EAAEvK,iBALb;AAMHwK,MAAAA,eAAe,EAAExJ,kBANd;AAOHyJ,MAAAA,SAAS,EAAEnO,YAAY,EAPpB;AAQHoO,MAAAA,UAAU,EAAE3N,aAAa,CAACS,KAAD,CARtB;AASHmN,MAAAA,qBAAqB,EAAEnJ,wBATpB;AAUHoJ,MAAAA,SAAS,EAAEvI,YAVR;AAWHkB,MAAAA,aAXG;AAYHC,MAAAA,kBAZG;AAaHhE,MAAAA,aAbG;AAcHE,MAAAA,aAdG;AAeHE,MAAAA,eAfG;AAgBHiL,MAAAA,SAAS,EAAEjJ,YAhBR;AAiBHuB,MAAAA,cAjBG;AAkBH8D,MAAAA,WAAW,EAAE7F,cAlBV;AAmBH0J,MAAAA,cAAc,EAAEnK,gBAnBb;AAoBHoK,MAAAA,uBAAuB,EAAElL,0BApBtB;AAqBHsH,MAAAA,mBArBG;AAsBHS,MAAAA,iBAtBG;AAuBHC,MAAAA,gBAvBG;AAwBHC,MAAAA,sBAxBG;AAyBHC,MAAAA,sBAzBG;AA0BHpB,MAAAA,iBA1BG;AA2BHqE,MAAAA,gBAAgB,EAAE1L,mBAAmB,GAAGnB,SAAH,GAAe2L,mBA3BjD;AA4BHmB,MAAAA,mBAAmB,EAAEd,yBAAyB,KAAK,IAA9B,IAAsCA,yBAAyB,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,yBAAyB,CAACe,UA5BlI;AA6BHC,MAAAA,iBAAiB,EAAEhB,yBAAyB,KAAK,IAA9B,IAAsCA,yBAAyB,KAAK,KAAK,CAAzE,GAA6E,KAAK,CAAlF,GAAsFA,yBAAyB,CAACiB,QA7BhI;AA8BHC,MAAAA,OAAO,EAAE/L,mBAAmB,GAAGnB,SAAH,GAAe+J,UA9BxC;AA+BHgD,MAAAA,UAAU,EAAErB,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,gBAAgB,CAACqB,UA/B9F;AAgCHE,MAAAA,QAAQ,EAAEvB,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,gBAAgB,CAACuB;AAhC5F,KAAP;AAkCH,GAjd0B;;AAkd3BE,EAAAA,MAAM,GAAG;AACL,QAAI5H,EAAJ;;AACA,UAAM;AAAE0G,MAAAA,eAAF;AAAmBc,MAAAA,UAAnB;AAA+B9M,MAAAA;AAA/B,QAAiD,IAAvD;AACA,KAACsF,EAAE,GAAG,KAAK0H,QAAX,MAAyB,IAAzB,IAAiC1H,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAAC5G,IAAH,CAAQ,IAAR,CAA1D;AACA,WAAQnB,CAAC,CAAC,KAAD,EAAQ;AAAE4P,MAAAA,KAAK,EAAE,CACjB,GAAEnB,eAAgB,SADD,EAElBc,UAFkB,EAGlB;AACI,SAAE,GAAEd,eAAgB,mBAApB,GAAyC,KAAKG,cADlD;AAEI,SAAE,GAAEH,eAAgB,iBAApB,GAAuC,KAAKnD,WAAL,KAAqB,CAAC,CAFjE;AAGI,SAAE,GAAEmD,eAAgB,oBAApB,GAA0C,KAAKpM,KAHnD;AAII,SAAE,GAAEoM,eAAgB,mBAApB,GAAyC,KAAKrL,QAJlD;AAKI,SAAE,GAAEqL,eAAgB,kBAApB,GAAwC,KAAKpL;AALjD,OAHkB,CAAT;AAUV7B,MAAAA,KAAK,EAAE,KAAKkO,OAVF;AAUWG,MAAAA,SAAS,EAAE,KAAK7E,iBAV3B;AAU8C8E,MAAAA,WAAW,EAAE,KAAKtE,mBAVhE;AAUqFuE,MAAAA,YAAY,EAAE,KAAKvE;AAVxG,KAAR,EAWLxL,CAAC,CAAC,KAAD,EAAQ;AAAE4P,MAAAA,KAAK,EAAG,GAAEnB,eAAgB;AAA5B,KAAR,EACGzO,CAAC,CAAC,KAAD,EAAQ;AAAE4P,MAAAA,KAAK,EAAG,GAAEnB,eAAgB,oBAA5B;AAAiDjN,MAAAA,KAAK,EAAE,KAAK0N;AAA7D,KAAR,CADJ,EAEG,KAAK7M,KAAL,GAAcrC,CAAC,CAAC,KAAD,EAAQ;AAAE4P,MAAAA,KAAK,EAAE,CACvB,GAAEnB,eAAgB,cADK,EAExB,KAAKO,qBAAL,IACK,GAAEP,eAAgB,mCAHC;AAAT,KAAR,EAIN,KAAKQ,SAAL,CAAe/J,GAAf,CAAoB8K,IAAD,IAAWhQ,CAAC,CAAC,KAAD,EAAQ;AAAEoH,MAAAA,GAAG,EAAE4I,IAAI,CAACzI,KAAZ;AAAmBqI,MAAAA,KAAK,EAAE,CACjE,GAAEnB,eAAgB,aAD+C,EAElE;AACI,SAAE,GAAEA,eAAgB,qBAApB,GAA2CuB,IAAI,CAAC1I;AADpD,OAFkE,CAA1B;AAKzC9F,MAAAA,KAAK,EAAEwO,IAAI,CAACxO;AAL6B,KAAR,CAA/B,CAJM,CAAf,GASkC,IAXrC,EAYGxB,CAAC,CAAC,KAAD,EAAQ;AAAEC,MAAAA,GAAG,EAAE,eAAP;AAAwB2P,MAAAA,KAAK,EAAG,GAAEnB,eAAgB;AAAlD,KAAR,EAA8E,KAAKU,cAAL,CAAoBjK,GAApB,CAAwB,CAAClC,KAAD,EAAQyE,KAAR,KAAkB;AACrH,YAAMvE,WAAW,GAAG,KAAK0E,aAAL,CAAmBH,KAAnB,CAApB;AACA,aAAQzH,CAAC,CAACQ,OAAD,EAAU,IAAV,EAAgB;AACrB4B,QAAAA,OAAO,EAAE,MAAM,CACXpC,CAAC,CAACS,OAAD,EAAU,IAAV,EAAgB;AACb2B,UAAAA,OAAO,EAAE,MAAOpC,CAAC,CAAC,KAAD,EAAQ;AAAEC,YAAAA,GAAG,EAAE,KAAK8D,aAAL,CAAmB0D,KAAnB,CAAP;AAAkCmI,YAAAA,KAAK,EAAG,GAAEnB,eAAgB,gBAA5D;AAA6EwB,YAAAA,QAAQ,EAAE,KAAKrB,cAAL,GAAsB,CAAC,CAAvB,GAA2B,CAAlH;AAAqHpN,YAAAA,KAAK,EAAE,KAAKgG,cAAL,CAAoBxE,KAApB,EAA2ByE,KAA3B,CAA5H;AAA+JyI,YAAAA,OAAO,EAAE,MAAM,KAAKjE,iBAAL,CAAuBxE,KAAvB,CAA9K;AAA6M0I,YAAAA,MAAM,EAAE,MAAM,KAAKjE,gBAAL,CAAsBzE,KAAtB,CAA3N;AAAyP2I,YAAAA,YAAY,EAAE,MAAM,KAAKjE,sBAAL,CAA4B1E,KAA5B,CAA7Q;AAAiT4I,YAAAA,YAAY,EAAE,MAAM,KAAKjE,sBAAL,CAA4B3E,KAA5B;AAArU,WAAR;AADJ,SAAhB,CADU,EAIX,KAAKtE,OAAL,IAAiBnD,CAAC,CAACU,SAAD,EAAY;AAAET,UAAAA,GAAG,EAAE,KAAKgE,eAAL,CAAqBwD,KAArB,CAAP;AAAoC6I,UAAAA,IAAI,EAAEpN,WAA1C;AAAuDpB,UAAAA,EAAE,EAAE,KAAKiN,UAAhE;AAA4EwB,UAAAA,OAAO,EAAG,KAAKrN,WAAL,IAAoB,CAAC,KAAKH,KAA3B,IAC3G,KAAKqM,uBAAL,CAA6BoB,GAA7B,CAAiC/I,KAAjC,CADsB;AACmBgJ,UAAAA,gBAAgB,EAAE,KAAK1B,UAAL,KAAoB3N,aAAa,CAACsP,KADvE;AAC8EzN,UAAAA,SAAS,EAAE,KAAK4L,eAD9F;AAC+G8B,UAAAA,cAAc,EAAE,KAAKjC;AADpI,SAAZ,EAC6J;AAC3KtM,UAAAA,OAAO,EAAE,MAAOpC,CAAC,CAACO,UAAD,EAAa;AAAEgD,YAAAA,IAAI,EAAE,6BAAR;AAAuCqN,YAAAA,MAAM,EAAE,KAAK9B,SAApD;AAA+D+B,YAAAA,GAAG,EAAE,KAAKhJ,kBAAL,CAAwBJ,KAAxB,CAApE;AAAoGqJ,YAAAA,OAAO,EAAE,MAAM,KAAK1B,uBAAL,CAA6B2B,GAA7B,CAAiCtJ,KAAjC,CAAnH;AAA4JuJ,YAAAA,YAAY,EAAE,MAAM,KAAK5B,uBAAL,CAA6B6B,MAA7B,CAAoCxJ,KAApC;AAAhL,WAAb,EAA2O;AACxPrF,YAAAA,OAAO,EAAE,MAAM;AACX,kBAAI2F,EAAJ;;AACA,kBAAI7E,WAAJ,EAAiB;AACb,iBAAC6E,EAAE,GAAG,KAAKyH,iBAAX,MAAkC,IAAlC,IAA0CzH,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAAC5G,IAAH,CAAQ,IAAR,CAAnE;AACA,uBAAQnB,CAAC,CAAC,KAAD,EAAQ;AAAE4P,kBAAAA,KAAK,EAAE,CACjB,GAAEnB,eAAgB,0BADD,EAElB,KAAKa,mBAFa,EAGjB,GAAEb,eAAgB,6BAA4B,KAAKI,eAAgB,EAHlD,CAAT;AAIVrN,kBAAAA,KAAK,EAAE,KACL6N;AALQ,iBAAR,EAKoB,OAAO5M,aAAP,KAAyB,UAAzB,GACvBA,aAAa,CAACO,KAAD,CADU,GAEvBA,KAPG,CAAT;AAQH;;AACD,qBAAO,IAAP;AACH;AAfuP,WAA3O;AAD0J,SAD7J,CAJP;AADM,OAAhB,CAAT;AA2BH,KA7B8E,CAA9E,CAZJ,EA0CG,KAAKX,KAAL,GAAcrC,CAAC,CAAC,KAAD,EAAQ;AAAE4P,MAAAA,KAAK,EAAG,GAAEnB,eAAgB;AAA5B,KAAR,EAAsD,KAAKQ,SAAL,CAAe/J,GAAf,CAAoB8K,IAAD,IAAWhQ,CAAC,CAAC,KAAD,EAAQ;AAAEoH,MAAAA,GAAG,EAAE4I,IAAI,CAACzI,KAAZ;AAAmBqI,MAAAA,KAAK,EAAG,GAAEnB,eAAgB,cAA7C;AAA4DjN,MAAAA,KAAK,EAAEwO,IAAI,CAACxO;AAAxE,KAAR,EAAyFwO,IAAI,CAACzI,KAA9F,CAA/B,CAAtD,CAAf,GAA+M,IA1ClN,CAXI,CAAT;AAsDH;;AA5gB0B,CAAD,CAA9B","sourcesContent":["import { h, ref, toRef, computed, watch, nextTick, defineComponent, Transition } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { useIsMounted, useMergedState } from 'vooks';\nimport { on, off } from 'evtd';\nimport { useTheme, useFormItem, useConfig, useThemeClass } from '../../_mixins';\nimport { call, useAdjustedTo } from '../../_utils';\nimport { sliderLight } from '../styles';\nimport { isTouchEvent, useRefs } from './utils';\nimport style from './styles/index.cssr';\n// ref: https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/button\nconst eventButtonLeft = 0;\nconst sliderProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, defaultValue: {\n        type: [Number, Array],\n        default: 0\n    }, marks: Object, disabled: {\n        type: Boolean,\n        default: undefined\n    }, formatTooltip: Function, min: {\n        type: Number,\n        default: 0\n    }, max: {\n        type: Number,\n        default: 100\n    }, step: {\n        type: [Number, String],\n        default: 1\n    }, range: Boolean, value: [Number, Array], placement: String, showTooltip: {\n        type: Boolean,\n        default: undefined\n    }, tooltip: {\n        type: Boolean,\n        default: true\n    }, vertical: Boolean, reverse: Boolean, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array] });\nexport default defineComponent({\n    name: 'Slider',\n    props: sliderProps,\n    setup(props) {\n        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Slider', '-slider', style, sliderLight, props, mergedClsPrefixRef);\n        // dom ref\n        const handleRailRef = ref(null);\n        const [handleRefs, setHandleRefs] = useRefs();\n        const [followerRefs, setFollowerRefs] = useRefs();\n        const followerEnabledIndexSetRef = ref(new Set());\n        // data ref\n        const formItem = useFormItem(props);\n        const { mergedDisabledRef } = formItem;\n        const precisionRef = computed(() => {\n            const { step } = props;\n            if (step <= 0 || step === 'mark')\n                return 0;\n            const stepString = step.toString();\n            let precision = 0;\n            if (stepString.includes('.')) {\n                precision = stepString.length - stepString.indexOf('.') - 1;\n            }\n            return precision;\n        });\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const arrifiedValueRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            return (props.range ? mergedValue : [mergedValue]).map(clampValue);\n        });\n        const handleCountExceeds2Ref = computed(() => arrifiedValueRef.value.length > 2);\n        const mergedPlacementRef = computed(() => {\n            return props.placement === undefined\n                ? props.vertical\n                    ? 'right'\n                    : 'top'\n                : props.placement;\n        });\n        const markValuesRef = computed(() => {\n            const { marks } = props;\n            return marks ? Object.keys(marks).map(parseFloat) : null;\n        });\n        // status ref\n        const activeIndexRef = ref(-1);\n        const previousIndexRef = ref(-1);\n        const hoverIndexRef = ref(-1);\n        const draggingRef = ref(false);\n        // style ref\n        const dotTransitionDisabledRef = ref(false);\n        const styleDirectionRef = computed(() => {\n            const { vertical, reverse } = props;\n            const left = reverse ? 'right' : 'left';\n            const bottom = reverse ? 'top' : 'bottom';\n            return vertical ? bottom : left;\n        });\n        const fillStyleRef = computed(() => {\n            if (handleCountExceeds2Ref.value)\n                return;\n            const values = arrifiedValueRef.value;\n            const start = valueToPercentage(props.range ? Math.min(...values) : props.min);\n            const end = valueToPercentage(props.range ? Math.max(...values) : values[0]);\n            const { value: styleDirection } = styleDirectionRef;\n            return props.vertical\n                ? {\n                    [styleDirection]: `${start}%`,\n                    height: `${end - start}%`\n                }\n                : {\n                    [styleDirection]: `${start}%`,\n                    width: `${end - start}%`\n                };\n        });\n        const markInfosRef = computed(() => {\n            const mergedMarks = [];\n            const { marks } = props;\n            if (marks) {\n                const orderValues = arrifiedValueRef.value.slice();\n                orderValues.sort((a, b) => a - b);\n                const { value: styleDirection } = styleDirectionRef;\n                const { value: handleCountExceeds2 } = handleCountExceeds2Ref;\n                const { range } = props;\n                const isActive = handleCountExceeds2\n                    ? () => false\n                    : (num) => range\n                        ? num >= orderValues[0] &&\n                            num <= orderValues[orderValues.length - 1]\n                        : num <= orderValues[0];\n                for (const key of Object.keys(marks)) {\n                    const num = Number(key);\n                    mergedMarks.push({\n                        active: isActive(num),\n                        label: marks[key],\n                        style: {\n                            [styleDirection]: `${valueToPercentage(num)}%`\n                        }\n                    });\n                }\n            }\n            return mergedMarks;\n        });\n        function getHandleStyle(value, index) {\n            const percentage = valueToPercentage(value);\n            const { value: styleDirection } = styleDirectionRef;\n            return {\n                [styleDirection]: `${percentage}%`,\n                zIndex: index === activeIndexRef.value ? 1 : 0\n            };\n        }\n        function isShowTooltip(index) {\n            return (props.showTooltip ||\n                hoverIndexRef.value === index ||\n                (activeIndexRef.value === index && draggingRef.value));\n        }\n        function isSkipCSSDetection(index) {\n            return !(activeIndexRef.value === index && previousIndexRef.value === index);\n        }\n        function focusActiveHandle(index) {\n            var _a;\n            if (~index) {\n                activeIndexRef.value = index;\n                (_a = handleRefs.value.get(index)) === null || _a === void 0 ? void 0 : _a.focus();\n            }\n        }\n        function syncPosition() {\n            followerRefs.value.forEach((inst, index) => {\n                if (isShowTooltip(index))\n                    inst.syncPosition();\n            });\n        }\n        function doUpdateValue(value) {\n            const { 'onUpdate:value': _onUpdateValue, onUpdateValue } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n            nTriggerFormChange();\n        }\n        function dispatchValueUpdate(value) {\n            const { range } = props;\n            if (range) {\n                if (Array.isArray(value)) {\n                    const { value: oldValues } = arrifiedValueRef;\n                    if (value.join() !== oldValues.join()) {\n                        doUpdateValue(value);\n                    }\n                }\n            }\n            else if (!Array.isArray(value)) {\n                const oldValue = arrifiedValueRef.value[0];\n                if (oldValue !== value) {\n                    doUpdateValue(value);\n                }\n            }\n        }\n        function doDispatchValue(value, index) {\n            if (props.range) {\n                const values = arrifiedValueRef.value.slice();\n                values.splice(index, 1, value);\n                dispatchValueUpdate(values);\n            }\n            else {\n                dispatchValueUpdate(value);\n            }\n        }\n        // value conversion\n        function sanitizeValue(value, currentValue, stepBuffer) {\n            const stepping = stepBuffer !== undefined;\n            if (!stepBuffer) {\n                stepBuffer = value - currentValue > 0 ? 1 : -1;\n            }\n            const markValues = markValuesRef.value || [];\n            const { step } = props;\n            if (step === 'mark') {\n                const closestMark = getClosestMark(value, markValues.concat(currentValue), stepping ? stepBuffer : undefined);\n                return closestMark ? closestMark.value : currentValue;\n            }\n            if (step <= 0)\n                return currentValue;\n            const { value: precision } = precisionRef;\n            let closestMark;\n            // if it is a stepping, priority will be given to the marks\n            // on the rail, otherwise take the nearest one\n            if (stepping) {\n                const currentStep = Number((currentValue / step).toFixed(precision));\n                const actualStep = Math.floor(currentStep);\n                const leftStep = currentStep > actualStep ? actualStep : actualStep - 1;\n                const rightStep = currentStep < actualStep ? actualStep : actualStep + 1;\n                closestMark = getClosestMark(currentValue, [\n                    Number((leftStep * step).toFixed(precision)),\n                    Number((rightStep * step).toFixed(precision)),\n                    ...markValues\n                ], stepBuffer);\n            }\n            else {\n                const roundValue = getRoundValue(value);\n                closestMark = getClosestMark(value, [...markValues, roundValue]);\n            }\n            return closestMark ? clampValue(closestMark.value) : currentValue;\n        }\n        function clampValue(value) {\n            return Math.min(props.max, Math.max(props.min, value));\n        }\n        function valueToPercentage(value) {\n            const { max, min } = props;\n            return ((value - min) / (max - min)) * 100;\n        }\n        function percentageToValue(percentage) {\n            const { max, min } = props;\n            return min + (max - min) * percentage;\n        }\n        function getRoundValue(value) {\n            const { step, min } = props;\n            if (step <= 0 || step === 'mark')\n                return value;\n            const newValue = Math.round((value - min) / step) * step + min;\n            return Number(newValue.toFixed(precisionRef.value));\n        }\n        function getClosestMark(currentValue, markValues = markValuesRef.value, buffer) {\n            if (!markValues || !markValues.length)\n                return null;\n            let closestMark = null;\n            let index = -1;\n            while (++index < markValues.length) {\n                const diff = markValues[index] - currentValue;\n                const distance = Math.abs(diff);\n                if (\n                // find marks in the same direction\n                (buffer === undefined || diff * buffer > 0) &&\n                    (closestMark === null || distance < closestMark.distance)) {\n                    closestMark = {\n                        index,\n                        distance,\n                        value: markValues[index]\n                    };\n                }\n            }\n            return closestMark;\n        }\n        function getPointValue(event) {\n            const railEl = handleRailRef.value;\n            if (!railEl)\n                return;\n            const touchEvent = isTouchEvent(event) ? event.touches[0] : event;\n            const railRect = railEl.getBoundingClientRect();\n            let percentage;\n            if (props.vertical) {\n                percentage = (railRect.bottom - touchEvent.clientY) / railRect.height;\n            }\n            else {\n                percentage = (touchEvent.clientX - railRect.left) / railRect.width;\n            }\n            if (props.reverse) {\n                percentage = 1 - percentage;\n            }\n            return percentageToValue(percentage);\n        }\n        // dom event handle\n        function handleRailKeyDown(e) {\n            if (mergedDisabledRef.value)\n                return;\n            const { vertical, reverse } = props;\n            switch (e.code) {\n                case 'ArrowUp':\n                    e.preventDefault();\n                    handleStepValue(vertical && reverse ? -1 : 1);\n                    break;\n                case 'ArrowRight':\n                    e.preventDefault();\n                    handleStepValue(!vertical && reverse ? -1 : 1);\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    handleStepValue(vertical && reverse ? 1 : -1);\n                    break;\n                case 'ArrowLeft':\n                    e.preventDefault();\n                    handleStepValue(!vertical && reverse ? 1 : -1);\n                    break;\n            }\n        }\n        function handleStepValue(ratio) {\n            const activeIndex = activeIndexRef.value;\n            if (activeIndex === -1)\n                return;\n            const { step } = props;\n            const currentValue = arrifiedValueRef.value[activeIndex];\n            const nextValue = step <= 0 || step === 'mark'\n                ? currentValue\n                : currentValue + step * ratio;\n            doDispatchValue(\n            // Avoid the number of value does not change when `step` is null\n            sanitizeValue(nextValue, currentValue, ratio > 0 ? 1 : -1), activeIndex);\n        }\n        function handleRailMouseDown(event) {\n            var _a, _b;\n            if (mergedDisabledRef.value)\n                return;\n            if (!isTouchEvent(event) && event.button !== eventButtonLeft) {\n                return;\n            }\n            const pointValue = getPointValue(event);\n            if (pointValue === undefined)\n                return;\n            const values = arrifiedValueRef.value.slice();\n            const activeIndex = props.range\n                ? (_b = (_a = getClosestMark(pointValue, values)) === null || _a === void 0 ? void 0 : _a.index) !== null && _b !== void 0 ? _b : -1\n                : 0;\n            if (activeIndex !== -1) {\n                // avoid triggering scrolling on touch\n                event.preventDefault();\n                focusActiveHandle(activeIndex);\n                startDragging();\n                doDispatchValue(sanitizeValue(pointValue, arrifiedValueRef.value[activeIndex]), activeIndex);\n            }\n        }\n        function startDragging() {\n            if (!draggingRef.value) {\n                draggingRef.value = true;\n                on('touchend', document, handleMouseUp);\n                on('mouseup', document, handleMouseUp);\n                on('touchmove', document, handleMouseMove);\n                on('mousemove', document, handleMouseMove);\n            }\n        }\n        function stopDragging() {\n            if (draggingRef.value) {\n                draggingRef.value = false;\n                off('touchend', document, handleMouseUp);\n                off('mouseup', document, handleMouseUp);\n                off('touchmove', document, handleMouseMove);\n                off('mousemove', document, handleMouseMove);\n            }\n        }\n        function handleMouseMove(event) {\n            const { value: activeIndex } = activeIndexRef;\n            if (!draggingRef.value || activeIndex === -1) {\n                stopDragging();\n                return;\n            }\n            const pointValue = getPointValue(event);\n            doDispatchValue(sanitizeValue(pointValue, arrifiedValueRef.value[activeIndex]), activeIndex);\n        }\n        function handleMouseUp() {\n            stopDragging();\n        }\n        function handleHandleFocus(index) {\n            activeIndexRef.value = index;\n            // Wake focus style\n            if (!mergedDisabledRef.value) {\n                hoverIndexRef.value = index;\n            }\n        }\n        function handleHandleBlur(index) {\n            if (activeIndexRef.value === index) {\n                activeIndexRef.value = -1;\n                stopDragging();\n            }\n            if (hoverIndexRef.value === index) {\n                hoverIndexRef.value = -1;\n            }\n        }\n        function handleHandleMouseEnter(index) {\n            hoverIndexRef.value = index;\n        }\n        function handleHandleMouseLeave(index) {\n            if (hoverIndexRef.value === index) {\n                hoverIndexRef.value = -1;\n            }\n        }\n        watch(activeIndexRef, (_, previous) => void nextTick(() => (previousIndexRef.value = previous)));\n        watch(mergedValueRef, () => {\n            if (props.marks) {\n                if (dotTransitionDisabledRef.value)\n                    return;\n                dotTransitionDisabledRef.value = true;\n                void nextTick(() => {\n                    dotTransitionDisabledRef.value = false;\n                });\n            }\n            void nextTick(syncPosition);\n        });\n        const cssVarsRef = computed(() => {\n            const { self: { railColor, railColorHover, fillColor, fillColorHover, handleColor, opacityDisabled, dotColor, dotColorModal, handleBoxShadow, handleBoxShadowHover, handleBoxShadowActive, handleBoxShadowFocus, dotBorder, dotBoxShadow, railHeight, railWidthVertical, handleSize, dotHeight, dotWidth, dotBorderRadius, fontSize, dotBorderActive, dotColorPopover }, common: { cubicBezierEaseInOut } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-dot-border': dotBorder,\n                '--n-dot-border-active': dotBorderActive,\n                '--n-dot-border-radius': dotBorderRadius,\n                '--n-dot-box-shadow': dotBoxShadow,\n                '--n-dot-color': dotColor,\n                '--n-dot-color-modal': dotColorModal,\n                '--n-dot-color-popover': dotColorPopover,\n                '--n-dot-height': dotHeight,\n                '--n-dot-width': dotWidth,\n                '--n-fill-color': fillColor,\n                '--n-fill-color-hover': fillColorHover,\n                '--n-font-size': fontSize,\n                '--n-handle-box-shadow': handleBoxShadow,\n                '--n-handle-box-shadow-active': handleBoxShadowActive,\n                '--n-handle-box-shadow-focus': handleBoxShadowFocus,\n                '--n-handle-box-shadow-hover': handleBoxShadowHover,\n                '--n-handle-color': handleColor,\n                '--n-handle-size': handleSize,\n                '--n-opacity-disabled': opacityDisabled,\n                '--n-rail-color': railColor,\n                '--n-rail-color-hover': railColorHover,\n                '--n-rail-height': railHeight,\n                '--n-rail-width-vertical': railWidthVertical\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('slider', undefined, cssVarsRef, props)\n            : undefined;\n        const indicatorCssVarsRef = computed(() => {\n            const { self: { fontSize, indicatorColor, indicatorBoxShadow, indicatorTextColor, indicatorBorderRadius } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-indicator-border-radius': indicatorBorderRadius,\n                '--n-indicator-box-shadow': indicatorBoxShadow,\n                '--n-indicator-color': indicatorColor,\n                '--n-indicator-text-color': indicatorTextColor\n            };\n        });\n        const indicatorThemeClassHandle = inlineThemeDisabled\n            ? useThemeClass('slider-indicator', undefined, indicatorCssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            namespace: namespaceRef,\n            uncontrolledValue: uncontrolledValueRef,\n            mergedValue: mergedValueRef,\n            mergedDisabled: mergedDisabledRef,\n            mergedPlacement: mergedPlacementRef,\n            isMounted: useIsMounted(),\n            adjustedTo: useAdjustedTo(props),\n            dotTransitionDisabled: dotTransitionDisabledRef,\n            markInfos: markInfosRef,\n            isShowTooltip,\n            isSkipCSSDetection,\n            handleRailRef,\n            setHandleRefs,\n            setFollowerRefs,\n            fillStyle: fillStyleRef,\n            getHandleStyle,\n            activeIndex: activeIndexRef,\n            arrifiedValues: arrifiedValueRef,\n            followerEnabledIndexSet: followerEnabledIndexSetRef,\n            handleRailMouseDown,\n            handleHandleFocus,\n            handleHandleBlur,\n            handleHandleMouseEnter,\n            handleHandleMouseLeave,\n            handleRailKeyDown,\n            indicatorCssVars: inlineThemeDisabled ? undefined : indicatorCssVarsRef,\n            indicatorThemeClass: indicatorThemeClassHandle === null || indicatorThemeClassHandle === void 0 ? void 0 : indicatorThemeClassHandle.themeClass,\n            indicatorOnRender: indicatorThemeClassHandle === null || indicatorThemeClassHandle === void 0 ? void 0 : indicatorThemeClassHandle.onRender,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { mergedClsPrefix, themeClass, formatTooltip } = this;\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-slider`,\n                themeClass,\n                {\n                    [`${mergedClsPrefix}-slider--disabled`]: this.mergedDisabled,\n                    [`${mergedClsPrefix}-slider--active`]: this.activeIndex !== -1,\n                    [`${mergedClsPrefix}-slider--with-mark`]: this.marks,\n                    [`${mergedClsPrefix}-slider--vertical`]: this.vertical,\n                    [`${mergedClsPrefix}-slider--reverse`]: this.reverse\n                }\n            ], style: this.cssVars, onKeydown: this.handleRailKeyDown, onMousedown: this.handleRailMouseDown, onTouchstart: this.handleRailMouseDown },\n            h(\"div\", { class: `${mergedClsPrefix}-slider-rail` },\n                h(\"div\", { class: `${mergedClsPrefix}-slider-rail__fill`, style: this.fillStyle }),\n                this.marks ? (h(\"div\", { class: [\n                        `${mergedClsPrefix}-slider-dots`,\n                        this.dotTransitionDisabled &&\n                            `${mergedClsPrefix}-slider-dots--transition-disabled`\n                    ] }, this.markInfos.map((mark) => (h(\"div\", { key: mark.label, class: [\n                        `${mergedClsPrefix}-slider-dot`,\n                        {\n                            [`${mergedClsPrefix}-slider-dot--active`]: mark.active\n                        }\n                    ], style: mark.style }))))) : null,\n                h(\"div\", { ref: \"handleRailRef\", class: `${mergedClsPrefix}-slider-handles` }, this.arrifiedValues.map((value, index) => {\n                    const showTooltip = this.isShowTooltip(index);\n                    return (h(VBinder, null, {\n                        default: () => [\n                            h(VTarget, null, {\n                                default: () => (h(\"div\", { ref: this.setHandleRefs(index), class: `${mergedClsPrefix}-slider-handle`, tabindex: this.mergedDisabled ? -1 : 0, style: this.getHandleStyle(value, index), onFocus: () => this.handleHandleFocus(index), onBlur: () => this.handleHandleBlur(index), onMouseenter: () => this.handleHandleMouseEnter(index), onMouseleave: () => this.handleHandleMouseLeave(index) }))\n                            }),\n                            this.tooltip && (h(VFollower, { ref: this.setFollowerRefs(index), show: showTooltip, to: this.adjustedTo, enabled: (this.showTooltip && !this.range) ||\n                                    this.followerEnabledIndexSet.has(index), teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, placement: this.mergedPlacement, containerClass: this.namespace }, {\n                                default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted, css: this.isSkipCSSDetection(index), onEnter: () => this.followerEnabledIndexSet.add(index), onAfterLeave: () => this.followerEnabledIndexSet.delete(index) }, {\n                                    default: () => {\n                                        var _a;\n                                        if (showTooltip) {\n                                            (_a = this.indicatorOnRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                                            return (h(\"div\", { class: [\n                                                    `${mergedClsPrefix}-slider-handle-indicator`,\n                                                    this.indicatorThemeClass,\n                                                    `${mergedClsPrefix}-slider-handle-indicator--${this.mergedPlacement}`\n                                                ], style: this\n                                                    .indicatorCssVars }, typeof formatTooltip === 'function'\n                                                ? formatTooltip(value)\n                                                : value));\n                                        }\n                                        return null;\n                                    }\n                                }))\n                            }))\n                        ]\n                    }));\n                })),\n                this.marks ? (h(\"div\", { class: `${mergedClsPrefix}-slider-marks` }, this.markInfos.map((mark) => (h(\"div\", { key: mark.label, class: `${mergedClsPrefix}-slider-mark`, style: mark.style }, mark.label))))) : null)));\n    }\n});\n"]},"metadata":{},"sourceType":"module"}