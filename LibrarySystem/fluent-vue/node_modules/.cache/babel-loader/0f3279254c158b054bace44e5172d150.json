{"ast":null,"code":"import { provideFluentDesignSystem, fluentHorizontalScroll, fluentFlipper } from \"@fluentui/web-components\";\nimport { useMessage } from 'naive-ui';\nimport ContentBook from './DialogContent/ContentBook.vue';\nprovideFluentDesignSystem().register(fluentHorizontalScroll(), fluentFlipper());\nimport { fluentListbox, fluentOption } from \"@fluentui/web-components\";\nprovideFluentDesignSystem().register(fluentListbox(), fluentOption());\nexport default {\n  components: {\n    ContentBook\n  },\n\n  data() {\n    return {\n      booklist: [],\n      thisbook: null,\n      showModal: false,\n      bookchanged: false,\n      message: useMessage()\n    };\n  },\n\n  created() {\n    //ajax 请求 获取书本信息\n    this.getBookList(); //接收数据并赋值\n  },\n\n  computed: {\n    listenLogin() {\n      return this.$store.state.isLogin;\n    }\n\n  },\n  watch: {\n    listenLogin() {\n      this.getBookList(); //获取新的书本信息 并修改bookList为新内容\n    }\n\n  },\n  methods: {\n    cardClick: function (tagi) {\n      this.thisbook = this.booklist[tagi];\n      this.showModal = !this.showModal;\n    },\n\n    //以下为涉及axios调用的方法\n\n    /****************************************************************/\n    //ajax请求 方法\n    getBookList() {\n      this.booklist = [];\n\n      if (this.$store.state.isLogin == true) {\n        //已登录 获取个性化内容\n        //发送isLogin:true userid:xxx   get方法  userid位于(this.$store.state.user.userid) \n        //返回书本信息\n        //书本对象存入booklist中\n        console.log(this.$store.state.user.userid);\n        this.axios.get('index?userID=' + this.$store.state.user.userid).then(response => {\n          console.log(response.data);\n\n          for (let i = 0; i < 6; i++) {\n            this.booklist.push({\n              tagi: i,\n              bookid: response.data[i].bookID,\n              bookname: response.data[i].bookName,\n              bookauthor: response.data[i].bookAuthorName,\n              bookpublisher: response.data[i].bookPublisher,\n              booktag: response.data[i].type\n            });\n          } //  {this.booklist.push({tagi:i,bookid:5*i,bookname:'Book'+i,bookauthor:'author'+i,bookpublisher:'publisher'+i,booktag:'amusement'})\n\n        }).catch(response => {\n          console.log(response);\n          this.message.error('未能获取书籍信息，请重试！');\n        });\n      } else {\n        //未登录 随机获取书本内容\n        //发送isLogin:false   get方法\n        //获取书本内容返回\n        this.axios.get('index').then(response => {\n          console.log(response.data);\n\n          for (let i = 0; i < 6; i++) {\n            this.booklist.push({\n              tagi: i,\n              bookid: response.data[i].bookID,\n              bookname: response.data[i].bookName,\n              bookauthor: response.data[i].bookAuthorName,\n              bookpublisher: response.data[i].bookPublisher,\n              booktag: response.data[i].type\n            });\n          } //  {this.booklist.push({tagi:i,bookid:5*i,bookname:'Book'+i,bookauthor:'author'+i,bookpublisher:'publisher'+i,booktag:'amusement'})\n\n        }).catch(response => {\n          console.log(response);\n          this.message.error('未能获取书籍信息，请重试！');\n        }); //书本对象存入booklist中\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["provideFluentDesignSystem","fluentHorizontalScroll","fluentFlipper","useMessage","ContentBook","register","fluentListbox","fluentOption","components","data","booklist","thisbook","showModal","bookchanged","message","created","getBookList","computed","listenLogin","$store","state","isLogin","watch","methods","cardClick","tagi","console","log","user","userid","axios","get","then","response","i","push","bookid","bookID","bookname","bookName","bookauthor","bookAuthorName","bookpublisher","bookPublisher","booktag","type","catch","error"],"sourceRoot":"","sources":["G:\\VUE_FDS\\fluent-vue\\src\\components\\HoriRoll.vue"],"sourcesContent":["<template>\r\n<div class=\"scroll-div\">\r\n  <fluent-horizontal-scroll>\r\n  <fluent-card style=\"cursor:pointer;\" v-for=\"book in booklist\" :key=\"book.bookid\" @click=\"cardClick(book.tagi)\">\r\n    <div class=\"bookname\">{{book.bookname}}</div>\r\n    <div class=\"bookshow\">\r\n      <ul class=\"bookshow-left\">\r\n        <li>作者:</li>\r\n        <li>出版社:</li>\r\n        <li>类型:</li>\r\n      </ul>\r\n      <ul class=\"bookshow-right\">\r\n        <li>{{book.bookauthor}}</li>\r\n        <li>{{book.bookpublisher}}</li>\r\n        <li>{{book.booktag}}</li>\r\n      </ul>\r\n    </div>\r\n  </fluent-card>\r\n  </fluent-horizontal-scroll>\r\n\r\n</div>\r\n  <ContentBook :showModal=\"showModal\" :book=\"thisbook\" />\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    provideFluentDesignSystem,\r\n    fluentHorizontalScroll,\r\n    fluentFlipper\r\n} from \"@fluentui/web-components\";\r\nimport { useMessage } from 'naive-ui'\r\n\r\nimport ContentBook from './DialogContent/ContentBook.vue'\r\n\r\nprovideFluentDesignSystem()\r\n    .register(\r\n        fluentHorizontalScroll(),\r\n        fluentFlipper()\r\n    );\r\nimport {\r\n    fluentListbox,\r\n    fluentOption\r\n} from \"@fluentui/web-components\";\r\n\r\nprovideFluentDesignSystem()\r\n    .register(\r\n        fluentListbox(),\r\n        fluentOption()\r\n    );\r\n    export default {\r\n        components:{\r\n      ContentBook\r\n      },\r\n    data(){\r\n      return{\r\n        booklist:[],\r\n        thisbook:null,\r\n        showModal:false,\r\n        bookchanged:false,\r\n        message:useMessage()\r\n      }\r\n    },\r\n    created(){\r\n        //ajax 请求 获取书本信息\r\n      this.getBookList()\r\n\r\n\r\n      //接收数据并赋值\r\n    },computed:{\r\n      listenLogin(){return this.$store.state.isLogin}\r\n    },\r\n    watch:{\r\n      listenLogin(){\r\n        this.getBookList();//获取新的书本信息 并修改bookList为新内容\r\n      }\r\n    },\r\n    methods:{\r\n      cardClick:function(tagi){\r\n         this.thisbook=this.booklist[tagi];\r\n         this.showModal=!this.showModal;\r\n      },\r\n\r\n       //以下为涉及axios调用的方法\r\n    /****************************************************************/\r\n    //ajax请求 方法\r\n      getBookList(){\r\n          this.booklist=[];\r\n        if(this.$store.state.isLogin==true){//已登录 获取个性化内容\r\n        //发送isLogin:true userid:xxx   get方法  userid位于(this.$store.state.user.userid) \r\n        //返回书本信息\r\n        //书本对象存入booklist中\r\n        console.log(this.$store.state.user.userid);\r\n      this.axios.get('index?userID='+this.$store.state.user.userid).\r\n      then((response)=>{\r\n        console.log(response.data)\r\n            for(let i=0;i<6;i++){\r\n              this.booklist.push(\r\n                {tagi:i,\r\n                bookid:response.data[i].bookID,\r\n                bookname:response.data[i].bookName,\r\n                bookauthor:response.data[i].bookAuthorName,\r\n                bookpublisher:response.data[i].bookPublisher,\r\n                booktag:response.data[i].type,\r\n                }\r\n              )\r\n              }\r\n        //  {this.booklist.push({tagi:i,bookid:5*i,bookname:'Book'+i,bookauthor:'author'+i,bookpublisher:'publisher'+i,booktag:'amusement'})\r\n      }).catch((response)=>{\r\n        console.log(response)\r\n        this.message.error('未能获取书籍信息，请重试！');\r\n      })\r\n\r\n\r\n        }\r\n        else{//未登录 随机获取书本内容\r\n        //发送isLogin:false   get方法\r\n        //获取书本内容返回\r\n\r\n      this.axios.get('index').\r\n      then((response)=>{\r\n        console.log(response.data)\r\n            for(let i=0;i<6;i++){\r\n              this.booklist.push(\r\n                {tagi:i,\r\n                bookid:response.data[i].bookID,\r\n                bookname:response.data[i].bookName,\r\n                bookauthor:response.data[i].bookAuthorName,\r\n                bookpublisher:response.data[i].bookPublisher,\r\n                booktag:response.data[i].type,\r\n                }\r\n              )\r\n              }\r\n        //  {this.booklist.push({tagi:i,bookid:5*i,bookname:'Book'+i,bookauthor:'author'+i,bookpublisher:'publisher'+i,booktag:'amusement'})\r\n      }).catch((response)=>{\r\n        console.log(response)\r\n        this.message.error('未能获取书籍信息，请重试！');\r\n      })\r\n        //书本对象存入booklist中\r\n        }\r\n      },\r\n}\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.bookname{\r\n  width:100%;\r\n  height:20px;\r\n}\r\n.bookshow{\r\n  width:100%;\r\n  height:140px; \r\n  display:flex;\r\n}\r\n.bookshow-left{\r\nmargin:0;\r\nlist-style:none;\r\npadding-top:10px;\r\npadding-bottom:10px;\r\npadding-right:5px;\r\npadding-left:5px;\r\nheight:120px;\r\nwidth:50px;\r\n}\r\n\r\n.bookshow-left li{\r\n  font-size:12px;\r\n  height:40px;\r\n  width:100%;\r\n  font-weight: bold;\r\n   text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.bookshow-right{\r\n  margin:0; \r\nlist-style:none;\r\npadding-left:5px;\r\npadding-top:10px;\r\npadding-bottom:10px;\r\nheight:120px;\r\nwidth:110px;\r\n}\r\n\r\n.bookshow-right li{\r\n  \r\n  font-size:12px;\r\n  height:40px;\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\nfluent-listbox{\r\n  float: left;\r\n  \r\n}\r\nfluent-card {\r\n  width: 200px;\r\n  height: 200px;\r\n  padding: 12px;\r\n  display:flex;\r\n  justify-content:center;\r\n  flex-direction:column;\r\n}\r\n\r\n\r\nfluent-horizontal-scroll {\r\n  min-width: 620px;\r\n  max-width: 860px;\r\n}\r\n\r\n.contentdiv{\r\n  height:100px;\r\n  width:100px;\r\n  background-color:black;\r\n  margin-left:200px;\r\n}\r\n\r\n.scroll-div{\r\n  width:100%;\r\n  height:auto;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}