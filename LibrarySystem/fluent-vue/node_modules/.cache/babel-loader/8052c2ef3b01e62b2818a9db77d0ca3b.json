{"ast":null,"code":"import { h, inject, computed, defineComponent, provide, markRaw } from 'vue';\nimport { useMemo } from 'vooks';\nimport { merge } from 'lodash-es';\nimport { hash } from 'css-render';\nimport { warn } from '../../_utils';\nimport { defaultClsPrefix } from '../../_mixins';\nimport { configProviderInjectionKey } from './context';\nexport const configProviderProps = {\n  abstract: Boolean,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clsPrefix: String,\n  locale: Object,\n  dateLocale: Object,\n  namespace: String,\n  rtl: Array,\n  tag: {\n    type: String,\n    default: 'div'\n  },\n  hljs: Object,\n  theme: Object,\n  themeOverrides: Object,\n  componentOptions: Object,\n  icons: Object,\n  breakpoints: Object,\n  inlineThemeDisabled: {\n    type: Boolean,\n    default: undefined\n  },\n  // deprecated\n  as: {\n    type: String,\n    validator: () => {\n      warn('config-provider', '`as` is deprecated, please use `tag` instead.');\n      return true;\n    },\n    default: undefined\n  }\n};\nexport default defineComponent({\n  name: 'ConfigProvider',\n  alias: ['App'],\n  props: configProviderProps,\n\n  setup(props) {\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    const mergedThemeRef = computed(() => {\n      const {\n        theme\n      } = props;\n      if (theme === null) return undefined;\n      const inheritedTheme = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value;\n      return theme === undefined ? inheritedTheme : inheritedTheme === undefined ? theme : Object.assign({}, inheritedTheme, theme);\n    });\n    const mergedThemeOverridesRef = computed(() => {\n      const {\n        themeOverrides\n      } = props; // stop inheriting themeOverrides\n\n      if (themeOverrides === null) return undefined; // use inherited themeOverrides\n\n      if (themeOverrides === undefined) {\n        return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n      } else {\n        const inheritedThemeOverrides = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n\n        if (inheritedThemeOverrides === undefined) {\n          // no inherited, use self overrides\n          return themeOverrides;\n        } else {\n          // merge overrides\n          return merge({}, inheritedThemeOverrides, themeOverrides);\n        }\n      }\n    });\n    const mergedNamespaceRef = useMemo(() => {\n      const {\n        namespace\n      } = props;\n      return namespace === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedNamespaceRef.value : namespace;\n    });\n    const mergedBorderedRef = useMemo(() => {\n      const {\n        bordered\n      } = props;\n      return bordered === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBorderedRef.value : bordered;\n    });\n    const mergedIconsRef = computed(() => {\n      const {\n        icons\n      } = props;\n      return icons === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedIconsRef.value : icons;\n    });\n    const mergedComponentPropsRef = computed(() => {\n      const {\n        componentOptions\n      } = props;\n      if (componentOptions !== undefined) return componentOptions;\n      return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value;\n    });\n    const mergedClsPrefixRef = computed(() => {\n      const {\n        clsPrefix\n      } = props;\n      if (clsPrefix !== undefined) return clsPrefix;\n      return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedClsPrefixRef.value;\n    });\n    const mergedRtlRef = computed(() => {\n      var _a;\n\n      const {\n        rtl\n      } = props;\n\n      if (rtl === undefined) {\n        return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedRtlRef.value;\n      }\n\n      const rtlEnabledState = {};\n\n      for (const rtlInfo of rtl) {\n        rtlEnabledState[rtlInfo.name] = markRaw(rtlInfo);\n        (_a = rtlInfo.peers) === null || _a === void 0 ? void 0 : _a.forEach(peerRtlInfo => {\n          if (!(peerRtlInfo.name in rtlEnabledState)) {\n            rtlEnabledState[peerRtlInfo.name] = markRaw(peerRtlInfo);\n          }\n        });\n      }\n\n      return rtlEnabledState;\n    });\n    const mergedBreakpointsRef = computed(() => {\n      return props.breakpoints || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBreakpointsRef.value);\n    });\n    const inlineThemeDisabled = props.inlineThemeDisabled || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.inlineThemeDisabled);\n    const mergedThemeHashRef = computed(() => {\n      const {\n        value: theme\n      } = mergedThemeRef;\n      const {\n        value: mergedThemeOverrides\n      } = mergedThemeOverridesRef;\n      const hasThemeOverrides = mergedThemeOverrides && Object.keys(mergedThemeOverrides).length !== 0;\n      const themeName = theme === null || theme === void 0 ? void 0 : theme.name;\n\n      if (themeName) {\n        if (hasThemeOverrides) {\n          return `${themeName}-${hash(JSON.stringify(mergedThemeOverridesRef.value))}`;\n        }\n\n        return themeName;\n      } else {\n        if (hasThemeOverrides) {\n          return hash(JSON.stringify(mergedThemeOverridesRef.value));\n        }\n\n        return '';\n      }\n    });\n    provide(configProviderInjectionKey, {\n      mergedThemeHashRef,\n      mergedBreakpointsRef,\n      mergedRtlRef,\n      mergedIconsRef,\n      mergedComponentPropsRef,\n      mergedBorderedRef,\n      mergedNamespaceRef,\n      mergedClsPrefixRef,\n      mergedLocaleRef: computed(() => {\n        const {\n          locale\n        } = props;\n        if (locale === null) return undefined;\n        return locale === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedLocaleRef.value : locale;\n      }),\n      mergedDateLocaleRef: computed(() => {\n        const {\n          dateLocale\n        } = props;\n        if (dateLocale === null) return undefined;\n        return dateLocale === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedDateLocaleRef.value : dateLocale;\n      }),\n      mergedHljsRef: computed(() => {\n        const {\n          hljs\n        } = props;\n        return hljs === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value : hljs;\n      }),\n      mergedThemeRef,\n      mergedThemeOverridesRef,\n      inlineThemeDisabled: inlineThemeDisabled || false\n    });\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      mergedNamespace: mergedNamespaceRef,\n      mergedTheme: mergedThemeRef,\n      mergedThemeOverrides: mergedThemeOverridesRef\n    };\n  },\n\n  render() {\n    var _a, _b, _c, _d;\n\n    return !this.abstract ? h(this.as || this.tag, {\n      class: `${this.mergedClsPrefix || defaultClsPrefix}-config-provider`\n    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)) : (_d = (_c = this.$slots).default) === null || _d === void 0 ? void 0 : _d.call(_c);\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/config-provider/src/ConfigProvider.js"],"names":["h","inject","computed","defineComponent","provide","markRaw","useMemo","merge","hash","warn","defaultClsPrefix","configProviderInjectionKey","configProviderProps","abstract","Boolean","bordered","type","default","undefined","clsPrefix","String","locale","Object","dateLocale","namespace","rtl","Array","tag","hljs","theme","themeOverrides","componentOptions","icons","breakpoints","inlineThemeDisabled","as","validator","name","alias","props","setup","NConfigProvider","mergedThemeRef","inheritedTheme","value","assign","mergedThemeOverridesRef","inheritedThemeOverrides","mergedNamespaceRef","mergedBorderedRef","mergedIconsRef","mergedComponentPropsRef","mergedClsPrefixRef","mergedRtlRef","_a","rtlEnabledState","rtlInfo","peers","forEach","peerRtlInfo","mergedBreakpointsRef","mergedThemeHashRef","mergedThemeOverrides","hasThemeOverrides","keys","length","themeName","JSON","stringify","mergedLocaleRef","mergedDateLocaleRef","mergedHljsRef","mergedClsPrefix","mergedBordered","mergedNamespace","mergedTheme","render","_b","_c","_d","class","$slots","call"],"mappings":"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","sourcesContent":["import { h, inject, computed, defineComponent, provide, markRaw } from 'vue';\nimport { useMemo } from 'vooks';\nimport { merge } from 'lodash-es';\nimport { hash } from 'css-render';\nimport { warn } from '../../_utils';\nimport { defaultClsPrefix } from '../../_mixins';\nimport { configProviderInjectionKey } from './context';\nexport const configProviderProps = {\n    abstract: Boolean,\n    bordered: {\n        type: Boolean,\n        default: undefined\n    },\n    clsPrefix: String,\n    locale: Object,\n    dateLocale: Object,\n    namespace: String,\n    rtl: Array,\n    tag: {\n        type: String,\n        default: 'div'\n    },\n    hljs: Object,\n    theme: Object,\n    themeOverrides: Object,\n    componentOptions: Object,\n    icons: Object,\n    breakpoints: Object,\n    inlineThemeDisabled: {\n        type: Boolean,\n        default: undefined\n    },\n    // deprecated\n    as: {\n        type: String,\n        validator: () => {\n            warn('config-provider', '`as` is deprecated, please use `tag` instead.');\n            return true;\n        },\n        default: undefined\n    }\n};\nexport default defineComponent({\n    name: 'ConfigProvider',\n    alias: ['App'],\n    props: configProviderProps,\n    setup(props) {\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const mergedThemeRef = computed(() => {\n            const { theme } = props;\n            if (theme === null)\n                return undefined;\n            const inheritedTheme = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value;\n            return theme === undefined\n                ? inheritedTheme\n                : inheritedTheme === undefined\n                    ? theme\n                    : Object.assign({}, inheritedTheme, theme);\n        });\n        const mergedThemeOverridesRef = computed(() => {\n            const { themeOverrides } = props;\n            // stop inheriting themeOverrides\n            if (themeOverrides === null)\n                return undefined;\n            // use inherited themeOverrides\n            if (themeOverrides === undefined) {\n                return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n            }\n            else {\n                const inheritedThemeOverrides = NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value;\n                if (inheritedThemeOverrides === undefined) {\n                    // no inherited, use self overrides\n                    return themeOverrides;\n                }\n                else {\n                    // merge overrides\n                    return merge({}, inheritedThemeOverrides, themeOverrides);\n                }\n            }\n        });\n        const mergedNamespaceRef = useMemo(() => {\n            const { namespace } = props;\n            return namespace === undefined\n                ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedNamespaceRef.value\n                : namespace;\n        });\n        const mergedBorderedRef = useMemo(() => {\n            const { bordered } = props;\n            return bordered === undefined\n                ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBorderedRef.value\n                : bordered;\n        });\n        const mergedIconsRef = computed(() => {\n            const { icons } = props;\n            return icons === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedIconsRef.value : icons;\n        });\n        const mergedComponentPropsRef = computed(() => {\n            const { componentOptions } = props;\n            if (componentOptions !== undefined)\n                return componentOptions;\n            return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedComponentPropsRef.value;\n        });\n        const mergedClsPrefixRef = computed(() => {\n            const { clsPrefix } = props;\n            if (clsPrefix !== undefined)\n                return clsPrefix;\n            return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedClsPrefixRef.value;\n        });\n        const mergedRtlRef = computed(() => {\n            var _a;\n            const { rtl } = props;\n            if (rtl === undefined) {\n                return NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedRtlRef.value;\n            }\n            const rtlEnabledState = {};\n            for (const rtlInfo of rtl) {\n                rtlEnabledState[rtlInfo.name] = markRaw(rtlInfo);\n                (_a = rtlInfo.peers) === null || _a === void 0 ? void 0 : _a.forEach((peerRtlInfo) => {\n                    if (!(peerRtlInfo.name in rtlEnabledState)) {\n                        rtlEnabledState[peerRtlInfo.name] = markRaw(peerRtlInfo);\n                    }\n                });\n            }\n            return rtlEnabledState;\n        });\n        const mergedBreakpointsRef = computed(() => {\n            return props.breakpoints || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedBreakpointsRef.value);\n        });\n        const inlineThemeDisabled = props.inlineThemeDisabled || (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.inlineThemeDisabled);\n        const mergedThemeHashRef = computed(() => {\n            const { value: theme } = mergedThemeRef;\n            const { value: mergedThemeOverrides } = mergedThemeOverridesRef;\n            const hasThemeOverrides = mergedThemeOverrides && Object.keys(mergedThemeOverrides).length !== 0;\n            const themeName = theme === null || theme === void 0 ? void 0 : theme.name;\n            if (themeName) {\n                if (hasThemeOverrides) {\n                    return `${themeName}-${hash(JSON.stringify(mergedThemeOverridesRef.value))}`;\n                }\n                return themeName;\n            }\n            else {\n                if (hasThemeOverrides) {\n                    return hash(JSON.stringify(mergedThemeOverridesRef.value));\n                }\n                return '';\n            }\n        });\n        provide(configProviderInjectionKey, {\n            mergedThemeHashRef,\n            mergedBreakpointsRef,\n            mergedRtlRef,\n            mergedIconsRef,\n            mergedComponentPropsRef,\n            mergedBorderedRef,\n            mergedNamespaceRef,\n            mergedClsPrefixRef,\n            mergedLocaleRef: computed(() => {\n                const { locale } = props;\n                if (locale === null)\n                    return undefined;\n                return locale === undefined\n                    ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedLocaleRef.value\n                    : locale;\n            }),\n            mergedDateLocaleRef: computed(() => {\n                const { dateLocale } = props;\n                if (dateLocale === null)\n                    return undefined;\n                return dateLocale === undefined\n                    ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedDateLocaleRef.value\n                    : dateLocale;\n            }),\n            mergedHljsRef: computed(() => {\n                const { hljs } = props;\n                return hljs === undefined ? NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedHljsRef.value : hljs;\n            }),\n            mergedThemeRef,\n            mergedThemeOverridesRef,\n            inlineThemeDisabled: inlineThemeDisabled || false\n        });\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedBordered: mergedBorderedRef,\n            mergedNamespace: mergedNamespaceRef,\n            mergedTheme: mergedThemeRef,\n            mergedThemeOverrides: mergedThemeOverridesRef\n        };\n    },\n    render() {\n        var _a, _b, _c, _d;\n        return !this.abstract\n            ? h(this.as || this.tag, {\n                class: `${this.mergedClsPrefix || defaultClsPrefix}-config-provider`\n            }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a))\n            : (_d = (_c = this.$slots).default) === null || _d === void 0 ? void 0 : _d.call(_c);\n    }\n});\n"]},"metadata":{},"sourceType":"module"}