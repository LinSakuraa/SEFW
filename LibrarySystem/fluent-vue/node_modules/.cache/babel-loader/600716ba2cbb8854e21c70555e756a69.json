{"ast":null,"code":"import { defineComponent } from \"vue\";\nimport { useMessage } from 'naive-ui';\nexport default defineComponent({\n  name: 'AdminAdd',\n  props: {},\n\n  data() {\n    return {\n      thisbook: {\n        bookID: '',\n        bookName: '',\n        bookAuthorName: '',\n        bookPublisher: '',\n        num: '',\n        type: ''\n      },\n      thisuser: {\n        cusID: '',\n        cusName: '',\n        cusPassword: ''\n      },\n      showModal1: false,\n      showModal2: false,\n      message: useMessage()\n    };\n  },\n\n  watch: {},\n  methods: {\n    addBook(book) {\n      if (this.$store.state.isLogin == false || this.$store.state.user.isAdmin == false) {\n        this.message.error('没有权限');\n      } else if (book.bookID == '' || book.bookName == '' || book.bookAuthorName == '' || book.bookPublisher == '' || book.num == '' || book.type == '') {\n        this.message.error('请完整输入书籍信息！');\n      } else this.submitBook(book);\n    },\n\n    addUser(user) {\n      if (this.$store.state.isLogin == false || this.$store.state.user.isAdmin == false) {\n        this.message.error('没有权限');\n      } else if (user.cusID == '' || user.cusName == '' || user.cusPassword == '') {\n        this.message.error('请完整输入用户信息！');\n      } else this.submitUser(user);\n    },\n\n    submitBook(book) {\n      this.axios.post('book/add', book).then(response => {\n        console.log(response);\n\n        if (response.data == 1) {\n          this.message.success('添加成功!');\n        } else {\n          this.message.error('添加失败!');\n        }\n      }).catch(response => {\n        console.log(response);\n        this.message.error('服务器未响应!');\n      });\n    },\n\n    submitUser(user) {\n      this.axios.post('customer/add', user).then(response => {\n        console.log(response);\n\n        if (response.data == 1) {\n          this.message.success('添加成功!');\n        } else {\n          this.message.error('添加失败!');\n        }\n      }).catch(response => {\n        console.log(response);\n        this.message.error('服务器未响应!');\n      });\n    }\n\n  },\n\n  setup() {\n    return {\n      bodyStyle: {\n        width: \"440px\"\n      },\n      segmented: {\n        content: \"soft\",\n        footer: \"soft\"\n      }\n    };\n  }\n\n});","map":{"version":3,"mappings":"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","names":["defineComponent","useMessage","name","props","data","thisbook","bookID","bookName","bookAuthorName","bookPublisher","num","type","thisuser","cusID","cusName","cusPassword","showModal1","showModal2","message","watch","methods","addBook","book","$store","state","isLogin","user","isAdmin","error","submitBook","addUser","submitUser","axios","post","then","response","console","log","success","catch","setup","bodyStyle","width","segmented","content","footer"],"sourceRoot":"","sources":["G:\\VUE_FDS\\fluent-vue\\src\\components\\User\\AdminAdd.vue"],"sourcesContent":["<template>\r\n<div class=\"Add-button-div\">\r\n<n-button @click=\"showModal1=true\" color=\"#6ac5ec\">新增书籍</n-button>\r\n<n-button @click=\"showModal2=true\" color=\"#6ac5ec\">新增用户</n-button>\r\n</div>\r\n\r\n  <n-modal\r\n    v-model:show=\"showModal1\"\r\n    class=\"custom-card\"\r\n    preset=\"card\"\r\n    :style=\"bodyStyle\"\r\n    title=\"新增书籍\"\r\n    :mask-closable=\"false\"\r\n    size=\"huge\"\r\n    :bordered=\"false\"\r\n    :segmented=\"segmented\"\r\n  >\r\n    <div class=\"Admin-div-book\">\r\n        <div class=\"Admin-container\">\r\n            <div class=\"book-show\">\r\n                <div class=\"showleft\">书籍编号</div>\r\n                <div class=\"showright\">\r\n                 <input type=\"text\" v-model=\"thisbook.bookID\"/>\r\n                  </div>\r\n             </div>\r\n            <div class=\"book-show\">\r\n                <div class=\"showleft\">书籍名称</div>\r\n                <div class=\"showright \">\r\n                  <input type=\"text\" v-model=\"thisbook.bookName\"/>\r\n                  </div>\r\n            </div>\r\n            \r\n            <div class=\"book-show\">\r\n                <div class=\"showleft\">书籍作者</div>\r\n                <div class=\"showright\">\r\n                   <input type=\"text\" v-model=\"thisbook.bookAuthorName\"/>\r\n                  </div>\r\n            </div>\r\n            <div class=\"book-show\">\r\n                <div class=\"showleft\">出版社</div>\r\n                <div class=\"showright\">\r\n                   <input type=\"text\" v-model=\"thisbook.bookPublisher\"/>\r\n                  </div>\r\n            </div>\r\n            <div class=\"book-show\">\r\n                <div class=\"showleft\">类型</div>\r\n            <div class=\"showright\">\r\n               <input type=\"text\" v-model=\"thisbook.type\"/>\r\n              </div>\r\n            </div>\r\n             <div class=\"book-show\">\r\n                <div class=\"showleft\">库存</div>\r\n                <div class=\"showright\">\r\n                   <input type=\"text\" v-model=\"thisbook.num\"/>\r\n                  </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"book-footer-div\">\r\n      <button class=\"book-button\" @click=\"showModal1=false\">退出</button>\r\n      <button class=\"book-button\" @click=\"addBook(thisbook)\">确认</button>\r\n      </div>\r\n  </n-modal>\r\n  \r\n  <n-modal\r\n    v-model:show=\"showModal2\"\r\n    class=\"custom-card\"\r\n    preset=\"card\"\r\n    :style=\"bodyStyle\"\r\n    title=\"新增用户\"\r\n    :mask-closable=\"false\"\r\n    size=\"huge\"\r\n    :bordered=\"false\"\r\n    :segmented=\"segmented\"\r\n  >\r\n    <div class=\"change-user-div\">\r\n        <div class=\"change-user-container\">\r\n            <div class=\"change-user-show\">\r\n                <div class=\"change-user-showleft\">账号</div>\r\n                <div class=\"change-user-showright\">\r\n                    <input type=\"text\" v-model=\"thisuser.cusID\"/></div>\r\n                  </div>\r\n            <div class=\"change-user-show\">\r\n                <div class=\"change-user-showleft\">用户名</div>\r\n                <div class=\"change-user-showright\">\r\n                  <input type=\"text\" v-model=\"thisuser.cusName\"/></div>\r\n            </div>\r\n            \r\n            <div class=\"change-user-show\">\r\n                <div class=\"change-user-showleft\">密码</div>\r\n                <div class=\"change-user-showleft\">\r\n                   <input type=\"text\" v-model=\"thisuser.cusPassword\"/>\r\n                  </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"change-user-footer-div\">\r\n      <button class=\"change-user-button\" @click=\"showModal2=false\">退出</button>\r\n      <button class=\"change-user-button\" @click=\"addUser(thisuser)\">确认</button>\r\n      </div>\r\n  </n-modal>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport{defineComponent} from \"vue\";\r\nimport { useMessage } from 'naive-ui'\r\n\r\nexport default defineComponent({\r\nname:'AdminAdd',\r\nprops:{},\r\ndata(){\r\n    return{\r\n    thisbook:{\r\n        bookID:'',\r\n        bookName:'',\r\n        bookAuthorName:'',\r\n        bookPublisher:'',\r\n        num:'',\r\n        type:'',\r\n    },\r\n    thisuser:{\r\n        cusID:'',\r\n        cusName:'',\r\n        cusPassword:'',\r\n    },\r\n    showModal1:false,\r\n    showModal2:false,\r\n    message:useMessage(),\r\n}\r\n},watch:{\r\n\r\n},\r\nmethods:{\r\n    addBook(book){\r\n   if(this.$store.state.isLogin==false||this.$store.state.user.isAdmin==false){\r\n      this.message.error('没有权限')\r\n    }\r\n    else if(book.bookID==''||book.bookName==''||book.bookAuthorName==''||book.bookPublisher==''||book.num==''||book.type==''){\r\n        this.message.error('请完整输入书籍信息！')\r\n    }\r\n    else this.submitBook(book)\r\n    },\r\n    addUser(user){\r\n   if(this.$store.state.isLogin==false||this.$store.state.user.isAdmin==false){\r\n      this.message.error('没有权限')\r\n    }\r\n    else if(user.cusID==''||user.cusName==''||user.cusPassword==''){\r\n        this.message.error('请完整输入用户信息！')\r\n    }\r\n    else this.submitUser(user)\r\n    },\r\n    submitBook(book){\r\n    this.axios.post('book/add',book).then((response)=>{\r\n        console.log( response)\r\n        if(response.data==1){\r\n          this.message.success('添加成功!');\r\n        }\r\n        else{ this.message.error('添加失败!');}\r\n\r\n      }).catch((response)=>{\r\n        console.log( response)\r\n        this.message.error('服务器未响应!');\r\n      })\r\n    },\r\n    submitUser(user){\r\n    this.axios.post('customer/add',user).then((response)=>{\r\n        console.log( response)\r\n        if(response.data==1){\r\n          this.message.success('添加成功!');\r\n        }\r\n        else{ this.message.error('添加失败!');}\r\n\r\n      }).catch((response)=>{\r\n        console.log( response)\r\n        this.message.error('服务器未响应!');\r\n      })\r\n    }\r\n},\r\nsetup(){\r\n    return{\r\n        bodyStyle: {\r\n        width: \"440px\"\r\n      },\r\n      segmented: {\r\n        content: \"soft\",\r\n        footer: \"soft\"\r\n      },\r\n    }\r\n}\r\n})\r\n</script>\r\n\r\n<style>\r\n.Admin-div-book{\r\n    display:flex; \r\n    width:100%;\r\n    height:240px;\r\n    justify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.Admin-container{\r\n      width:350px;\r\n    height:240px;\r\n    flex-direction:column;\r\n    display:flex;\r\n}\r\n\r\n.book-show{\r\nwidth:350px;\r\nheight:40px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.showleft{\r\nwidth:100px;\r\nheight:40px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n.showright{\r\nwidth:250px;\r\nheight:40px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.book-footer-div{\r\n  height:60px;\r\n  margin-top:20px;\r\n  display:flex;\r\n  justify-content:center;\r\n}\r\n\r\n.book-button{\r\nwidth:60px;\r\nheight:30px;\r\nmargin-left:40px;\r\nmargin-right:40px;\r\n}\r\n\r\n.change-user-div{\r\n    display:flex; \r\n    width:100%;\r\n    height:120px;\r\n    justify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.change-user-container{\r\n      width:350px;\r\n    height:120px;\r\n    flex-direction:column;\r\n    display:flex;\r\n}\r\n\r\n.change-user-show{\r\nwidth:350px;\r\nheight:40px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.change-user-showleft{\r\nwidth:100px;\r\nheight:40px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n.change-user-showright{\r\nwidth:250px;\r\nheight:40px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.change-user-footer-div{\r\n  height:60px;\r\n  margin-top:20px;\r\n  display:flex;\r\n  justify-content:center;\r\n}\r\n\r\n.change-user-button{\r\nwidth:60px;\r\nheight:30px;\r\nmargin-left:40px;\r\nmargin-right:40px;\r\n}\r\n\r\n.Add-button-div{\r\n    width:100%;\r\n    height:40px;\r\n    padding-top:5px;\r\n    padding-bottom:5px;\r\n    display:flex;\r\n    justify-content:center;\r\nalign-items:center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}