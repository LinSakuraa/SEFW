{"ast":null,"code":"import { h, defineComponent, inject, computed } from 'vue';\nimport { createId } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon as ArrowRightIcon, ChevronLeftIcon as ArrowLeftIcon } from '../../_internal/icons';\nimport { NBaseIcon } from '../../_internal';\nimport { throwError } from '../../_utils';\nimport { collapseInjectionKey } from './Collapse';\nimport NCollapseItemContent from './CollapseItemContent';\nimport useRtl from '../../_mixins/use-rtl';\nimport { useConfig } from '../../_mixins';\nconst collapseItemProps = {\n  title: String,\n  name: [String, Number],\n  displayDirective: String\n};\nexport default defineComponent({\n  name: 'CollapseItem',\n  props: collapseItemProps,\n\n  setup(props) {\n    const {\n      mergedRtlRef\n    } = useConfig(props);\n    const randomName = createId();\n    const mergedNameRef = useMemo(() => {\n      var _a;\n\n      return (_a = props.name) !== null && _a !== void 0 ? _a : randomName;\n    });\n    const NCollapse = inject(collapseInjectionKey);\n\n    if (!NCollapse) {\n      throwError('collapse-item', '`n-collapse-item` must be placed inside `n-collapse`.');\n    }\n\n    const {\n      expandedNamesRef,\n      props: collapseProps,\n      mergedClsPrefixRef,\n      slots: collapseSlots\n    } = NCollapse;\n    const collapsedRef = computed(() => {\n      const {\n        value: expandedNames\n      } = expandedNamesRef;\n\n      if (Array.isArray(expandedNames)) {\n        const {\n          value: name\n        } = mergedNameRef;\n        return !~expandedNames.findIndex(expandedName => expandedName === name);\n      } else if (expandedNames) {\n        const {\n          value: name\n        } = mergedNameRef;\n        return name !== expandedNames;\n      }\n\n      return true;\n    });\n    const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n    return {\n      rtlEnabled: rtlEnabledRef,\n      collapseSlots,\n      randomName,\n      mergedClsPrefix: mergedClsPrefixRef,\n      collapsed: collapsedRef,\n      mergedDisplayDirective: computed(() => {\n        const {\n          displayDirective\n        } = props;\n\n        if (displayDirective) {\n          return displayDirective;\n        } else {\n          return collapseProps.displayDirective;\n        }\n      }),\n      arrowPlacement: computed(() => {\n        return collapseProps.arrowPlacement;\n      }),\n\n      handleClick(e) {\n        if (NCollapse) {\n          NCollapse.toggleItem(collapsedRef.value, mergedNameRef.value, e);\n        }\n      }\n\n    };\n  },\n\n  render() {\n    var _a;\n\n    const {\n      collapseSlots,\n      $slots,\n      arrowPlacement,\n      collapsed,\n      mergedDisplayDirective,\n      mergedClsPrefix\n    } = this;\n    const headerNode = $slots.header ? $slots.header() : this.title;\n    const headerExtraSlot = $slots['header-extra'] || collapseSlots['header-extra'];\n    const arrowSlot = $slots.arrow || collapseSlots.arrow;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-collapse-item`, `${mergedClsPrefix}-collapse-item--${arrowPlacement}-arrow-placement`, !collapsed && `${mergedClsPrefix}-collapse-item--active`]\n    }, h(\"div\", {\n      class: [`${mergedClsPrefix}-collapse-item__header`, !collapsed && `${mergedClsPrefix}-collapse-item__header--active`]\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item__header-main`,\n      onClick: this.handleClick\n    }, arrowPlacement === 'right' && headerNode, h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item-arrow`,\n      key: this.rtlEnabled ? 0 : 1\n    }, arrowSlot ? arrowSlot({\n      collapsed\n    }) : h(NBaseIcon, {\n      clsPrefix: mergedClsPrefix\n    }, {\n      default: (_a = collapseSlots.expandIcon) !== null && _a !== void 0 ? _a : () => this.rtlEnabled ? h(ArrowLeftIcon, null) : h(ArrowRightIcon, null)\n    })), arrowPlacement === 'left' && headerNode), headerExtraSlot && h(\"div\", {\n      class: `${mergedClsPrefix}-collapse-item__header-extra`,\n      onClick: this.handleClick\n    }, {\n      default: headerExtraSlot\n    })), h(NCollapseItemContent, {\n      clsPrefix: mergedClsPrefix,\n      displayDirective: mergedDisplayDirective,\n      show: !collapsed\n    }, $slots));\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/collapse/src/CollapseItem.js"],"names":["h","defineComponent","inject","computed","createId","useMemo","ChevronRightIcon","ArrowRightIcon","ChevronLeftIcon","ArrowLeftIcon","NBaseIcon","throwError","collapseInjectionKey","NCollapseItemContent","useRtl","useConfig","collapseItemProps","title","String","name","Number","displayDirective","props","setup","mergedRtlRef","randomName","mergedNameRef","_a","NCollapse","expandedNamesRef","collapseProps","mergedClsPrefixRef","slots","collapseSlots","collapsedRef","value","expandedNames","Array","isArray","findIndex","expandedName","rtlEnabledRef","rtlEnabled","mergedClsPrefix","collapsed","mergedDisplayDirective","arrowPlacement","handleClick","e","toggleItem","render","$slots","headerNode","header","headerExtraSlot","arrowSlot","arrow","class","onClick","key","clsPrefix","default","expandIcon","show"],"mappings":"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","sourcesContent":["import { h, defineComponent, inject, computed } from 'vue';\nimport { createId } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon as ArrowRightIcon, ChevronLeftIcon as ArrowLeftIcon } from '../../_internal/icons';\nimport { NBaseIcon } from '../../_internal';\nimport { throwError } from '../../_utils';\nimport { collapseInjectionKey } from './Collapse';\nimport NCollapseItemContent from './CollapseItemContent';\nimport useRtl from '../../_mixins/use-rtl';\nimport { useConfig } from '../../_mixins';\nconst collapseItemProps = {\n    title: String,\n    name: [String, Number],\n    displayDirective: String\n};\nexport default defineComponent({\n    name: 'CollapseItem',\n    props: collapseItemProps,\n    setup(props) {\n        const { mergedRtlRef } = useConfig(props);\n        const randomName = createId();\n        const mergedNameRef = useMemo(() => {\n            var _a;\n            return (_a = props.name) !== null && _a !== void 0 ? _a : randomName;\n        });\n        const NCollapse = inject(collapseInjectionKey);\n        if (!NCollapse) {\n            throwError('collapse-item', '`n-collapse-item` must be placed inside `n-collapse`.');\n        }\n        const { expandedNamesRef, props: collapseProps, mergedClsPrefixRef, slots: collapseSlots } = NCollapse;\n        const collapsedRef = computed(() => {\n            const { value: expandedNames } = expandedNamesRef;\n            if (Array.isArray(expandedNames)) {\n                const { value: name } = mergedNameRef;\n                return !~expandedNames.findIndex((expandedName) => expandedName === name);\n            }\n            else if (expandedNames) {\n                const { value: name } = mergedNameRef;\n                return name !== expandedNames;\n            }\n            return true;\n        });\n        const rtlEnabledRef = useRtl('Collapse', mergedRtlRef, mergedClsPrefixRef);\n        return {\n            rtlEnabled: rtlEnabledRef,\n            collapseSlots,\n            randomName,\n            mergedClsPrefix: mergedClsPrefixRef,\n            collapsed: collapsedRef,\n            mergedDisplayDirective: computed(() => {\n                const { displayDirective } = props;\n                if (displayDirective) {\n                    return displayDirective;\n                }\n                else {\n                    return collapseProps.displayDirective;\n                }\n            }),\n            arrowPlacement: computed(() => {\n                return collapseProps.arrowPlacement;\n            }),\n            handleClick(e) {\n                if (NCollapse) {\n                    NCollapse.toggleItem(collapsedRef.value, mergedNameRef.value, e);\n                }\n            }\n        };\n    },\n    render() {\n        var _a;\n        const { collapseSlots, $slots, arrowPlacement, collapsed, mergedDisplayDirective, mergedClsPrefix } = this;\n        const headerNode = $slots.header ? $slots.header() : this.title;\n        const headerExtraSlot = $slots['header-extra'] || collapseSlots['header-extra'];\n        const arrowSlot = $slots.arrow || collapseSlots.arrow;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-collapse-item`,\n                `${mergedClsPrefix}-collapse-item--${arrowPlacement}-arrow-placement`,\n                !collapsed && `${mergedClsPrefix}-collapse-item--active`\n            ] },\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-collapse-item__header`,\n                    !collapsed && `${mergedClsPrefix}-collapse-item__header--active`\n                ] },\n                h(\"div\", { class: `${mergedClsPrefix}-collapse-item__header-main`, onClick: this.handleClick },\n                    arrowPlacement === 'right' && headerNode,\n                    h(\"div\", { class: `${mergedClsPrefix}-collapse-item-arrow`, key: this.rtlEnabled ? 0 : 1 }, arrowSlot ? (arrowSlot({ collapsed })) : (h(NBaseIcon, { clsPrefix: mergedClsPrefix }, {\n                        default: (_a = collapseSlots.expandIcon) !== null && _a !== void 0 ? _a : (() => this.rtlEnabled ? (h(ArrowLeftIcon, null)) : (h(ArrowRightIcon, null)))\n                    }))),\n                    arrowPlacement === 'left' && headerNode),\n                headerExtraSlot && (h(\"div\", { class: `${mergedClsPrefix}-collapse-item__header-extra`, onClick: this.handleClick }, { default: headerExtraSlot }))),\n            h(NCollapseItemContent, { clsPrefix: mergedClsPrefix, displayDirective: mergedDisplayDirective, show: !collapsed }, $slots)));\n    }\n});\n"]},"metadata":{},"sourceType":"module"}