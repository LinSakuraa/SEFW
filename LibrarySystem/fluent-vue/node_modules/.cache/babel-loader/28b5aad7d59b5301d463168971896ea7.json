{"ast":null,"code":"import { h, defineComponent, ref, onMounted } from 'vue';\nimport { NFadeInExpandTransition } from '../../_internal';\nimport NMessage from './Message';\nimport { messageProps } from './message-props';\nexport default defineComponent({\n  name: 'MessageEnvironment',\n  props: Object.assign(Object.assign({}, messageProps), {\n    duration: {\n      type: Number,\n      default: 3000\n    },\n    onAfterLeave: Function,\n    onLeave: Function,\n    internalKey: {\n      type: String,\n      required: true\n    },\n    // private\n    onInternalAfterLeave: Function,\n    // deprecated\n    onHide: Function,\n    onAfterHide: Function\n  }),\n\n  setup(props) {\n    let timerId = null;\n    const showRef = ref(true);\n    onMounted(() => {\n      setHideTimeout();\n    });\n\n    function setHideTimeout() {\n      const {\n        duration\n      } = props;\n\n      if (duration) {\n        timerId = window.setTimeout(hide, duration);\n      }\n    }\n\n    function handleMouseenter(e) {\n      if (e.currentTarget !== e.target) return;\n\n      if (timerId !== null) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n    }\n\n    function handleMouseleave(e) {\n      if (e.currentTarget !== e.target) return;\n      setHideTimeout();\n    }\n\n    function hide() {\n      const {\n        onHide\n      } = props;\n      showRef.value = false;\n\n      if (timerId) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      } // deprecated\n\n\n      if (onHide) onHide();\n    }\n\n    function handleClose() {\n      const {\n        onClose\n      } = props;\n      if (onClose) onClose();\n      hide();\n    }\n\n    function handleAfterLeave() {\n      const {\n        onAfterLeave,\n        onInternalAfterLeave,\n        onAfterHide,\n        internalKey\n      } = props;\n      if (onAfterLeave) onAfterLeave();\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey); // deprecated\n\n      if (onAfterHide) onAfterHide();\n    } // deprecated\n\n\n    function deactivate() {\n      hide();\n    }\n\n    return {\n      show: showRef,\n      hide,\n      handleClose,\n      handleAfterLeave,\n      handleMouseleave,\n      handleMouseenter,\n      deactivate\n    };\n  },\n\n  render() {\n    return h(NFadeInExpandTransition, {\n      appear: true,\n      onAfterLeave: this.handleAfterLeave,\n      onLeave: this.onLeave\n    }, {\n      default: () => [this.show ? h(NMessage, {\n        content: this.content,\n        type: this.type,\n        icon: this.icon,\n        showIcon: this.showIcon,\n        closable: this.closable,\n        onClose: this.handleClose,\n        onMouseenter: this.keepAliveOnHover ? this.handleMouseenter : undefined,\n        onMouseleave: this.keepAliveOnHover ? this.handleMouseleave : undefined\n      }) : null]\n    });\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/message/src/MessageEnvironment.js"],"names":["h","defineComponent","ref","onMounted","NFadeInExpandTransition","NMessage","messageProps","name","props","Object","assign","duration","type","Number","default","onAfterLeave","Function","onLeave","internalKey","String","required","onInternalAfterLeave","onHide","onAfterHide","setup","timerId","showRef","setHideTimeout","window","setTimeout","hide","handleMouseenter","e","currentTarget","target","clearTimeout","handleMouseleave","value","handleClose","onClose","handleAfterLeave","deactivate","show","render","appear","content","icon","showIcon","closable","onMouseenter","keepAliveOnHover","undefined","onMouseleave"],"mappings":"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","sourcesContent":["import { h, defineComponent, ref, onMounted } from 'vue';\nimport { NFadeInExpandTransition } from '../../_internal';\nimport NMessage from './Message';\nimport { messageProps } from './message-props';\nexport default defineComponent({\n    name: 'MessageEnvironment',\n    props: Object.assign(Object.assign({}, messageProps), { duration: {\n            type: Number,\n            default: 3000\n        }, onAfterLeave: Function, onLeave: Function, internalKey: {\n            type: String,\n            required: true\n        }, \n        // private\n        onInternalAfterLeave: Function, \n        // deprecated\n        onHide: Function, onAfterHide: Function }),\n    setup(props) {\n        let timerId = null;\n        const showRef = ref(true);\n        onMounted(() => {\n            setHideTimeout();\n        });\n        function setHideTimeout() {\n            const { duration } = props;\n            if (duration) {\n                timerId = window.setTimeout(hide, duration);\n            }\n        }\n        function handleMouseenter(e) {\n            if (e.currentTarget !== e.target)\n                return;\n            if (timerId !== null) {\n                window.clearTimeout(timerId);\n                timerId = null;\n            }\n        }\n        function handleMouseleave(e) {\n            if (e.currentTarget !== e.target)\n                return;\n            setHideTimeout();\n        }\n        function hide() {\n            const { onHide } = props;\n            showRef.value = false;\n            if (timerId) {\n                window.clearTimeout(timerId);\n                timerId = null;\n            }\n            // deprecated\n            if (onHide)\n                onHide();\n        }\n        function handleClose() {\n            const { onClose } = props;\n            if (onClose)\n                onClose();\n            hide();\n        }\n        function handleAfterLeave() {\n            const { onAfterLeave, onInternalAfterLeave, onAfterHide, internalKey } = props;\n            if (onAfterLeave)\n                onAfterLeave();\n            if (onInternalAfterLeave)\n                onInternalAfterLeave(internalKey);\n            // deprecated\n            if (onAfterHide)\n                onAfterHide();\n        }\n        // deprecated\n        function deactivate() {\n            hide();\n        }\n        return {\n            show: showRef,\n            hide,\n            handleClose,\n            handleAfterLeave,\n            handleMouseleave,\n            handleMouseenter,\n            deactivate\n        };\n    },\n    render() {\n        return (h(NFadeInExpandTransition, { appear: true, onAfterLeave: this.handleAfterLeave, onLeave: this.onLeave }, {\n            default: () => [\n                this.show ? (h(NMessage, { content: this.content, type: this.type, icon: this.icon, showIcon: this.showIcon, closable: this.closable, onClose: this.handleClose, onMouseenter: this.keepAliveOnHover ? this.handleMouseenter : undefined, onMouseleave: this.keepAliveOnHover ? this.handleMouseleave : undefined })) : null\n            ]\n        }));\n    }\n});\n"]},"metadata":{},"sourceType":"module"}