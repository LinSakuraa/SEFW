{"ast":null,"code":"/* eslint-disable @typescript-eslint/strict-boolean-expressions */\n// ref https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/js/dialog.js\nfunction isHTMLElement(node) {\n  return node instanceof HTMLElement;\n}\n\nexport function focusFirstDescendant(node) {\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const child = node.childNodes[i];\n\n    if (isHTMLElement(child)) {\n      if (attemptFocus(child) || focusFirstDescendant(child)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\nexport function focusLastDescendant(element) {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i];\n\n    if (isHTMLElement(child)) {\n      if (attemptFocus(child) || focusLastDescendant(child)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction attemptFocus(element) {\n  if (!isFocusable(element)) {\n    return false;\n  }\n\n  try {\n    element.focus({\n      preventScroll: true\n    });\n  } catch (e) {}\n\n  return document.activeElement === element;\n}\n\nfunction isFocusable(element) {\n  if (element.tabIndex > 0 || element.tabIndex === 0 && element.getAttribute('tabIndex') !== null) {\n    return true;\n  }\n\n  if (element.getAttribute('disabled')) {\n    return false;\n  }\n\n  switch (element.nodeName) {\n    case 'A':\n      return !!element.href && element.rel !== 'ignore';\n\n    case 'INPUT':\n      return element.type !== 'hidden' && element.type !== 'file';\n\n    case 'BUTTON':\n    case 'SELECT':\n    case 'TEXTAREA':\n      return true;\n\n    default:\n      return false;\n  }\n}","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/vueuc/es/focus-trap/src/utils.js"],"names":["isHTMLElement","node","HTMLElement","focusFirstDescendant","i","childNodes","length","child","attemptFocus","focusLastDescendant","element","isFocusable","focus","preventScroll","e","document","activeElement","tabIndex","getAttribute","nodeName","href","rel","type"],"mappings":"AAAA;AACA;AACA,SAASA,aAAT,CAAuBC,IAAvB,EAA6B;AACzB,SAAOA,IAAI,YAAYC,WAAvB;AACH;;AACD,OAAO,SAASC,oBAAT,CAA8BF,IAA9B,EAAoC;AACvC,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,UAAL,CAAgBC,MAApC,EAA4CF,CAAC,EAA7C,EAAiD;AAC7C,UAAMG,KAAK,GAAGN,IAAI,CAACI,UAAL,CAAgBD,CAAhB,CAAd;;AACA,QAAIJ,aAAa,CAACO,KAAD,CAAjB,EAA0B;AACtB,UAAIC,YAAY,CAACD,KAAD,CAAZ,IAAuBJ,oBAAoB,CAACI,KAAD,CAA/C,EAAwD;AACpD,eAAO,IAAP;AACH;AACJ;AACJ;;AACD,SAAO,KAAP;AACH;AACD,OAAO,SAASE,mBAAT,CAA6BC,OAA7B,EAAsC;AACzC,OAAK,IAAIN,CAAC,GAAGM,OAAO,CAACL,UAAR,CAAmBC,MAAnB,GAA4B,CAAzC,EAA4CF,CAAC,IAAI,CAAjD,EAAoDA,CAAC,EAArD,EAAyD;AACrD,UAAMG,KAAK,GAAGG,OAAO,CAACL,UAAR,CAAmBD,CAAnB,CAAd;;AACA,QAAIJ,aAAa,CAACO,KAAD,CAAjB,EAA0B;AACtB,UAAIC,YAAY,CAACD,KAAD,CAAZ,IAAuBE,mBAAmB,CAACF,KAAD,CAA9C,EAAuD;AACnD,eAAO,IAAP;AACH;AACJ;AACJ;;AACD,SAAO,KAAP;AACH;;AACD,SAASC,YAAT,CAAsBE,OAAtB,EAA+B;AAC3B,MAAI,CAACC,WAAW,CAACD,OAAD,CAAhB,EAA2B;AACvB,WAAO,KAAP;AACH;;AACD,MAAI;AACAA,IAAAA,OAAO,CAACE,KAAR,CAAc;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAAd;AACH,GAFD,CAGA,OAAOC,CAAP,EAAU,CAAG;;AACb,SAAOC,QAAQ,CAACC,aAAT,KAA2BN,OAAlC;AACH;;AACD,SAASC,WAAT,CAAqBD,OAArB,EAA8B;AAC1B,MAAIA,OAAO,CAACO,QAAR,GAAmB,CAAnB,IACCP,OAAO,CAACO,QAAR,KAAqB,CAArB,IAA0BP,OAAO,CAACQ,YAAR,CAAqB,UAArB,MAAqC,IADpE,EAC2E;AACvE,WAAO,IAAP;AACH;;AACD,MAAIR,OAAO,CAACQ,YAAR,CAAqB,UAArB,CAAJ,EAAsC;AAClC,WAAO,KAAP;AACH;;AACD,UAAQR,OAAO,CAACS,QAAhB;AACI,SAAK,GAAL;AACI,aAAQ,CAAC,CAACT,OAAO,CAACU,IAAV,IACJV,OAAO,CAACW,GAAR,KAAgB,QADpB;;AAEJ,SAAK,OAAL;AACI,aAAQX,OAAO,CAACY,IAAR,KAAiB,QAAjB,IACJZ,OAAO,CAACY,IAAR,KAAiB,MADrB;;AAEJ,SAAK,QAAL;AACA,SAAK,QAAL;AACA,SAAK,UAAL;AACI,aAAO,IAAP;;AACJ;AACI,aAAO,KAAP;AAZR;AAcH","sourcesContent":["/* eslint-disable @typescript-eslint/strict-boolean-expressions */\n// ref https://www.w3.org/TR/wai-aria-practices-1.1/examples/dialog-modal/js/dialog.js\nfunction isHTMLElement(node) {\n    return node instanceof HTMLElement;\n}\nexport function focusFirstDescendant(node) {\n    for (let i = 0; i < node.childNodes.length; i++) {\n        const child = node.childNodes[i];\n        if (isHTMLElement(child)) {\n            if (attemptFocus(child) || focusFirstDescendant(child)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nexport function focusLastDescendant(element) {\n    for (let i = element.childNodes.length - 1; i >= 0; i--) {\n        const child = element.childNodes[i];\n        if (isHTMLElement(child)) {\n            if (attemptFocus(child) || focusLastDescendant(child)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction attemptFocus(element) {\n    if (!isFocusable(element)) {\n        return false;\n    }\n    try {\n        element.focus({ preventScroll: true });\n    }\n    catch (e) { }\n    return document.activeElement === element;\n}\nfunction isFocusable(element) {\n    if (element.tabIndex > 0 ||\n        (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)) {\n        return true;\n    }\n    if (element.getAttribute('disabled')) {\n        return false;\n    }\n    switch (element.nodeName) {\n        case 'A':\n            return (!!element.href &&\n                element.rel !== 'ignore');\n        case 'INPUT':\n            return (element.type !== 'hidden' &&\n                element.type !== 'file');\n        case 'BUTTON':\n        case 'SELECT':\n        case 'TEXTAREA':\n            return true;\n        default:\n            return false;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}