{"ast":null,"code":"import { h, defineComponent, computed, provide, withDirectives, Transition, watchEffect } from 'vue';\nimport { VLazyTeleport } from 'vueuc';\nimport { zindexable } from 'vdirs';\nimport { useIsMounted } from 'vooks';\nimport { useTheme, useConfig, useThemeClass } from '../../_mixins';\nimport { formatLength, call, warnOnce } from '../../_utils';\nimport { drawerLight } from '../styles';\nimport NDrawerBodyWrapper from './DrawerBodyWrapper';\nimport { drawerInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nconst drawerProps = Object.assign(Object.assign({}, useTheme.props), {\n  show: Boolean,\n  width: {\n    type: [Number, String],\n    default: 251\n  },\n  height: {\n    type: [Number, String],\n    default: 251\n  },\n  placement: {\n    type: String,\n    default: 'right'\n  },\n  maskClosable: {\n    type: Boolean,\n    default: true\n  },\n  to: [String, Object],\n  displayDirective: {\n    type: String,\n    default: 'if'\n  },\n  nativeScrollbar: {\n    type: Boolean,\n    default: true\n  },\n  zIndex: Number,\n  onMaskClick: Function,\n  scrollbarProps: Object,\n  contentStyle: [Object, String],\n  trapFocus: {\n    type: Boolean,\n    default: true\n  },\n  onEsc: Function,\n  autoFocus: {\n    type: Boolean,\n    default: true\n  },\n  closeOnEsc: {\n    type: Boolean,\n    default: true\n  },\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  onAfterEnter: Function,\n  onAfterLeave: Function,\n\n  /** @deprecated */\n  drawerStyle: [String, Object],\n  drawerClass: String,\n  target: null,\n  onShow: Function,\n  onHide: Function\n});\nexport default defineComponent({\n  name: 'Drawer',\n  inheritAttrs: false,\n  props: drawerProps,\n\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.drawerStyle !== undefined) {\n          warnOnce('drawer', '`drawer-style` is deprecated, please use `style` instead.');\n        }\n\n        if (props.drawerClass !== undefined) {\n          warnOnce('drawer', '`drawer-class` is deprecated, please use `class` instead.');\n        }\n\n        if (props.target !== undefined) {\n          warnOnce('drawer', '`target` is deprecated, please use `to` instead.');\n        }\n\n        if (props.onShow !== undefined) {\n          warnOnce('drawer', '`on-show` is deprecated, please use `on-update:show` instead.');\n        }\n\n        if (props.onHide !== undefined) {\n          warnOnce('drawer', '`on-hide` is deprecated, please use `on-update:show` instead.');\n        }\n      });\n    }\n\n    const {\n      mergedClsPrefixRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const isMountedRef = useIsMounted();\n    const themeRef = useTheme('Drawer', '-drawer', style, drawerLight, props, mergedClsPrefixRef);\n    const styleWidthRef = computed(() => {\n      const {\n        placement\n      } = props;\n      if (placement === 'top' || placement === 'bottom') return '';\n      const {\n        width\n      } = props;\n      return formatLength(width);\n    });\n    const styleHeightRef = computed(() => {\n      const {\n        placement\n      } = props;\n      if (placement === 'left' || placement === 'right') return '';\n      const {\n        height\n      } = props;\n      return formatLength(height);\n    });\n    const mergedBodyStyleRef = computed(() => {\n      return [{\n        width: styleWidthRef.value,\n        height: styleHeightRef.value\n      }, props.drawerStyle];\n    });\n\n    function handleMaskClick(e) {\n      const {\n        onMaskClick,\n        maskClosable\n      } = props;\n\n      if (maskClosable) {\n        doUpdateShow(false);\n      }\n\n      if (onMaskClick) onMaskClick(e);\n    }\n\n    function handleEsc() {\n      var _a;\n\n      (_a = props.onEsc) === null || _a === void 0 ? void 0 : _a.call(props);\n\n      if (props.closeOnEsc) {\n        doUpdateShow(false);\n      }\n    }\n\n    function doUpdateShow(show) {\n      const {\n        onHide,\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, show);\n      if (_onUpdateShow) call(_onUpdateShow, show); // deprecated\n\n      if (onHide && !show) call(onHide, show);\n    }\n\n    provide(drawerInjectionKey, {\n      isMountedRef: isMountedRef,\n      mergedThemeRef: themeRef,\n      mergedClsPrefixRef,\n      doUpdateShow\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        common: {\n          cubicBezierEaseInOut,\n          cubicBezierEaseIn,\n          cubicBezierEaseOut\n        },\n        self: {\n          color,\n          textColor,\n          boxShadow,\n          lineHeight,\n          headerPadding,\n          footerPadding,\n          bodyPadding,\n          titleFontSize,\n          titleTextColor,\n          titleFontWeight,\n          headerBorderBottom,\n          footerBorderTop,\n          closeColor,\n          closeColorHover,\n          closeColorPressed,\n          closeSize\n        }\n      } = themeRef.value;\n      return {\n        '--n-line-height': lineHeight,\n        '--n-color': color,\n        '--n-text-color': textColor,\n        '--n-box-shadow': boxShadow,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-bezier-out': cubicBezierEaseOut,\n        '--n-bezier-in': cubicBezierEaseIn,\n        '--n-header-padding': headerPadding,\n        '--n-body-padding': bodyPadding,\n        '--n-footer-padding': footerPadding,\n        '--n-title-text-color': titleTextColor,\n        '--n-title-font-size': titleFontSize,\n        '--n-title-font-weight': titleFontWeight,\n        '--n-header-border-bottom': headerBorderBottom,\n        '--n-footer-border-top': footerBorderTop,\n        '--n-close-color': closeColor,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-close-size': closeSize\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('drawer', undefined, cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      namespace: namespaceRef,\n      mergedBodyStyle: mergedBodyStyleRef,\n      handleMaskClick,\n      handleEsc,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n      isMounted: isMountedRef\n    };\n  },\n\n  render() {\n    const {\n      mergedClsPrefix\n    } = this;\n    return h(VLazyTeleport, {\n      to: this.to,\n      show: this.show\n    }, {\n      default: () => {\n        var _a;\n\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return withDirectives(h(\"div\", {\n          class: [`${mergedClsPrefix}-drawer-container`, this.namespace, this.themeClass],\n          style: this.cssVars,\n          role: \"none\"\n        }, h(Transition, {\n          name: \"fade-in-transition\",\n          appear: this.isMounted\n        }, {\n          default: () => this.show ? h(\"div\", {\n            \"aria-hidden\": true,\n            class: `${mergedClsPrefix}-drawer-mask`,\n            onClick: this.handleMaskClick\n          }) : null\n        }), h(NDrawerBodyWrapper, Object.assign({}, this.$attrs, {\n          class: [this.drawerClass, this.$attrs.class],\n          style: [this.mergedBodyStyle, this.$attrs.style],\n          contentStyle: this.contentStyle,\n          placement: this.placement,\n          scrollbarProps: this.scrollbarProps,\n          show: this.show,\n          displayDirective: this.displayDirective,\n          nativeScrollbar: this.nativeScrollbar,\n          onAfterEnter: this.onAfterEnter,\n          onAfterLeave: this.onAfterLeave,\n          trapFocus: this.trapFocus,\n          autoFocus: this.autoFocus,\n          onEsc: this.handleEsc\n        }), this.$slots)), [[zindexable, {\n          zIndex: this.zIndex,\n          enabled: this.show\n        }]]);\n      }\n    });\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/drawer/src/Drawer.js"],"names":["h","defineComponent","computed","provide","withDirectives","Transition","watchEffect","VLazyTeleport","zindexable","useIsMounted","useTheme","useConfig","useThemeClass","formatLength","call","warnOnce","drawerLight","NDrawerBodyWrapper","drawerInjectionKey","style","drawerProps","Object","assign","props","show","Boolean","width","type","Number","String","default","height","placement","maskClosable","to","displayDirective","nativeScrollbar","zIndex","onMaskClick","Function","scrollbarProps","contentStyle","trapFocus","onEsc","autoFocus","closeOnEsc","Array","onUpdateShow","onAfterEnter","onAfterLeave","drawerStyle","drawerClass","target","onShow","onHide","name","inheritAttrs","setup","process","env","NODE_ENV","undefined","mergedClsPrefixRef","namespaceRef","inlineThemeDisabled","isMountedRef","themeRef","styleWidthRef","styleHeightRef","mergedBodyStyleRef","value","handleMaskClick","e","doUpdateShow","handleEsc","_a","_onUpdateShow","mergedThemeRef","cssVarsRef","common","cubicBezierEaseInOut","cubicBezierEaseIn","cubicBezierEaseOut","self","color","textColor","boxShadow","lineHeight","headerPadding","footerPadding","bodyPadding","titleFontSize","titleTextColor","titleFontWeight","headerBorderBottom","footerBorderTop","closeColor","closeColorHover","closeColorPressed","closeSize","themeClassHandle","mergedClsPrefix","namespace","mergedBodyStyle","mergedTheme","cssVars","themeClass","onRender","isMounted","render","class","role","appear","onClick","$attrs","$slots","enabled"],"mappings":"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","sourcesContent":["import { h, defineComponent, computed, provide, withDirectives, Transition, watchEffect } from 'vue';\nimport { VLazyTeleport } from 'vueuc';\nimport { zindexable } from 'vdirs';\nimport { useIsMounted } from 'vooks';\nimport { useTheme, useConfig, useThemeClass } from '../../_mixins';\nimport { formatLength, call, warnOnce } from '../../_utils';\nimport { drawerLight } from '../styles';\nimport NDrawerBodyWrapper from './DrawerBodyWrapper';\nimport { drawerInjectionKey } from './interface';\nimport style from './styles/index.cssr';\nconst drawerProps = Object.assign(Object.assign({}, useTheme.props), { show: Boolean, width: {\n        type: [Number, String],\n        default: 251\n    }, height: {\n        type: [Number, String],\n        default: 251\n    }, placement: {\n        type: String,\n        default: 'right'\n    }, maskClosable: {\n        type: Boolean,\n        default: true\n    }, to: [String, Object], displayDirective: {\n        type: String,\n        default: 'if'\n    }, nativeScrollbar: {\n        type: Boolean,\n        default: true\n    }, zIndex: Number, onMaskClick: Function, scrollbarProps: Object, contentStyle: [Object, String], trapFocus: {\n        type: Boolean,\n        default: true\n    }, onEsc: Function, autoFocus: {\n        type: Boolean,\n        default: true\n    }, closeOnEsc: {\n        type: Boolean,\n        default: true\n    }, 'onUpdate:show': [Function, Array], onUpdateShow: [Function, Array], onAfterEnter: Function, onAfterLeave: Function, \n    /** @deprecated */\n    drawerStyle: [String, Object], drawerClass: String, target: null, onShow: Function, onHide: Function });\nexport default defineComponent({\n    name: 'Drawer',\n    inheritAttrs: false,\n    props: drawerProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.drawerStyle !== undefined) {\n                    warnOnce('drawer', '`drawer-style` is deprecated, please use `style` instead.');\n                }\n                if (props.drawerClass !== undefined) {\n                    warnOnce('drawer', '`drawer-class` is deprecated, please use `class` instead.');\n                }\n                if (props.target !== undefined) {\n                    warnOnce('drawer', '`target` is deprecated, please use `to` instead.');\n                }\n                if (props.onShow !== undefined) {\n                    warnOnce('drawer', '`on-show` is deprecated, please use `on-update:show` instead.');\n                }\n                if (props.onHide !== undefined) {\n                    warnOnce('drawer', '`on-hide` is deprecated, please use `on-update:show` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const isMountedRef = useIsMounted();\n        const themeRef = useTheme('Drawer', '-drawer', style, drawerLight, props, mergedClsPrefixRef);\n        const styleWidthRef = computed(() => {\n            const { placement } = props;\n            if (placement === 'top' || placement === 'bottom')\n                return '';\n            const { width } = props;\n            return formatLength(width);\n        });\n        const styleHeightRef = computed(() => {\n            const { placement } = props;\n            if (placement === 'left' || placement === 'right')\n                return '';\n            const { height } = props;\n            return formatLength(height);\n        });\n        const mergedBodyStyleRef = computed(() => {\n            return [\n                {\n                    width: styleWidthRef.value,\n                    height: styleHeightRef.value\n                },\n                props.drawerStyle\n            ];\n        });\n        function handleMaskClick(e) {\n            const { onMaskClick, maskClosable } = props;\n            if (maskClosable) {\n                doUpdateShow(false);\n            }\n            if (onMaskClick)\n                onMaskClick(e);\n        }\n        function handleEsc() {\n            var _a;\n            (_a = props.onEsc) === null || _a === void 0 ? void 0 : _a.call(props);\n            if (props.closeOnEsc) {\n                doUpdateShow(false);\n            }\n        }\n        function doUpdateShow(show) {\n            const { onHide, onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, show);\n            if (_onUpdateShow)\n                call(_onUpdateShow, show);\n            // deprecated\n            if (onHide && !show)\n                call(onHide, show);\n        }\n        provide(drawerInjectionKey, {\n            isMountedRef: isMountedRef,\n            mergedThemeRef: themeRef,\n            mergedClsPrefixRef,\n            doUpdateShow\n        });\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut, cubicBezierEaseIn, cubicBezierEaseOut }, self: { color, textColor, boxShadow, lineHeight, headerPadding, footerPadding, bodyPadding, titleFontSize, titleTextColor, titleFontWeight, headerBorderBottom, footerBorderTop, closeColor, closeColorHover, closeColorPressed, closeSize } } = themeRef.value;\n            return {\n                '--n-line-height': lineHeight,\n                '--n-color': color,\n                '--n-text-color': textColor,\n                '--n-box-shadow': boxShadow,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-bezier-out': cubicBezierEaseOut,\n                '--n-bezier-in': cubicBezierEaseIn,\n                '--n-header-padding': headerPadding,\n                '--n-body-padding': bodyPadding,\n                '--n-footer-padding': footerPadding,\n                '--n-title-text-color': titleTextColor,\n                '--n-title-font-size': titleFontSize,\n                '--n-title-font-weight': titleFontWeight,\n                '--n-header-border-bottom': headerBorderBottom,\n                '--n-footer-border-top': footerBorderTop,\n                '--n-close-color': closeColor,\n                '--n-close-color-hover': closeColorHover,\n                '--n-close-color-pressed': closeColorPressed,\n                '--n-close-size': closeSize\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('drawer', undefined, cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            namespace: namespaceRef,\n            mergedBodyStyle: mergedBodyStyleRef,\n            handleMaskClick,\n            handleEsc,\n            mergedTheme: themeRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n            isMounted: isMountedRef\n        };\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return (h(VLazyTeleport, { to: this.to, show: this.show }, {\n            default: () => {\n                var _a;\n                (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                return withDirectives(h(\"div\", { class: [\n                        `${mergedClsPrefix}-drawer-container`,\n                        this.namespace,\n                        this.themeClass\n                    ], style: this.cssVars, role: \"none\" },\n                    h(Transition, { name: \"fade-in-transition\", appear: this.isMounted }, {\n                        default: () => this.show ? (h(\"div\", { \"aria-hidden\": true, class: `${mergedClsPrefix}-drawer-mask`, onClick: this.handleMaskClick })) : null\n                    }),\n                    h(NDrawerBodyWrapper, Object.assign({}, this.$attrs, { class: [this.drawerClass, this.$attrs.class], style: [this.mergedBodyStyle, this.$attrs.style], contentStyle: this.contentStyle, placement: this.placement, scrollbarProps: this.scrollbarProps, show: this.show, displayDirective: this.displayDirective, nativeScrollbar: this.nativeScrollbar, onAfterEnter: this.onAfterEnter, onAfterLeave: this.onAfterLeave, trapFocus: this.trapFocus, autoFocus: this.autoFocus, onEsc: this.handleEsc }), this.$slots)), [[zindexable, { zIndex: this.zIndex, enabled: this.show }]]);\n            }\n        }));\n    }\n});\n"]},"metadata":{},"sourceType":"module"}