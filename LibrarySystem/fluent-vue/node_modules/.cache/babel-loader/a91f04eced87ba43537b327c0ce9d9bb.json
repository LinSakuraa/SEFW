{"ast":null,"code":"import { onMounted, onBeforeUnmount } from 'vue';\nimport { isBrowser } from './utils';\nlet fontsReady;\nlet isFontReady;\n\nconst init = () => {\n  var _a, _b;\n\n  fontsReady = isBrowser ? (_b = (_a = document) === null || _a === void 0 ? void 0 : _a.fonts) === null || _b === void 0 ? void 0 : _b.ready : undefined;\n  isFontReady = false;\n  /* istanbul ignore if */\n\n  if (fontsReady !== undefined) {\n    void fontsReady.then(() => {\n      isFontReady = true;\n    });\n  } else {\n    isFontReady = true;\n  }\n};\n\ninit(); // For testing\n\nexport { init };\n/**\n * Call callback on fontsReady is resolved. If fontsReady is already resolved,\n * callback won't be called.\n */\n\nexport default function onFontsReady(cb) {\n  /* istanbul ignore next */\n  if (isFontReady) return;\n  let deactivated = false;\n  onMounted(() => {\n    /* istanbul ignore next */\n    if (!isFontReady) {\n      fontsReady === null || fontsReady === void 0 ? void 0 : fontsReady.then(() => {\n        if (deactivated) return;\n        cb();\n      });\n    }\n  });\n  onBeforeUnmount(() => {\n    deactivated = true;\n  });\n}","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/vooks/es/on-fonts-ready.js"],"names":["onMounted","onBeforeUnmount","isBrowser","fontsReady","isFontReady","init","_a","_b","document","fonts","ready","undefined","then","onFontsReady","cb","deactivated"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,eAApB,QAA2C,KAA3C;AACA,SAASC,SAAT,QAA0B,SAA1B;AACA,IAAIC,UAAJ;AACA,IAAIC,WAAJ;;AACA,MAAMC,IAAI,GAAG,MAAM;AACf,MAAIC,EAAJ,EAAQC,EAAR;;AACAJ,EAAAA,UAAU,GAAGD,SAAS,GAAG,CAACK,EAAE,GAAG,CAACD,EAAE,GAAGE,QAAN,MAAoB,IAApB,IAA4BF,EAAE,KAAK,KAAK,CAAxC,GAA4C,KAAK,CAAjD,GAAqDA,EAAE,CAACG,KAA9D,MAAyE,IAAzE,IAAiFF,EAAE,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0GA,EAAE,CAACG,KAAhH,GAAwHC,SAA9I;AACAP,EAAAA,WAAW,GAAG,KAAd;AACA;;AACA,MAAID,UAAU,KAAKQ,SAAnB,EAA8B;AAC1B,SAAKR,UAAU,CAACS,IAAX,CAAgB,MAAM;AACvBR,MAAAA,WAAW,GAAG,IAAd;AACH,KAFI,CAAL;AAGH,GAJD,MAKK;AACDA,IAAAA,WAAW,GAAG,IAAd;AACH;AACJ,CAbD;;AAcAC,IAAI,G,CACJ;;AACA,SAASA,IAAT;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASQ,YAAT,CAAsBC,EAAtB,EAA0B;AACrC;AACA,MAAIV,WAAJ,EACI;AACJ,MAAIW,WAAW,GAAG,KAAlB;AACAf,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA,QAAI,CAACI,WAAL,EAAkB;AACdD,MAAAA,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACS,IAAX,CAAgB,MAAM;AAC1E,YAAIG,WAAJ,EACI;AACJD,QAAAA,EAAE;AACL,OAJuD,CAAxD;AAKH;AACJ,GATQ,CAAT;AAUAb,EAAAA,eAAe,CAAC,MAAM;AAClBc,IAAAA,WAAW,GAAG,IAAd;AACH,GAFc,CAAf;AAGH","sourcesContent":["import { onMounted, onBeforeUnmount } from 'vue';\nimport { isBrowser } from './utils';\nlet fontsReady;\nlet isFontReady;\nconst init = () => {\n    var _a, _b;\n    fontsReady = isBrowser ? (_b = (_a = document) === null || _a === void 0 ? void 0 : _a.fonts) === null || _b === void 0 ? void 0 : _b.ready : undefined;\n    isFontReady = false;\n    /* istanbul ignore if */\n    if (fontsReady !== undefined) {\n        void fontsReady.then(() => {\n            isFontReady = true;\n        });\n    }\n    else {\n        isFontReady = true;\n    }\n};\ninit();\n// For testing\nexport { init };\n/**\n * Call callback on fontsReady is resolved. If fontsReady is already resolved,\n * callback won't be called.\n */\nexport default function onFontsReady(cb) {\n    /* istanbul ignore next */\n    if (isFontReady)\n        return;\n    let deactivated = false;\n    onMounted(() => {\n        /* istanbul ignore next */\n        if (!isFontReady) {\n            fontsReady === null || fontsReady === void 0 ? void 0 : fontsReady.then(() => {\n                if (deactivated)\n                    return;\n                cb();\n            });\n        }\n    });\n    onBeforeUnmount(() => {\n        deactivated = true;\n    });\n}\n"]},"metadata":{},"sourceType":"module"}