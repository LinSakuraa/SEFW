{"ast":null,"code":"/* eslint-disable @typescript-eslint/consistent-type-assertions */\nimport { ref, computed, onBeforeUnmount } from 'vue';\nimport { isBrowser } from './utils';\nexport const defaultBreakpointOptions = {\n  // mobile\n  // 0 ~ 640 doesn't mean it should display well in all the range,\n  // but means you should treat it like a mobile phone.)\n  xs: 0,\n  s: 640,\n  m: 1024,\n  l: 1280,\n  xl: 1536,\n  '2xl': 1920 // normal desktop display\n\n};\n\nfunction createMediaQuery(screenWidth) {\n  return `(min-width: ${screenWidth}px)`;\n}\n\nconst mqlMap = {};\n\nfunction useBreakpoints(screens = defaultBreakpointOptions) {\n  if (!isBrowser) return computed(() => []); // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n\n  if (typeof window.matchMedia !== 'function') return computed(() => []);\n  const breakpointStatusRef = ref({});\n  const breakpoints = Object.keys(screens);\n\n  const updateBreakpoints = (e, breakpointName) => {\n    if (e.matches) breakpointStatusRef.value[breakpointName] = true;else breakpointStatusRef.value[breakpointName] = false;\n  };\n\n  breakpoints.forEach(key => {\n    const breakpointValue = screens[key];\n    let mql;\n    let cbs;\n\n    if (mqlMap[breakpointValue] === undefined) {\n      mql = window.matchMedia(createMediaQuery(breakpointValue)); // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n\n      if (mql.addEventListener) {\n        mql.addEventListener('change', e => {\n          cbs.forEach(cb => {\n            cb(e, key);\n          });\n        }); // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n      } else if (mql.addListener) {\n        mql.addListener(e => {\n          cbs.forEach(cb => {\n            cb(e, key);\n          });\n        });\n      }\n\n      cbs = new Set();\n      mqlMap[breakpointValue] = {\n        mql,\n        cbs\n      };\n    } else {\n      mql = mqlMap[breakpointValue].mql;\n      cbs = mqlMap[breakpointValue].cbs;\n    }\n\n    cbs.add(updateBreakpoints);\n\n    if (mql.matches) {\n      cbs.forEach(cb => {\n        cb(mql, key);\n      });\n    }\n  });\n  onBeforeUnmount(() => {\n    breakpoints.forEach(breakpoint => {\n      const {\n        cbs\n      } = mqlMap[screens[breakpoint]];\n\n      if (cbs.has(updateBreakpoints)) {\n        cbs.delete(updateBreakpoints);\n      }\n    });\n  });\n  return computed(() => {\n    const {\n      value\n    } = breakpointStatusRef;\n    return breakpoints.filter(key => value[key]);\n  });\n}\n\nexport default useBreakpoints;","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/vooks/es/use-breakpoints.js"],"names":["ref","computed","onBeforeUnmount","isBrowser","defaultBreakpointOptions","xs","s","m","l","xl","createMediaQuery","screenWidth","mqlMap","useBreakpoints","screens","window","matchMedia","breakpointStatusRef","breakpoints","Object","keys","updateBreakpoints","e","breakpointName","matches","value","forEach","key","breakpointValue","mql","cbs","undefined","addEventListener","cb","addListener","Set","add","breakpoint","has","delete","filter"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/consistent-type-assertions */\nimport { ref, computed, onBeforeUnmount } from 'vue';\nimport { isBrowser } from './utils';\nexport const defaultBreakpointOptions = {\n    // mobile\n    // 0 ~ 640 doesn't mean it should display well in all the range,\n    // but means you should treat it like a mobile phone.)\n    xs: 0,\n    s: 640,\n    m: 1024,\n    l: 1280,\n    xl: 1536,\n    '2xl': 1920 // normal desktop display\n};\nfunction createMediaQuery(screenWidth) {\n    return `(min-width: ${screenWidth}px)`;\n}\nconst mqlMap = {};\nfunction useBreakpoints(screens = defaultBreakpointOptions) {\n    if (!isBrowser)\n        return computed(() => []);\n    // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n    if (typeof window.matchMedia !== 'function')\n        return computed(() => []);\n    const breakpointStatusRef = ref({});\n    const breakpoints = Object.keys(screens);\n    const updateBreakpoints = (e, breakpointName) => {\n        if (e.matches)\n            breakpointStatusRef.value[breakpointName] = true;\n        else\n            breakpointStatusRef.value[breakpointName] = false;\n    };\n    breakpoints.forEach((key) => {\n        const breakpointValue = screens[key];\n        let mql;\n        let cbs;\n        if (mqlMap[breakpointValue] === undefined) {\n            mql = window.matchMedia(createMediaQuery(breakpointValue));\n            // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            if (mql.addEventListener) {\n                mql.addEventListener('change', (e) => {\n                    cbs.forEach((cb) => {\n                        cb(e, key);\n                    });\n                });\n                // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n            }\n            else if (mql.addListener) {\n                mql.addListener((e) => {\n                    cbs.forEach((cb) => {\n                        cb(e, key);\n                    });\n                });\n            }\n            cbs = new Set();\n            mqlMap[breakpointValue] = {\n                mql,\n                cbs\n            };\n        }\n        else {\n            mql = mqlMap[breakpointValue].mql;\n            cbs = mqlMap[breakpointValue].cbs;\n        }\n        cbs.add(updateBreakpoints);\n        if (mql.matches) {\n            cbs.forEach((cb) => {\n                cb(mql, key);\n            });\n        }\n    });\n    onBeforeUnmount(() => {\n        breakpoints.forEach((breakpoint) => {\n            const { cbs } = mqlMap[screens[breakpoint]];\n            if (cbs.has(updateBreakpoints)) {\n                cbs.delete(updateBreakpoints);\n            }\n        });\n    });\n    return computed(() => {\n        const { value } = breakpointStatusRef;\n        return breakpoints.filter((key) => value[key]);\n    });\n}\nexport default useBreakpoints;\n"]},"metadata":{},"sourceType":"module"}