{"ast":null,"code":"import { h, computed, defineComponent, ref, provide, toRef, Transition, watchEffect } from 'vue';\nimport { createId } from 'seemly';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseLoading } from '../../_internal';\nimport { NPagination } from '../../pagination';\nimport { createKey, warnOnce } from '../../_utils';\nimport { dataTableLight } from '../styles';\nimport MainTable from './MainTable';\nimport { useCheck } from './use-check';\nimport { useTableData } from './use-table-data';\nimport { useScroll } from './use-scroll';\nimport { dataTableInjectionKey } from './interface';\nimport { useGroupHeader } from './use-group-header';\nimport { useExpand } from './use-expand';\nimport style from './styles/index.cssr';\nexport const dataTableProps = Object.assign(Object.assign({}, useTheme.props), {\n  pagination: {\n    type: [Object, Boolean],\n    default: false\n  },\n  paginateSinglePage: {\n    type: Boolean,\n    default: true\n  },\n  minHeight: [Number, String],\n  maxHeight: [Number, String],\n  // Use any type as row data to make prop data acceptable\n  columns: {\n    type: Array,\n    default: () => []\n  },\n  rowClassName: [String, Function],\n  rowProps: Function,\n  rowKey: Function,\n  summary: [Function],\n  data: {\n    type: Array,\n    default: () => []\n  },\n  loading: Boolean,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  bottomBordered: {\n    type: Boolean,\n    default: undefined\n  },\n  striped: Boolean,\n  scrollX: [Number, String],\n  defaultCheckedRowKeys: {\n    type: Array,\n    default: () => []\n  },\n  checkedRowKeys: Array,\n  singleLine: {\n    type: Boolean,\n    default: true\n  },\n  singleColumn: Boolean,\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  remote: Boolean,\n  defaultExpandedRowKeys: {\n    type: Array,\n    default: []\n  },\n  expandedRowKeys: Array,\n  virtualScroll: Boolean,\n  tableLayout: {\n    type: String,\n    default: 'auto'\n  },\n  allowCheckingNotLoaded: Boolean,\n  cascade: {\n    type: Boolean,\n    default: true\n  },\n  childrenKey: {\n    type: String,\n    default: 'children'\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  flexHeight: Boolean,\n  onLoad: Function,\n  'onUpdate:page': [Function, Array],\n  onUpdatePage: [Function, Array],\n  'onUpdate:pageSize': [Function, Array],\n  onUpdatePageSize: [Function, Array],\n  'onUpdate:sorter': [Function, Array],\n  onUpdateSorter: [Function, Array],\n  'onUpdate:filters': [Function, Array],\n  onUpdateFilters: [Function, Array],\n  'onUpdate:checkedRowKeys': [Function, Array],\n  onUpdateCheckedRowKeys: [Function, Array],\n  'onUpdate:expandedRowKeys': [Function, Array],\n  onUpdateExpandedRowKeys: [Function, Array],\n  // deprecated\n  onPageChange: [Function, Array],\n  onPageSizeChange: [Function, Array],\n  onSorterChange: [Function, Array],\n  onFiltersChange: [Function, Array],\n  onCheckedRowKeysChange: [Function, Array]\n});\nexport default defineComponent({\n  name: 'DataTable',\n  alias: ['AdvancedTable'],\n  props: dataTableProps,\n\n  setup(props, {\n    slots\n  }) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onPageChange !== undefined) {\n          warnOnce('data-table', '`on-page-change` is deprecated, please use `on-update:page` instead.');\n        }\n\n        if (props.onPageSizeChange !== undefined) {\n          warnOnce('data-table', '`on-page-size-change` is deprecated, please use `on-update:page-size` instead.');\n        }\n\n        if (props.onSorterChange !== undefined) {\n          warnOnce('data-table', '`on-sorter-change` is deprecated, please use `on-update:sorter` instead.');\n        }\n\n        if (props.onFiltersChange !== undefined) {\n          warnOnce('data-table', '`on-filters-change` is deprecated, please use `on-update:filters` instead.');\n        }\n\n        if (props.onCheckedRowKeysChange !== undefined) {\n          warnOnce('data-table', '`on-checked-row-keys-change` is deprecated, please use `on-update:checked-row-keys` instead.');\n        }\n      });\n    }\n\n    const {\n      mergedBorderedRef,\n      mergedClsPrefixRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const mergedBottomBorderedRef = computed(() => {\n      const {\n        bottomBordered\n      } = props; // do not add bottom bordered class if bordered is true\n      // since border is displayed on wrapper\n\n      if (mergedBorderedRef.value) return false;\n      if (bottomBordered !== undefined) return bottomBordered;\n      return true;\n    });\n    const themeRef = useTheme('DataTable', '-data-table', style, dataTableLight, props, mergedClsPrefixRef);\n    const bodyWidthRef = ref(null);\n    const scrollPartRef = ref('body');\n    const mainTableInstRef = ref(null);\n    const {\n      rowsRef,\n      colsRef,\n      dataRelatedColsRef,\n      hasEllipsisRef\n    } = useGroupHeader(props);\n    const {\n      treeMateRef,\n      mergedCurrentPageRef,\n      paginatedDataRef,\n      rawPaginatedDataRef,\n      selectionColumnRef,\n      hoverKeyRef,\n      mergedPaginationRef,\n      mergedFilterStateRef,\n      mergedSortStateRef,\n      firstContentfulColIndexRef,\n      doUpdateFilters,\n      deriveNextSorter,\n      filter,\n      filters,\n      clearFilter,\n      clearFilters,\n      clearSorter,\n      page,\n      sort\n    } = useTableData(props, {\n      dataRelatedColsRef\n    });\n    const {\n      doCheckAll,\n      doUncheckAll,\n      doCheck,\n      doUncheck,\n      headerCheckboxDisabledRef,\n      someRowsCheckedRef,\n      allRowsCheckedRef,\n      mergedCheckedRowKeySetRef,\n      mergedInderminateRowKeySetRef\n    } = useCheck(props, {\n      selectionColumnRef,\n      treeMateRef,\n      paginatedDataRef\n    });\n    const {\n      mergedExpandedRowKeysRef,\n      renderExpandRef,\n      doUpdateExpandedRowKeys\n    } = useExpand(props);\n    const {\n      handleTableBodyScroll,\n      handleTableHeaderScroll,\n      syncScrollState,\n      setHeaderScrollLeft,\n      leftActiveFixedColKeyRef,\n      leftActiveFixedChildrenColKeysRef,\n      rightActiveFixedColKeyRef,\n      rightActiveFixedChildrenColKeysRef,\n      leftFixedColumnsRef,\n      rightFixedColumnsRef,\n      fixedColumnLeftMapRef,\n      fixedColumnRightMapRef\n    } = useScroll(props, {\n      scrollPartRef,\n      bodyWidthRef,\n      mainTableInstRef,\n      mergedCurrentPageRef\n    });\n    const {\n      localeRef\n    } = useLocale('DataTable');\n    const mergedTableLayoutRef = computed(() => {\n      // Layout\n      // virtual |descrete header | ellpisis => fixed\n      //    = virtual | maxHeight | ellpisis => fixed\n      if (props.virtualScroll || props.flexHeight || props.maxHeight !== undefined || hasEllipsisRef.value) {\n        return 'fixed';\n      }\n\n      return props.tableLayout;\n    });\n    provide(dataTableInjectionKey, {\n      loadingKeySetRef: ref(new Set()),\n      slots,\n      indentRef: toRef(props, 'indent'),\n      firstContentfulColIndexRef,\n      bodyWidthRef,\n      componentId: createId(),\n      hoverKeyRef,\n      mergedClsPrefixRef,\n      mergedThemeRef: themeRef,\n      scrollXRef: computed(() => props.scrollX),\n      rowsRef,\n      colsRef,\n      paginatedDataRef,\n      leftActiveFixedColKeyRef,\n      leftActiveFixedChildrenColKeysRef,\n      rightActiveFixedColKeyRef,\n      rightActiveFixedChildrenColKeysRef,\n      leftFixedColumnsRef,\n      rightFixedColumnsRef,\n      fixedColumnLeftMapRef,\n      fixedColumnRightMapRef,\n      mergedCurrentPageRef,\n      someRowsCheckedRef,\n      allRowsCheckedRef,\n      mergedSortStateRef,\n      mergedFilterStateRef,\n      loadingRef: toRef(props, 'loading'),\n      rowClassNameRef: toRef(props, 'rowClassName'),\n      mergedCheckedRowKeySetRef,\n      mergedExpandedRowKeysRef,\n      mergedInderminateRowKeySetRef,\n      localeRef,\n      scrollPartRef,\n      rowKeyRef: toRef(props, 'rowKey'),\n      renderExpandRef,\n      summaryRef: toRef(props, 'summary'),\n      virtualScrollRef: toRef(props, 'virtualScroll'),\n      rowPropsRef: toRef(props, 'rowProps'),\n      stripedRef: toRef(props, 'striped'),\n      checkOptionsRef: computed(() => {\n        const {\n          value: selectionColumn\n        } = selectionColumnRef;\n        return selectionColumn === null || selectionColumn === void 0 ? void 0 : selectionColumn.options;\n      }),\n      rawPaginatedDataRef,\n      filterMenuCssVarsRef: computed(() => {\n        const {\n          self: {\n            actionDividerColor,\n            actionPadding,\n            actionButtonMargin\n          }\n        } = themeRef.value; // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n\n        return {\n          '--n-action-padding': actionPadding,\n          '--n-action-button-margin': actionButtonMargin,\n          '--n-action-divider-color': actionDividerColor\n        };\n      }),\n      onLoadRef: toRef(props, 'onLoad'),\n      mergedTableLayoutRef,\n      maxHeightRef: toRef(props, 'maxHeight'),\n      minHeightRef: toRef(props, 'minHeight'),\n      flexHeightRef: toRef(props, 'flexHeight'),\n      headerCheckboxDisabledRef,\n      syncScrollState,\n      doUpdateFilters,\n      deriveNextSorter,\n      doCheck,\n      doUncheck,\n      doCheckAll,\n      doUncheckAll,\n      doUpdateExpandedRowKeys,\n      handleTableHeaderScroll,\n      handleTableBodyScroll,\n      setHeaderScrollLeft\n    });\n    const exposedMethods = {\n      filter,\n      filters,\n      clearFilters,\n      clearSorter,\n      page,\n      sort,\n      clearFilter\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          borderColor,\n          tdColorHover,\n          thColor,\n          thColorHover,\n          tdColor,\n          tdTextColor,\n          thTextColor,\n          thFontWeight,\n          thButtonColorHover,\n          thIconColor,\n          thIconColorActive,\n          filterSize,\n          borderRadius,\n          lineHeight,\n          tdColorModal,\n          thColorModal,\n          borderColorModal,\n          thColorHoverModal,\n          tdColorHoverModal,\n          borderColorPopover,\n          thColorPopover,\n          tdColorPopover,\n          tdColorHoverPopover,\n          thColorHoverPopover,\n          paginationMargin,\n          emptyPadding,\n          boxShadowAfter,\n          boxShadowBefore,\n          sorterSize,\n          loadingColor,\n          loadingSize,\n          opacityLoading,\n          tdColorStriped,\n          tdColorStripedModal,\n          tdColorStripedPopover,\n          [createKey('fontSize', size)]: fontSize,\n          [createKey('thPadding', size)]: thPadding,\n          [createKey('tdPadding', size)]: tdPadding\n        }\n      } = themeRef.value;\n      return {\n        '--n-font-size': fontSize,\n        '--n-th-padding': thPadding,\n        '--n-td-padding': tdPadding,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-line-height': lineHeight,\n        '--n-border-color': borderColor,\n        '--n-border-color-modal': borderColorModal,\n        '--n-border-color-popover': borderColorPopover,\n        '--n-th-color': thColor,\n        '--n-th-color-hover': thColorHover,\n        '--n-th-color-modal': thColorModal,\n        '--n-th-color-hover-modal': thColorHoverModal,\n        '--n-th-color-popover': thColorPopover,\n        '--n-th-color-hover-popover': thColorHoverPopover,\n        '--n-td-color': tdColor,\n        '--n-td-color-hover': tdColorHover,\n        '--n-td-color-modal': tdColorModal,\n        '--n-td-color-hover-modal': tdColorHoverModal,\n        '--n-td-color-popover': tdColorPopover,\n        '--n-td-color-hover-popover': tdColorHoverPopover,\n        '--n-th-text-color': thTextColor,\n        '--n-td-text-color': tdTextColor,\n        '--n-th-font-weight': thFontWeight,\n        '--n-th-button-color-hover': thButtonColorHover,\n        '--n-th-icon-color': thIconColor,\n        '--n-th-icon-color-active': thIconColorActive,\n        '--n-filter-size': filterSize,\n        '--n-pagination-margin': paginationMargin,\n        '--n-empty-padding': emptyPadding,\n        '--n-box-shadow-before': boxShadowBefore,\n        '--n-box-shadow-after': boxShadowAfter,\n        '--n-sorter-size': sorterSize,\n        '--n-loading-size': loadingSize,\n        '--n-loading-color': loadingColor,\n        '--n-opacity-loading': opacityLoading,\n        '--n-td-color-striped': tdColorStriped,\n        '--n-td-color-striped-modal': tdColorStripedModal,\n        '--n-td-color-striped-popover': tdColorStripedPopover\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('data-table', computed(() => props.size[0]), cssVarsRef, props) : undefined;\n    const mergedShowPaginationRef = computed(() => {\n      if (!props.pagination) return false;\n      if (props.paginateSinglePage) return true;\n      const mergedPagination = mergedPaginationRef.value;\n      const {\n        pageCount\n      } = mergedPagination;\n      if (pageCount !== undefined) return pageCount > 1;\n      return mergedPagination.itemCount && mergedPagination.pageSize && mergedPagination.itemCount > mergedPagination.pageSize;\n    });\n    return Object.assign({\n      mainTableInstRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedTheme: themeRef,\n      paginatedData: paginatedDataRef,\n      mergedBordered: mergedBorderedRef,\n      mergedBottomBordered: mergedBottomBorderedRef,\n      mergedPagination: mergedPaginationRef,\n      mergedShowPagination: mergedShowPaginationRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedMethods);\n  },\n\n  render() {\n    const {\n      mergedClsPrefix,\n      themeClass,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-data-table`, themeClass, {\n        [`${mergedClsPrefix}-data-table--bordered`]: this.mergedBordered,\n        [`${mergedClsPrefix}-data-table--bottom-bordered`]: this.mergedBottomBordered,\n        [`${mergedClsPrefix}-data-table--single-line`]: this.singleLine,\n        [`${mergedClsPrefix}-data-table--single-column`]: this.singleColumn,\n        [`${mergedClsPrefix}-data-table--loading`]: this.loading,\n        [`${mergedClsPrefix}-data-table--flex-height`]: this.flexHeight\n      }],\n      style: this.cssVars\n    }, h(\"div\", {\n      class: `${mergedClsPrefix}-data-table-wrapper`\n    }, h(MainTable, {\n      ref: \"mainTableInstRef\"\n    })), this.mergedShowPagination ? h(\"div\", {\n      class: `${mergedClsPrefix}-data-table__pagination`\n    }, h(NPagination, Object.assign({\n      theme: this.mergedTheme.peers.Pagination,\n      themeOverrides: this.mergedTheme.peerOverrides.Pagination,\n      disabled: this.loading\n    }, this.mergedPagination))) : null, h(Transition, {\n      name: \"fade-in-scale-up-transition\"\n    }, {\n      default: () => {\n        return this.loading ? h(NBaseLoading, {\n          clsPrefix: mergedClsPrefix,\n          strokeWidth: 20\n        }) : null;\n      }\n    }));\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/data-table/src/DataTable.js"],"names":["h","computed","defineComponent","ref","provide","toRef","Transition","watchEffect","createId","useConfig","useLocale","useTheme","useThemeClass","NBaseLoading","NPagination","createKey","warnOnce","dataTableLight","MainTable","useCheck","useTableData","useScroll","dataTableInjectionKey","useGroupHeader","useExpand","style","dataTableProps","Object","assign","props","pagination","type","Boolean","default","paginateSinglePage","minHeight","Number","String","maxHeight","columns","Array","rowClassName","Function","rowProps","rowKey","summary","data","loading","bordered","undefined","bottomBordered","striped","scrollX","defaultCheckedRowKeys","checkedRowKeys","singleLine","singleColumn","size","remote","defaultExpandedRowKeys","expandedRowKeys","virtualScroll","tableLayout","allowCheckingNotLoaded","cascade","childrenKey","indent","flexHeight","onLoad","onUpdatePage","onUpdatePageSize","onUpdateSorter","onUpdateFilters","onUpdateCheckedRowKeys","onUpdateExpandedRowKeys","onPageChange","onPageSizeChange","onSorterChange","onFiltersChange","onCheckedRowKeysChange","name","alias","setup","slots","process","env","NODE_ENV","mergedBorderedRef","mergedClsPrefixRef","inlineThemeDisabled","mergedBottomBorderedRef","value","themeRef","bodyWidthRef","scrollPartRef","mainTableInstRef","rowsRef","colsRef","dataRelatedColsRef","hasEllipsisRef","treeMateRef","mergedCurrentPageRef","paginatedDataRef","rawPaginatedDataRef","selectionColumnRef","hoverKeyRef","mergedPaginationRef","mergedFilterStateRef","mergedSortStateRef","firstContentfulColIndexRef","doUpdateFilters","deriveNextSorter","filter","filters","clearFilter","clearFilters","clearSorter","page","sort","doCheckAll","doUncheckAll","doCheck","doUncheck","headerCheckboxDisabledRef","someRowsCheckedRef","allRowsCheckedRef","mergedCheckedRowKeySetRef","mergedInderminateRowKeySetRef","mergedExpandedRowKeysRef","renderExpandRef","doUpdateExpandedRowKeys","handleTableBodyScroll","handleTableHeaderScroll","syncScrollState","setHeaderScrollLeft","leftActiveFixedColKeyRef","leftActiveFixedChildrenColKeysRef","rightActiveFixedColKeyRef","rightActiveFixedChildrenColKeysRef","leftFixedColumnsRef","rightFixedColumnsRef","fixedColumnLeftMapRef","fixedColumnRightMapRef","localeRef","mergedTableLayoutRef","loadingKeySetRef","Set","indentRef","componentId","mergedThemeRef","scrollXRef","loadingRef","rowClassNameRef","rowKeyRef","summaryRef","virtualScrollRef","rowPropsRef","stripedRef","checkOptionsRef","selectionColumn","options","filterMenuCssVarsRef","self","actionDividerColor","actionPadding","actionButtonMargin","onLoadRef","maxHeightRef","minHeightRef","flexHeightRef","exposedMethods","cssVarsRef","common","cubicBezierEaseInOut","borderColor","tdColorHover","thColor","thColorHover","tdColor","tdTextColor","thTextColor","thFontWeight","thButtonColorHover","thIconColor","thIconColorActive","filterSize","borderRadius","lineHeight","tdColorModal","thColorModal","borderColorModal","thColorHoverModal","tdColorHoverModal","borderColorPopover","thColorPopover","tdColorPopover","tdColorHoverPopover","thColorHoverPopover","paginationMargin","emptyPadding","boxShadowAfter","boxShadowBefore","sorterSize","loadingColor","loadingSize","opacityLoading","tdColorStriped","tdColorStripedModal","tdColorStripedPopover","fontSize","thPadding","tdPadding","themeClassHandle","mergedShowPaginationRef","mergedPagination","pageCount","itemCount","pageSize","mergedClsPrefix","mergedTheme","paginatedData","mergedBordered","mergedBottomBordered","mergedShowPagination","cssVars","themeClass","onRender","render","class","theme","peers","Pagination","themeOverrides","peerOverrides","disabled","clsPrefix","strokeWidth"],"mappings":"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","sourcesContent":["import { h, computed, defineComponent, ref, provide, toRef, Transition, watchEffect } from 'vue';\nimport { createId } from 'seemly';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseLoading } from '../../_internal';\nimport { NPagination } from '../../pagination';\nimport { createKey, warnOnce } from '../../_utils';\nimport { dataTableLight } from '../styles';\nimport MainTable from './MainTable';\nimport { useCheck } from './use-check';\nimport { useTableData } from './use-table-data';\nimport { useScroll } from './use-scroll';\nimport { dataTableInjectionKey } from './interface';\nimport { useGroupHeader } from './use-group-header';\nimport { useExpand } from './use-expand';\nimport style from './styles/index.cssr';\nexport const dataTableProps = Object.assign(Object.assign({}, useTheme.props), { pagination: {\n        type: [Object, Boolean],\n        default: false\n    }, paginateSinglePage: {\n        type: Boolean,\n        default: true\n    }, minHeight: [Number, String], maxHeight: [Number, String], \n    // Use any type as row data to make prop data acceptable\n    columns: {\n        type: Array,\n        default: () => []\n    }, rowClassName: [String, Function], rowProps: Function, rowKey: Function, summary: [Function], data: {\n        type: Array,\n        default: () => []\n    }, loading: Boolean, bordered: {\n        type: Boolean,\n        default: undefined\n    }, bottomBordered: {\n        type: Boolean,\n        default: undefined\n    }, striped: Boolean, scrollX: [Number, String], defaultCheckedRowKeys: {\n        type: Array,\n        default: () => []\n    }, checkedRowKeys: Array, singleLine: {\n        type: Boolean,\n        default: true\n    }, singleColumn: Boolean, size: {\n        type: String,\n        default: 'medium'\n    }, remote: Boolean, defaultExpandedRowKeys: {\n        type: Array,\n        default: []\n    }, expandedRowKeys: Array, virtualScroll: Boolean, tableLayout: {\n        type: String,\n        default: 'auto'\n    }, allowCheckingNotLoaded: Boolean, cascade: {\n        type: Boolean,\n        default: true\n    }, childrenKey: {\n        type: String,\n        default: 'children'\n    }, indent: {\n        type: Number,\n        default: 16\n    }, flexHeight: Boolean, onLoad: Function, 'onUpdate:page': [Function, Array], onUpdatePage: [Function, Array], 'onUpdate:pageSize': [Function, Array], onUpdatePageSize: [Function, Array], 'onUpdate:sorter': [Function, Array], onUpdateSorter: [Function, Array], 'onUpdate:filters': [Function, Array], onUpdateFilters: [Function, Array], 'onUpdate:checkedRowKeys': [Function, Array], onUpdateCheckedRowKeys: [Function, Array], 'onUpdate:expandedRowKeys': [Function, Array], onUpdateExpandedRowKeys: [Function, Array], \n    // deprecated\n    onPageChange: [Function, Array], onPageSizeChange: [Function, Array], onSorterChange: [Function, Array], onFiltersChange: [Function, Array], onCheckedRowKeysChange: [Function, Array] });\nexport default defineComponent({\n    name: 'DataTable',\n    alias: ['AdvancedTable'],\n    props: dataTableProps,\n    setup(props, { slots }) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.onPageChange !== undefined) {\n                    warnOnce('data-table', '`on-page-change` is deprecated, please use `on-update:page` instead.');\n                }\n                if (props.onPageSizeChange !== undefined) {\n                    warnOnce('data-table', '`on-page-size-change` is deprecated, please use `on-update:page-size` instead.');\n                }\n                if (props.onSorterChange !== undefined) {\n                    warnOnce('data-table', '`on-sorter-change` is deprecated, please use `on-update:sorter` instead.');\n                }\n                if (props.onFiltersChange !== undefined) {\n                    warnOnce('data-table', '`on-filters-change` is deprecated, please use `on-update:filters` instead.');\n                }\n                if (props.onCheckedRowKeysChange !== undefined) {\n                    warnOnce('data-table', '`on-checked-row-keys-change` is deprecated, please use `on-update:checked-row-keys` instead.');\n                }\n            });\n        }\n        const { mergedBorderedRef, mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const mergedBottomBorderedRef = computed(() => {\n            const { bottomBordered } = props;\n            // do not add bottom bordered class if bordered is true\n            // since border is displayed on wrapper\n            if (mergedBorderedRef.value)\n                return false;\n            if (bottomBordered !== undefined)\n                return bottomBordered;\n            return true;\n        });\n        const themeRef = useTheme('DataTable', '-data-table', style, dataTableLight, props, mergedClsPrefixRef);\n        const bodyWidthRef = ref(null);\n        const scrollPartRef = ref('body');\n        const mainTableInstRef = ref(null);\n        const { rowsRef, colsRef, dataRelatedColsRef, hasEllipsisRef } = useGroupHeader(props);\n        const { treeMateRef, mergedCurrentPageRef, paginatedDataRef, rawPaginatedDataRef, selectionColumnRef, hoverKeyRef, mergedPaginationRef, mergedFilterStateRef, mergedSortStateRef, firstContentfulColIndexRef, doUpdateFilters, deriveNextSorter, filter, filters, clearFilter, clearFilters, clearSorter, page, sort } = useTableData(props, { dataRelatedColsRef });\n        const { doCheckAll, doUncheckAll, doCheck, doUncheck, headerCheckboxDisabledRef, someRowsCheckedRef, allRowsCheckedRef, mergedCheckedRowKeySetRef, mergedInderminateRowKeySetRef } = useCheck(props, {\n            selectionColumnRef,\n            treeMateRef,\n            paginatedDataRef\n        });\n        const { mergedExpandedRowKeysRef, renderExpandRef, doUpdateExpandedRowKeys } = useExpand(props);\n        const { handleTableBodyScroll, handleTableHeaderScroll, syncScrollState, setHeaderScrollLeft, leftActiveFixedColKeyRef, leftActiveFixedChildrenColKeysRef, rightActiveFixedColKeyRef, rightActiveFixedChildrenColKeysRef, leftFixedColumnsRef, rightFixedColumnsRef, fixedColumnLeftMapRef, fixedColumnRightMapRef } = useScroll(props, {\n            scrollPartRef,\n            bodyWidthRef,\n            mainTableInstRef,\n            mergedCurrentPageRef\n        });\n        const { localeRef } = useLocale('DataTable');\n        const mergedTableLayoutRef = computed(() => {\n            // Layout\n            // virtual |descrete header | ellpisis => fixed\n            //    = virtual | maxHeight | ellpisis => fixed\n            if (props.virtualScroll ||\n                props.flexHeight ||\n                props.maxHeight !== undefined ||\n                hasEllipsisRef.value) {\n                return 'fixed';\n            }\n            return props.tableLayout;\n        });\n        provide(dataTableInjectionKey, {\n            loadingKeySetRef: ref(new Set()),\n            slots,\n            indentRef: toRef(props, 'indent'),\n            firstContentfulColIndexRef,\n            bodyWidthRef,\n            componentId: createId(),\n            hoverKeyRef,\n            mergedClsPrefixRef,\n            mergedThemeRef: themeRef,\n            scrollXRef: computed(() => props.scrollX),\n            rowsRef,\n            colsRef,\n            paginatedDataRef,\n            leftActiveFixedColKeyRef,\n            leftActiveFixedChildrenColKeysRef,\n            rightActiveFixedColKeyRef,\n            rightActiveFixedChildrenColKeysRef,\n            leftFixedColumnsRef,\n            rightFixedColumnsRef,\n            fixedColumnLeftMapRef,\n            fixedColumnRightMapRef,\n            mergedCurrentPageRef,\n            someRowsCheckedRef,\n            allRowsCheckedRef,\n            mergedSortStateRef,\n            mergedFilterStateRef,\n            loadingRef: toRef(props, 'loading'),\n            rowClassNameRef: toRef(props, 'rowClassName'),\n            mergedCheckedRowKeySetRef,\n            mergedExpandedRowKeysRef,\n            mergedInderminateRowKeySetRef,\n            localeRef,\n            scrollPartRef,\n            rowKeyRef: toRef(props, 'rowKey'),\n            renderExpandRef,\n            summaryRef: toRef(props, 'summary'),\n            virtualScrollRef: toRef(props, 'virtualScroll'),\n            rowPropsRef: toRef(props, 'rowProps'),\n            stripedRef: toRef(props, 'striped'),\n            checkOptionsRef: computed(() => {\n                const { value: selectionColumn } = selectionColumnRef;\n                return selectionColumn === null || selectionColumn === void 0 ? void 0 : selectionColumn.options;\n            }),\n            rawPaginatedDataRef,\n            filterMenuCssVarsRef: computed(() => {\n                const { self: { actionDividerColor, actionPadding, actionButtonMargin } } = themeRef.value;\n                // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n                return {\n                    '--n-action-padding': actionPadding,\n                    '--n-action-button-margin': actionButtonMargin,\n                    '--n-action-divider-color': actionDividerColor\n                };\n            }),\n            onLoadRef: toRef(props, 'onLoad'),\n            mergedTableLayoutRef,\n            maxHeightRef: toRef(props, 'maxHeight'),\n            minHeightRef: toRef(props, 'minHeight'),\n            flexHeightRef: toRef(props, 'flexHeight'),\n            headerCheckboxDisabledRef,\n            syncScrollState,\n            doUpdateFilters,\n            deriveNextSorter,\n            doCheck,\n            doUncheck,\n            doCheckAll,\n            doUncheckAll,\n            doUpdateExpandedRowKeys,\n            handleTableHeaderScroll,\n            handleTableBodyScroll,\n            setHeaderScrollLeft\n        });\n        const exposedMethods = {\n            filter,\n            filters,\n            clearFilters,\n            clearSorter,\n            page,\n            sort,\n            clearFilter\n        };\n        const cssVarsRef = computed(() => {\n            const { size } = props;\n            const { common: { cubicBezierEaseInOut }, self: { borderColor, tdColorHover, thColor, thColorHover, tdColor, tdTextColor, thTextColor, thFontWeight, thButtonColorHover, thIconColor, thIconColorActive, filterSize, borderRadius, lineHeight, tdColorModal, thColorModal, borderColorModal, thColorHoverModal, tdColorHoverModal, borderColorPopover, thColorPopover, tdColorPopover, tdColorHoverPopover, thColorHoverPopover, paginationMargin, emptyPadding, boxShadowAfter, boxShadowBefore, sorterSize, loadingColor, loadingSize, opacityLoading, tdColorStriped, tdColorStripedModal, tdColorStripedPopover, [createKey('fontSize', size)]: fontSize, [createKey('thPadding', size)]: thPadding, [createKey('tdPadding', size)]: tdPadding } } = themeRef.value;\n            return {\n                '--n-font-size': fontSize,\n                '--n-th-padding': thPadding,\n                '--n-td-padding': tdPadding,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-line-height': lineHeight,\n                '--n-border-color': borderColor,\n                '--n-border-color-modal': borderColorModal,\n                '--n-border-color-popover': borderColorPopover,\n                '--n-th-color': thColor,\n                '--n-th-color-hover': thColorHover,\n                '--n-th-color-modal': thColorModal,\n                '--n-th-color-hover-modal': thColorHoverModal,\n                '--n-th-color-popover': thColorPopover,\n                '--n-th-color-hover-popover': thColorHoverPopover,\n                '--n-td-color': tdColor,\n                '--n-td-color-hover': tdColorHover,\n                '--n-td-color-modal': tdColorModal,\n                '--n-td-color-hover-modal': tdColorHoverModal,\n                '--n-td-color-popover': tdColorPopover,\n                '--n-td-color-hover-popover': tdColorHoverPopover,\n                '--n-th-text-color': thTextColor,\n                '--n-td-text-color': tdTextColor,\n                '--n-th-font-weight': thFontWeight,\n                '--n-th-button-color-hover': thButtonColorHover,\n                '--n-th-icon-color': thIconColor,\n                '--n-th-icon-color-active': thIconColorActive,\n                '--n-filter-size': filterSize,\n                '--n-pagination-margin': paginationMargin,\n                '--n-empty-padding': emptyPadding,\n                '--n-box-shadow-before': boxShadowBefore,\n                '--n-box-shadow-after': boxShadowAfter,\n                '--n-sorter-size': sorterSize,\n                '--n-loading-size': loadingSize,\n                '--n-loading-color': loadingColor,\n                '--n-opacity-loading': opacityLoading,\n                '--n-td-color-striped': tdColorStriped,\n                '--n-td-color-striped-modal': tdColorStripedModal,\n                '--n-td-color-striped-popover': tdColorStripedPopover\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('data-table', computed(() => props.size[0]), cssVarsRef, props)\n            : undefined;\n        const mergedShowPaginationRef = computed(() => {\n            if (!props.pagination)\n                return false;\n            if (props.paginateSinglePage)\n                return true;\n            const mergedPagination = mergedPaginationRef.value;\n            const { pageCount } = mergedPagination;\n            if (pageCount !== undefined)\n                return pageCount > 1;\n            return (mergedPagination.itemCount &&\n                mergedPagination.pageSize &&\n                mergedPagination.itemCount > mergedPagination.pageSize);\n        });\n        return Object.assign({ mainTableInstRef, mergedClsPrefix: mergedClsPrefixRef, mergedTheme: themeRef, paginatedData: paginatedDataRef, mergedBordered: mergedBorderedRef, mergedBottomBordered: mergedBottomBorderedRef, mergedPagination: mergedPaginationRef, mergedShowPagination: mergedShowPaginationRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n    },\n    render() {\n        const { mergedClsPrefix, themeClass, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-data-table`,\n                themeClass,\n                {\n                    [`${mergedClsPrefix}-data-table--bordered`]: this.mergedBordered,\n                    [`${mergedClsPrefix}-data-table--bottom-bordered`]: this.mergedBottomBordered,\n                    [`${mergedClsPrefix}-data-table--single-line`]: this.singleLine,\n                    [`${mergedClsPrefix}-data-table--single-column`]: this.singleColumn,\n                    [`${mergedClsPrefix}-data-table--loading`]: this.loading,\n                    [`${mergedClsPrefix}-data-table--flex-height`]: this.flexHeight\n                }\n            ], style: this.cssVars },\n            h(\"div\", { class: `${mergedClsPrefix}-data-table-wrapper` },\n                h(MainTable, { ref: \"mainTableInstRef\" })),\n            this.mergedShowPagination ? (h(\"div\", { class: `${mergedClsPrefix}-data-table__pagination` },\n                h(NPagination, Object.assign({ theme: this.mergedTheme.peers.Pagination, themeOverrides: this.mergedTheme.peerOverrides.Pagination, disabled: this.loading }, this.mergedPagination)))) : null,\n            h(Transition, { name: \"fade-in-scale-up-transition\" }, {\n                default: () => {\n                    return this.loading ? (h(NBaseLoading, { clsPrefix: mergedClsPrefix, strokeWidth: 20 })) : null;\n                }\n            })));\n    }\n});\n"]},"metadata":{},"sourceType":"module"}