{"ast":null,"code":"let onceCbs = [];\nconst paramsMap = new WeakMap();\n\nfunction flushOnceCallbacks() {\n  onceCbs.forEach(cb => cb(...paramsMap.get(cb)));\n  onceCbs = [];\n}\n\nfunction beforeNextFrameOnce(cb, ...params) {\n  paramsMap.set(cb, params);\n  if (onceCbs.includes(cb)) return;\n  onceCbs.push(cb) === 1 && requestAnimationFrame(flushOnceCallbacks);\n}\n\nexport { beforeNextFrameOnce };","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/seemly/es/animation/next-frame-once.js"],"names":["onceCbs","paramsMap","WeakMap","flushOnceCallbacks","forEach","cb","get","beforeNextFrameOnce","params","set","includes","push","requestAnimationFrame"],"mappings":"AAAA,IAAIA,OAAO,GAAG,EAAd;AACA,MAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;;AACA,SAASC,kBAAT,GAA8B;AAC1BH,EAAAA,OAAO,CAACI,OAAR,CAAiBC,EAAD,IAAQA,EAAE,CAAC,GAAGJ,SAAS,CAACK,GAAV,CAAcD,EAAd,CAAJ,CAA1B;AACAL,EAAAA,OAAO,GAAG,EAAV;AACH;;AACD,SAASO,mBAAT,CAA6BF,EAA7B,EAAiC,GAAGG,MAApC,EAA4C;AACxCP,EAAAA,SAAS,CAACQ,GAAV,CAAcJ,EAAd,EAAkBG,MAAlB;AACA,MAAIR,OAAO,CAACU,QAAR,CAAiBL,EAAjB,CAAJ,EACI;AACJL,EAAAA,OAAO,CAACW,IAAR,CAAaN,EAAb,MAAqB,CAArB,IAA0BO,qBAAqB,CAACT,kBAAD,CAA/C;AACH;;AACD,SAASI,mBAAT","sourcesContent":["let onceCbs = [];\nconst paramsMap = new WeakMap();\nfunction flushOnceCallbacks() {\n    onceCbs.forEach((cb) => cb(...paramsMap.get(cb)));\n    onceCbs = [];\n}\nfunction beforeNextFrameOnce(cb, ...params) {\n    paramsMap.set(cb, params);\n    if (onceCbs.includes(cb))\n        return;\n    onceCbs.push(cb) === 1 && requestAnimationFrame(flushOnceCallbacks);\n}\nexport { beforeNextFrameOnce };\n"]},"metadata":{},"sourceType":"module"}