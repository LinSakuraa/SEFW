{"ast":null,"code":"import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared\";\nimport { Icon } from \"../icon\";\nimport { Popup } from \"../popup\";\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nconst iconMap = {\n  qq: \"qq\",\n  link: \"link-o\",\n  weibo: \"weibo\",\n  qrcode: \"qr\",\n  poster: \"photo-o\",\n  wechat: \"wechat\",\n  \"weapp-qrcode\": \"miniprogram-o\",\n  \"wechat-moments\": \"wechat-moments\"\n};\nconst [name, bem, t] = createNamespace(\"share-sheet\");\nconst shareSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  options: makeArrayProp(),\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  safeAreaInsetBottom: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: shareSheetProps,\n  emits: [\"cancel\", \"select\", \"update:show\"],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const updateShow = value => emit(\"update:show\", value);\n\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n\n    const onSelect = (option, index) => emit(\"select\", option, index);\n\n    const renderHeader = () => {\n      const title = slots.title ? slots.title() : props.title;\n      const description = slots.description ? slots.description() : props.description;\n\n      if (title || description) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [title && _createVNode(\"h2\", {\n          \"class\": bem(\"title\")\n        }, [title]), description && _createVNode(\"span\", {\n          \"class\": bem(\"description\")\n        }, [description])]);\n      }\n    };\n\n    const renderIcon = icon => {\n      if (iconMap[icon]) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"icon\", [icon])\n        }, [_createVNode(Icon, {\n          \"name\": iconMap[icon] || icon\n        }, null)]);\n      }\n\n      return _createVNode(\"img\", {\n        \"src\": icon,\n        \"class\": bem(\"image-icon\")\n      }, null);\n    };\n\n    const renderOption = (option, index) => {\n      const {\n        name: name2,\n        icon,\n        className,\n        description\n      } = option;\n      return _createVNode(\"div\", {\n        \"role\": \"button\",\n        \"tabindex\": 0,\n        \"class\": [bem(\"option\"), className, HAPTICS_FEEDBACK],\n        \"onClick\": () => onSelect(option, index)\n      }, [renderIcon(icon), name2 && _createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [name2]), description && _createVNode(\"span\", {\n        \"class\": bem(\"option-description\")\n      }, [description])]);\n    };\n\n    const renderOptions = (options, border) => _createVNode(\"div\", {\n      \"class\": bem(\"options\", {\n        border\n      })\n    }, [options.map(renderOption)]);\n\n    const renderRows = () => {\n      const {\n        options\n      } = props;\n\n      if (Array.isArray(options[0])) {\n        return options.map((item, index) => renderOptions(item, index !== 0));\n      }\n\n      return renderOptions(options);\n    };\n\n    const renderCancelButton = () => {\n      var _a;\n\n      const cancelText = (_a = props.cancelText) != null ? _a : t(\"cancel\");\n\n      if (slots.cancel || cancelText) {\n        return _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : cancelText]);\n      }\n    };\n\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => [renderHeader(), renderRows(), renderCancelButton()]\n    });\n  }\n\n});\nexport { stdin_default as default };","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/vant/es/share-sheet/ShareSheet.js"],"names":["mergeProps","_mergeProps","createVNode","_createVNode","defineComponent","pick","extend","truthProp","makeArrayProp","createNamespace","HAPTICS_FEEDBACK","popupSharedProps","popupSharedPropKeys","Icon","Popup","popupInheritKeys","iconMap","qq","link","weibo","qrcode","poster","wechat","name","bem","t","shareSheetProps","title","String","round","options","cancelText","description","closeOnPopstate","safeAreaInsetBottom","stdin_default","props","emits","setup","emit","slots","updateShow","value","onCancel","onSelect","option","index","renderHeader","renderIcon","icon","renderOption","name2","className","renderOptions","border","map","renderRows","Array","isArray","item","renderCancelButton","_a","cancel","default"],"mappings":"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","sourcesContent":["import { mergeProps as _mergeProps, createVNode as _createVNode } from \"vue\";\nimport { defineComponent } from \"vue\";\nimport { pick, extend, truthProp, makeArrayProp, createNamespace, HAPTICS_FEEDBACK } from \"../utils\";\nimport { popupSharedProps, popupSharedPropKeys } from \"../popup/shared\";\nimport { Icon } from \"../icon\";\nimport { Popup } from \"../popup\";\nconst popupInheritKeys = [...popupSharedPropKeys, \"round\", \"closeOnPopstate\", \"safeAreaInsetBottom\"];\nconst iconMap = {\n  qq: \"qq\",\n  link: \"link-o\",\n  weibo: \"weibo\",\n  qrcode: \"qr\",\n  poster: \"photo-o\",\n  wechat: \"wechat\",\n  \"weapp-qrcode\": \"miniprogram-o\",\n  \"wechat-moments\": \"wechat-moments\"\n};\nconst [name, bem, t] = createNamespace(\"share-sheet\");\nconst shareSheetProps = extend({}, popupSharedProps, {\n  title: String,\n  round: truthProp,\n  options: makeArrayProp(),\n  cancelText: String,\n  description: String,\n  closeOnPopstate: truthProp,\n  safeAreaInsetBottom: truthProp\n});\nvar stdin_default = defineComponent({\n  name,\n  props: shareSheetProps,\n  emits: [\"cancel\", \"select\", \"update:show\"],\n  setup(props, {\n    emit,\n    slots\n  }) {\n    const updateShow = (value) => emit(\"update:show\", value);\n    const onCancel = () => {\n      updateShow(false);\n      emit(\"cancel\");\n    };\n    const onSelect = (option, index) => emit(\"select\", option, index);\n    const renderHeader = () => {\n      const title = slots.title ? slots.title() : props.title;\n      const description = slots.description ? slots.description() : props.description;\n      if (title || description) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"header\")\n        }, [title && _createVNode(\"h2\", {\n          \"class\": bem(\"title\")\n        }, [title]), description && _createVNode(\"span\", {\n          \"class\": bem(\"description\")\n        }, [description])]);\n      }\n    };\n    const renderIcon = (icon) => {\n      if (iconMap[icon]) {\n        return _createVNode(\"div\", {\n          \"class\": bem(\"icon\", [icon])\n        }, [_createVNode(Icon, {\n          \"name\": iconMap[icon] || icon\n        }, null)]);\n      }\n      return _createVNode(\"img\", {\n        \"src\": icon,\n        \"class\": bem(\"image-icon\")\n      }, null);\n    };\n    const renderOption = (option, index) => {\n      const {\n        name: name2,\n        icon,\n        className,\n        description\n      } = option;\n      return _createVNode(\"div\", {\n        \"role\": \"button\",\n        \"tabindex\": 0,\n        \"class\": [bem(\"option\"), className, HAPTICS_FEEDBACK],\n        \"onClick\": () => onSelect(option, index)\n      }, [renderIcon(icon), name2 && _createVNode(\"span\", {\n        \"class\": bem(\"name\")\n      }, [name2]), description && _createVNode(\"span\", {\n        \"class\": bem(\"option-description\")\n      }, [description])]);\n    };\n    const renderOptions = (options, border) => _createVNode(\"div\", {\n      \"class\": bem(\"options\", {\n        border\n      })\n    }, [options.map(renderOption)]);\n    const renderRows = () => {\n      const {\n        options\n      } = props;\n      if (Array.isArray(options[0])) {\n        return options.map((item, index) => renderOptions(item, index !== 0));\n      }\n      return renderOptions(options);\n    };\n    const renderCancelButton = () => {\n      var _a;\n      const cancelText = (_a = props.cancelText) != null ? _a : t(\"cancel\");\n      if (slots.cancel || cancelText) {\n        return _createVNode(\"button\", {\n          \"type\": \"button\",\n          \"class\": bem(\"cancel\"),\n          \"onClick\": onCancel\n        }, [slots.cancel ? slots.cancel() : cancelText]);\n      }\n    };\n    return () => _createVNode(Popup, _mergeProps({\n      \"class\": bem(),\n      \"position\": \"bottom\",\n      \"onUpdate:show\": updateShow\n    }, pick(props, popupInheritKeys)), {\n      default: () => [renderHeader(), renderRows(), renderCancelButton()]\n    });\n  }\n});\nexport {\n  stdin_default as default\n};\n"]},"metadata":{},"sourceType":"module"}