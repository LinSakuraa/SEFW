{"ast":null,"code":"import { defineComponent, watchEffect, onBeforeMount, onUnmounted, inject } from 'vue';\nimport { warn } from '../../_utils';\nimport { commonLight } from '../../_styles/common';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nimport { merge } from 'lodash-es';\nexport default defineComponent({\n  name: 'GlobalStyle',\n\n  setup() {\n    if (typeof document === 'undefined') return; // TODO: inject style for SSR\n\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    const {\n      body\n    } = document;\n    const {\n      style\n    } = body;\n    let styleApplied = false;\n    let firstApply = true;\n    onBeforeMount(() => {\n      watchEffect(() => {\n        var _a, _b;\n\n        const {\n          textColor2,\n          fontSize,\n          fontFamily,\n          bodyColor,\n          cubicBezierEaseInOut,\n          lineHeight\n        } = NConfigProvider ? merge({}, ((_a = NConfigProvider.mergedThemeRef.value) === null || _a === void 0 ? void 0 : _a.common) || commonLight, (_b = NConfigProvider.mergedThemeOverridesRef.value) === null || _b === void 0 ? void 0 : _b.common) : commonLight;\n\n        if (styleApplied || !body.hasAttribute('n-styled')) {\n          style.backgroundColor = bodyColor;\n          style.color = textColor2;\n          style.fontSize = fontSize;\n          style.fontFamily = fontFamily;\n          style.lineHeight = lineHeight;\n          const transition = `color .3s ${cubicBezierEaseInOut}, background-color .3s ${cubicBezierEaseInOut}`;\n\n          if (firstApply) {\n            setTimeout(() => {\n              style.transition = transition;\n            }, 0);\n          } else {\n            style.transition = transition;\n          }\n\n          body.setAttribute('n-styled', '');\n          styleApplied = true;\n          firstApply = false;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn('global-style', 'More than one n-global-style exist in the document.body. Only the first mounted one will work.');\n        }\n      });\n    });\n    onUnmounted(() => {\n      if (styleApplied) {\n        body.removeAttribute('n-styled');\n      }\n    });\n  },\n\n  render() {\n    return null;\n  }\n\n});","map":{"version":3,"sources":["G:/VUE_FDS/fluent-vue/node_modules/naive-ui/es/global-style/src/GlobalStyle.js"],"names":["defineComponent","watchEffect","onBeforeMount","onUnmounted","inject","warn","commonLight","configProviderInjectionKey","merge","name","setup","document","NConfigProvider","body","style","styleApplied","firstApply","_a","_b","textColor2","fontSize","fontFamily","bodyColor","cubicBezierEaseInOut","lineHeight","mergedThemeRef","value","common","mergedThemeOverridesRef","hasAttribute","backgroundColor","color","transition","setTimeout","setAttribute","process","env","NODE_ENV","removeAttribute","render"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,WAA1B,EAAuCC,aAAvC,EAAsDC,WAAtD,EAAmEC,MAAnE,QAAiF,KAAjF;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,0BAAT,QAA2C,mCAA3C;AACA,SAASC,KAAT,QAAsB,WAAtB;AACA,eAAeR,eAAe,CAAC;AAC3BS,EAAAA,IAAI,EAAE,aADqB;;AAE3BC,EAAAA,KAAK,GAAG;AACJ,QAAI,OAAOC,QAAP,KAAoB,WAAxB,EACI,OAFA,CAEQ;;AACZ,UAAMC,eAAe,GAAGR,MAAM,CAACG,0BAAD,EAA6B,IAA7B,CAA9B;AACA,UAAM;AAAEM,MAAAA;AAAF,QAAWF,QAAjB;AACA,UAAM;AAAEG,MAAAA;AAAF,QAAYD,IAAlB;AACA,QAAIE,YAAY,GAAG,KAAnB;AACA,QAAIC,UAAU,GAAG,IAAjB;AACAd,IAAAA,aAAa,CAAC,MAAM;AAChBD,MAAAA,WAAW,CAAC,MAAM;AACd,YAAIgB,EAAJ,EAAQC,EAAR;;AACA,cAAM;AAAEC,UAAAA,UAAF;AAAcC,UAAAA,QAAd;AAAwBC,UAAAA,UAAxB;AAAoCC,UAAAA,SAApC;AAA+CC,UAAAA,oBAA/C;AAAqEC,UAAAA;AAArE,YAAoFZ,eAAe,GACnGJ,KAAK,CAAC,EAAD,EAAK,CAAC,CAACS,EAAE,GAAGL,eAAe,CAACa,cAAhB,CAA+BC,KAArC,MAAgD,IAAhD,IAAwDT,EAAE,KAAK,KAAK,CAApE,GAAwE,KAAK,CAA7E,GAAiFA,EAAE,CAACU,MAArF,KAAgGrB,WAArG,EAAkH,CAACY,EAAE,GAAGN,eAAe,CAACgB,uBAAhB,CAAwCF,KAA9C,MAAyD,IAAzD,IAAiER,EAAE,KAAK,KAAK,CAA7E,GAAiF,KAAK,CAAtF,GAA0FA,EAAE,CAACS,MAA/M,CAD8F,GAEnGrB,WAFN;;AAGA,YAAIS,YAAY,IAAI,CAACF,IAAI,CAACgB,YAAL,CAAkB,UAAlB,CAArB,EAAoD;AAChDf,UAAAA,KAAK,CAACgB,eAAN,GAAwBR,SAAxB;AACAR,UAAAA,KAAK,CAACiB,KAAN,GAAcZ,UAAd;AACAL,UAAAA,KAAK,CAACM,QAAN,GAAiBA,QAAjB;AACAN,UAAAA,KAAK,CAACO,UAAN,GAAmBA,UAAnB;AACAP,UAAAA,KAAK,CAACU,UAAN,GAAmBA,UAAnB;AACA,gBAAMQ,UAAU,GAAI,aAAYT,oBAAqB,0BAAyBA,oBAAqB,EAAnG;;AACA,cAAIP,UAAJ,EAAgB;AACZiB,YAAAA,UAAU,CAAC,MAAM;AACbnB,cAAAA,KAAK,CAACkB,UAAN,GAAmBA,UAAnB;AACH,aAFS,EAEP,CAFO,CAAV;AAGH,WAJD,MAKK;AACDlB,YAAAA,KAAK,CAACkB,UAAN,GAAmBA,UAAnB;AACH;;AACDnB,UAAAA,IAAI,CAACqB,YAAL,CAAkB,UAAlB,EAA8B,EAA9B;AACAnB,UAAAA,YAAY,GAAG,IAAf;AACAC,UAAAA,UAAU,GAAG,KAAb;AACH,SAlBD,MAmBK,IAAImB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AAC5ChC,UAAAA,IAAI,CAAC,cAAD,EAAiB,gGAAjB,CAAJ;AACH;AACJ,OA3BU,CAAX;AA4BH,KA7BY,CAAb;AA8BAF,IAAAA,WAAW,CAAC,MAAM;AACd,UAAIY,YAAJ,EAAkB;AACdF,QAAAA,IAAI,CAACyB,eAAL,CAAqB,UAArB;AACH;AACJ,KAJU,CAAX;AAKH,GA7C0B;;AA8C3BC,EAAAA,MAAM,GAAG;AACL,WAAO,IAAP;AACH;;AAhD0B,CAAD,CAA9B","sourcesContent":["import { defineComponent, watchEffect, onBeforeMount, onUnmounted, inject } from 'vue';\nimport { warn } from '../../_utils';\nimport { commonLight } from '../../_styles/common';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nimport { merge } from 'lodash-es';\nexport default defineComponent({\n    name: 'GlobalStyle',\n    setup() {\n        if (typeof document === 'undefined')\n            return; // TODO: inject style for SSR\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const { body } = document;\n        const { style } = body;\n        let styleApplied = false;\n        let firstApply = true;\n        onBeforeMount(() => {\n            watchEffect(() => {\n                var _a, _b;\n                const { textColor2, fontSize, fontFamily, bodyColor, cubicBezierEaseInOut, lineHeight } = NConfigProvider\n                    ? merge({}, ((_a = NConfigProvider.mergedThemeRef.value) === null || _a === void 0 ? void 0 : _a.common) || commonLight, (_b = NConfigProvider.mergedThemeOverridesRef.value) === null || _b === void 0 ? void 0 : _b.common)\n                    : commonLight;\n                if (styleApplied || !body.hasAttribute('n-styled')) {\n                    style.backgroundColor = bodyColor;\n                    style.color = textColor2;\n                    style.fontSize = fontSize;\n                    style.fontFamily = fontFamily;\n                    style.lineHeight = lineHeight;\n                    const transition = `color .3s ${cubicBezierEaseInOut}, background-color .3s ${cubicBezierEaseInOut}`;\n                    if (firstApply) {\n                        setTimeout(() => {\n                            style.transition = transition;\n                        }, 0);\n                    }\n                    else {\n                        style.transition = transition;\n                    }\n                    body.setAttribute('n-styled', '');\n                    styleApplied = true;\n                    firstApply = false;\n                }\n                else if (process.env.NODE_ENV !== 'production') {\n                    warn('global-style', 'More than one n-global-style exist in the document.body. Only the first mounted one will work.');\n                }\n            });\n        });\n        onUnmounted(() => {\n            if (styleApplied) {\n                body.removeAttribute('n-styled');\n            }\n        });\n    },\n    render() {\n        return null;\n    }\n});\n"]},"metadata":{},"sourceType":"module"}