{"ast":null,"code":"import { defineComponent, ref } from \"vue\";\nexport default defineComponent({\n  methods: {\n    usernameOnBluer() {\n      if (this.username == '') {\n        this.wrong1 = true;\n        this.loginWrongText1 = '用户名不能为空';\n      } else {\n        this.wrong1 = false;\n        this.loginWrongText1 = '';\n      }\n    },\n\n    passwordOnBluer() {\n      var reg = /^(?=.*[0-9])(?=.*[a-zA-Z]).{6,16}$/;\n\n      if (this.password == '') {\n        this.wrong2 = true;\n        this.loginWrongText2 = '密码不能为空';\n      } else if (!reg.test(this.password)) {\n        this.wrong2 = true;\n        this.loginWrongText2 = '密码必须包含字母、数字、且位于6-16位之间';\n      } else {\n        this.wrong2 = false;\n        this.loginWrongText2 = '';\n      }\n    },\n\n    repeatPasswordOnBluer() {\n      if (this.repeatPassword == '') {\n        this.wrong3 = true;\n        this.loginWrongText3 = '确认密码不能为空';\n      } else if (this.password == this.repeatPassword) {\n        this.wrong3 = false;\n        this.loginWrongText3 = '';\n      } else {\n        this.wrong3 = true;\n        this.loginWrongText3 = '确认密码与密码不一致';\n      }\n    },\n\n    postUser(username, password) {\n      //axios发送AJAX请求\n      this.axios.post('/api/register', //url\n      {\n        \"username\": username,\n        \"password\": password\n      }).then(response => {\n        console.log(response);\n      }).catch(response => {\n        console.log(response);\n      });\n    }\n\n  },\n\n  data() {\n    return {\n      username: '',\n      password: '',\n      repeatpassword: '',\n      wrong1: false,\n      wrong2: false,\n      wrong3: false,\n      loginWrongText1: '',\n      loginWrongText2: '',\n      loginWrongText3: ''\n    };\n  },\n\n  setup() {\n    function funRegister() {\n      if (this.wrong1 === false && this.wrong2 === false && this.wrong3 === false) {\n        alert('register request posted!');\n        this.$store.state.username = this.username;\n        this.$store.state.password = this.password; //发送ajax请求 post方法\n        //发送 this.username this.password\n\n        this.postUser(this.username, this.password); //接收回调 注册成功\n\n        alert('register completed!');\n        this.$store.state.username = null;\n        this.$store.state.password = null;\n      }\n    }\n\n    return {\n      funRegister,\n      bodyStyle: {\n        width: \"600px\"\n      },\n      segmented: {\n        content: \"soft\",\n        footer: \"soft\"\n      },\n      showModal: ref(false)\n    };\n  }\n\n});","map":{"version":3,"mappings":"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","names":["defineComponent","ref","methods","usernameOnBluer","username","wrong1","loginWrongText1","passwordOnBluer","reg","password","wrong2","loginWrongText2","test","repeatPasswordOnBluer","repeatPassword","wrong3","loginWrongText3","postUser","axios","post","then","response","console","log","catch","data","repeatpassword","setup","funRegister","alert","$store","state","bodyStyle","width","segmented","content","footer","showModal"],"sourceRoot":"","sources":["G:\\VUE_FDS\\fluent-vue\\src\\components\\DialogContent\\ContentRegister.vue"],"sourcesContent":["<template>\r\n<div class=\"register-div\">\r\n<div class=\"button-register\" @click=\"showModal=true\">注册</div></div>\r\n  <n-modal\r\n    v-model:show=\"showModal\"\r\n    class=\"custom-card\"\r\n    preset=\"card\"\r\n    :style=\"bodyStyle\"\r\n    title=\"用户注册\"\r\n    size=\"huge\"\r\n    :mask-closable=\"false\"\r\n    :bordered=\"false\"\r\n    :segmented=\"segmented\"\r\n  >\r\n    <template #header-extra>\r\n    </template>\r\n    <div>\r\n      <div class=\"r-modal-div\">\r\n        <div class=\"register-input-headtext\">用户名：</div>\r\n        <input class=\"register-input\" type=\"text\" v-model=\"username\" placeholder=\"在此处输入用户名\" @blur=\"usernameOnBluer\"/>\r\n        <div v-show=\"this.wrong1==true\" class=\"wrong-text\">{{loginWrongText1}}</div>\r\n      </div>\r\n      <div class=\"r-modal-div\">\r\n        <div class=\"register-input-headtext\">密码：</div>\r\n        <input class=\"register-input\" type=\"password\" v-model=\"password\" placeholder=\"在此处输入密码\" @blur=\"passwordOnBluer();repeatPasswordOnBluer()\"/>\r\n        <div v-show=\"this.wrong2==true\" class=\"wrong-text\">{{loginWrongText2}}</div>\r\n      </div>\r\n      <div class=\"r-modal-div\">\r\n        <div class=\"register-input-headtext\">确认密码：</div>\r\n        <input class=\"register-input\" type=\"password\" v-model=\"repeatPassword\" placeholder=\"在此处输入确认密码\" @blur=\"repeatPasswordOnBluer();passwordOnBluer()\"/>\r\n        <div v-show=\"this.wrong3==true\" class=\"wrong-text\">{{loginWrongText3}}</div>\r\n      </div>\r\n\r\n    </div>\r\n      <div class=\"register-footer-div\">\r\n      <button class=\"register-button\" @click=\"showModal=false\">取消</button>\r\n      <button class=\"register-button\" @click=\"funRegister\">确认</button>\r\n      </div>\r\n  </n-modal>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  methods: {\r\n     usernameOnBluer(){\r\n      if(this.username==''){this.wrong1=true;this.loginWrongText1='用户名不能为空'}\r\n      else {this.wrong1=false;this.loginWrongText1='';}\r\n\r\n    },\r\n    passwordOnBluer(){\r\n      var reg= /^(?=.*[0-9])(?=.*[a-zA-Z]).{6,16}$/;\r\n      if(this.password==''){this.wrong2=true;this.loginWrongText2='密码不能为空'}\r\n      else if(!reg.test(this.password)){this.wrong2=true;this.loginWrongText2='密码必须包含字母、数字、且位于6-16位之间'}\r\n      else{this.wrong2=false;this.loginWrongText2='';}\r\n    },\r\n    repeatPasswordOnBluer(){\r\n      if(this.repeatPassword==''){this.wrong3=true;this.loginWrongText3='确认密码不能为空'}\r\n      else if(this.password==this.repeatPassword){this.wrong3=false;this.loginWrongText3='';}\r\n      else{this.wrong3=true;this.loginWrongText3='确认密码与密码不一致'}\r\n    },\r\n    postUser(username,password){//axios发送AJAX请求\r\n      this.axios.post('/api/register',//url\r\n      {\"username\":username,\"password\":password\r\n      }).then((response)=>{\r\n        console.log( response)\r\n      }).catch((response)=>{\r\n        console.log( response)\r\n      })\r\n\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n    username:'',\r\n    password:'',\r\n    repeatpassword:'',\r\n    wrong1:false,\r\n    wrong2:false,\r\n    wrong3:false,\r\n    loginWrongText1:'',\r\n    loginWrongText2:'',\r\n    loginWrongText3:'',\r\n    }\r\n  },\r\n  setup() {\r\n      function funRegister(){\r\n        if(this.wrong1===false&&this.wrong2===false&&this.wrong3===false){\r\n          alert('register request posted!')\r\n          this.$store.state.username=this.username;\r\n          this.$store.state.password=this.password;\r\n          //发送ajax请求 post方法\r\n          //发送 this.username this.password\r\n          this.postUser(this.username,this.password)\r\n\r\n\r\n          //接收回调 注册成功\r\n          alert('register completed!');\r\n          this.$store.state.username=null;\r\n          this.$store.state.password=null;\r\n        }\r\n      }\r\n    return {\r\n      funRegister,\r\n      bodyStyle: {\r\n        width: \"600px\"\r\n      },\r\n      segmented: {\r\n        content: \"soft\",\r\n        footer: \"soft\"\r\n      },\r\n      showModal: ref(false)\r\n    };\r\n  }\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n.button-register{\r\ntext-align:center;\r\nheight:30px;\r\nwidth:100%;\r\nlist-style: none;\r\ncursor:pointer;\r\n line-height:30px;\r\n}\r\n\r\n.register-div div:hover{\r\nbackground-color:#dcdfe6\r\n}\r\n\r\n.r-modal-div{\r\nheight:80px;\r\nwidth:100%;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n.register-input{\r\nheight:40px;\r\ndisplay:inline-block;\r\nwidth:190px;\r\nmargin-left:20px;\r\n}\r\n\r\n.wrong-text{\r\n  color:red;\r\n  width:150px;\r\n  height:40px;\r\n  margin-left:10px;\r\n  font-size:14px;\r\ndisplay:flex;\r\njustify-content:left;\r\nalign-items:center;\r\n}\r\n\r\n\r\n.register-input-headtext{\r\nwidth:100px;\r\nheight:40px;\r\nmargin-left:40px;\r\nfont-size:18px;\r\n}\r\n\r\n.register-button{\r\nwidth:60px;\r\nheight:30px;\r\nmargin-left:40px;\r\nmargin-right:40px;\r\n}\r\n\r\n.register-footer-div{\r\n  height:60px;\r\n  margin-top:20px;\r\n  display:flex;\r\n  justify-content:center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}